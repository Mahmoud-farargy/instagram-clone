{"version":3,"sources":["Components/HOC/Auxiliary.js","Config/firebase.js","Context.js","Components/NotificationsOutput/NotificationsOutput.js","Components/Header/Header.js","Components/Comment/Comment.js","Components/Post/Post.js","Components/SuggestItem/SuggestItem.js","Pages/AuthPage/AuthPage.js","Pages/Home/Home.js","Pages/AddNewPost/AddNewPost.js","Pages/UsersProfile/UsersProfile.js","Pages/PostPage/PostPage.js","Pages/Messages/Messages.js","Components/MobileNav/MobileNav.js","Pages/MobileNotifications/MobileNotifications.js","Components/UsersModal/ModalListItem/ModalListItem.js","Components/UsersModal/UsersModal.js","Pages/MyProfile/MyProfile.js","Components/CommentsModal/CommentsModal.js","Components/App/App.js","index.js","Assets/instagram-video.png","Assets/get-app-apple.png","Assets/get-app-gp.png"],"names":["Auxiliary","props","children","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","db","firestore","auth","storage","storageRef","ref","GoogleAuthProvider","PhoneAuthProvider","FacebookAuthProvider","TwitterAuthProvider","AppContext","React","createContext","AppProvider","updatedReceivedData","data","collection","doc","state","uid","onSnapshot","setState","receivedData","updateParts","stateBase","newState","updateAbility","withNotifications","update","then","handleMyLikes","boolean","postIndex","userName","userAvatarUrl","dataCopy","JSON","parse","stringify","posts","likesArr","likes","people","push","id","date","Date","splice","currIndex","find","item","i","getPeopleIndex","Array","from","Set","map","itemId","myId","el","handlePeopleLikes","postOwnerId","contentURL","contentType","get","items","unupdatedPosts","unupdatedNoti","notifications","notiCopy","isUpdate","generatedID","generateNewId","notiId","list","unshift","type","notiText","currentI","indexOf","ID","updateUserState","isUserOnline","updateUID","UID","changeMainState","property","newValue","handleSubComments","commentInfo","commentText","updatingAbility","commentIndex","postId","noti","postsCopy","matchedIndex","comments","subComments","senderName","alert","closeNotificationAlert","handleLikingComments","index","notiIndex","console","log","char1","char2","char3","char4","char5","char6","charRandom","Math","floor","random","suggestionsList","initialSuggestions","usersProfileData","currentPostIndex","openUsersModal","usersModalList","igVideoImg","openCommentsModal","sugs","this","suggestList","ownership","comment","postDate","ownerId","myPostsCopy","oldPosts","theirPostsCopy","path","child","delete","snapshot","signOut","resetAllData","receiverUid","receiverName","receiverAvatarUrl","senderUid","senderAvatarUrl","unupdatedReceiversData","followers","unupdatedSendersData","following","receiversCopy","sendersCopy","currIndex2","newReceiversCopy","newSendersCopy","textMsg","myUid","myData","messages","chatLog","isNewMsg","receiversAvatarUrl","filter","newCopy","unupdatedreceiversData","contentPath","myPosts","deleteContentFromFB","Provider","value","bind","handleSubmittingComments","updateSuggestionsList","getUsersProfile","authLogout","handleFollowing","handleSendingMessage","initializeChatDialog","handleUsersModal","handleCommentsModal","deletePost","PureComponent","Consumer","withRouter","useState","isFollowed","setFollowingState","notification","useEffect","user","key","className","Avatar","src","onClick","history","Truncate","line","ellipsis","dateTime","style","textOverflow","seconds","toLocaleString","disabled","context","useContext","openNoti","setNoti","openProf","setProf","useAuthState","reverseNotiState","notiUpdate","notiMsg","to","exact","activeClassName","fontSize","alignItems","location","pathname","color","length","display","transition","opacity","textAlign","alt","window","reload","Commment","replayFunc","myName","userAvatar","viewSubComments","setSubComments","postLiked","setPostLiked","animation","cursor","subComment","Post","handleCurrLikes","doubleClickEvent","currCount","btnClicks","prevState","resetCounter","doubleLikeClicked","setTimeout","inputField","createRef","insertedComment","viewFullCaption","showFullComments","openOptionsModal","showInputForm","replayData","likesCheck","prevProps","v","preventDefault","test","postOwnerName","current","focus","caption","contentName","isVerified","tabIndex","aria-disabled","role","whiteSpace","wordBreak","flexWrap","draggable","controls","Comment","slice","onSubmit","e","submitComment","onChange","event","target","placeholder","SuggestItem","followingState","userUid","browseUser","loading","signUpState","switchToSignUp","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signUpUsername","setSignUpUsername","loginEmail","setLoginEmail","loginPassword","setLoginPassword","getPasswordMode","setPasswordMode","submitForm","authType","a","createUserWithEmailAndPassword","cred","set","bio","websiteUrl","homePosts","latestLikedPosts","savedposts","stories","res","catch","err","message","signInWithEmailAndPassword","onAuthStateChanged","authUser","query","forEach","required","autoFocus","sendPasswordResetEmail","appleStore","gpStore","specialUid","post","Skeleton","variant","width","paddingTop","height","url","containerTagName","AddNewPost","insertedCaption","progressBarPercentage","uploading","postingPhase","componentDidMount","componentDidUpdate","handleFileChange","w","uploadedItem","files","metadata","size","name","put","on","progress","round","bytesTransferred","totalBytes","error","resetState","getDownloadURL","x","onSubmitPost","LinearProgress","valueBuffer","Button","onCancel","contextType","grid","setGrid","username","avatarUrl","borderTop","redirectToPost","CircularProgress","thickness","PostPage","postsData","currtData","Messages","$","document","ready","each","removeClass","addClass","autoScroll","scrollIntoView","behavior","selectEmoji","emojiText","inputValue","loadedChatLog","currentUserIndex","openSidedrawer","showEmojis","currUser","currentUID","loadedIndex","msg","viewUsersMessages","flex","fontWeight","transform","submitMessage","Component","MobileNotifications","_","UsersModal","output","CommentsModal","App","unsubscribe","css","component","AuthPage","mainApp","ReactDOM","render","getElementById","module","exports"],"mappings":"yLAEeA,EAFG,SAACC,GAAD,OAAWA,EAAMC,U,wHCc5BC,EAAcC,IAASC,cAXT,CACjBC,OAAQ,0CACRC,WAAY,wCACZC,YAAa,+CACbC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIlBT,IAASU,YAER,IAAMC,EAAKZ,EAAYa,YACjBC,EAAOb,IAASa,OAChBC,EAAUd,IAASc,UACnBC,EAAaD,EAAQE,M,GACJ,IAAIhB,IAASa,KAAKI,mBACnB,IAAIjB,IAASa,KAAKK,kBACf,IAAIlB,IAASa,KAAKM,qBACnB,IAAInB,IAASa,KAAKO,oB,gBCnBlCC,G,MAAaC,IAAMC,iBAEvBC,E,kDACF,WAAY3B,GAAO,IAAD,8BACd,cAAMA,IAgBV4B,oBAAoB,SAACC,GACjBf,EAAGgB,WAAW,SAASC,IAAI,EAAKC,MAAMC,KAAKC,YAAW,SAAAL,GAE9C,EAAKM,SAAL,2BACO,EAAKH,OADZ,IAEII,aAAcP,EAAKA,cAtBjB,EAoClBQ,YAAY,SAACJ,EAAKK,EAAWC,EAAWC,EAAeC,GASrC,IAAD,EARoB,KAAtBA,EACA3B,EAAGgB,WAAW,SAASC,IAAIE,GAAKS,OAAhC,eACQJ,EAAYC,IAClBI,MAAK,WAAK,IAAD,GACa,IAAlBH,GAA0BP,KAAG,UAAK,EAAKD,MAAMI,oBAAhB,aAAK,EAAyBH,MAC1D,EAAKL,yBAIXd,EAAGgB,WAAW,SAASC,IAAIE,GAAKS,QAAhC,mBACKJ,EAAYC,GADjB,8BAEmBE,GAFnB,IAGGE,MAAK,WAAK,IAAD,GACa,IAAlBH,GAA0BP,KAAG,UAAK,EAAKD,MAAMI,oBAAhB,aAAK,EAAyBH,MAC1D,EAAKL,0BAnDX,EA0DlBgB,cAAc,SAACC,EAASC,EAAWb,EAAKc,EAAUC,GAAiB,IAAD,EACtDC,EAAWC,KAAKC,MAAMD,KAAKE,UAAL,UAAe,EAAKpB,MAAMI,oBAA1B,aAAe,EAAyBiB,QAC9DC,EAAWL,EAASH,GAAWS,MAUnCV,EAAUS,EAASE,OAAOC,KAAK,CAACC,GAAIzB,EAAKc,SAAUA,EAAWC,cAAgBA,EAAeW,KAAM,IAAIC,OAAWN,EAASE,OAAOK,OATlI,WACI,IAAIC,EAKJ,OAJAR,EAASE,OAAOO,MAAK,SAACC,EAAMC,GAExB,OADAH,EAAYG,EACJD,EAAKN,KAAOzB,KAEjB6B,EAG8HI,GAAiB,GAC1JZ,EAASE,OAASW,MAAMC,KAAK,IAAIC,IAAIf,EAASE,OAAOc,KAAI,SAAAC,GAAM,OAAIA,EAAOb,QAAMY,KAAI,SAAAE,GAAI,OAAIlB,EAASE,OAAOO,MAAK,SAAAU,GAAE,OAAIA,EAAGf,KAAOc,QACjI,EAAKnC,YAAYJ,EAAK,QAASgB,GAAU,EAAM,KAxErC,EA2ElByB,kBAAkB,SAAC7B,EAASC,EAAW6B,EAAa5B,EAAUC,EAAewB,EAAMI,EAAYC,GAE3F/D,EAAGgB,WAAW,SAASC,IAAI4C,GAAaG,MAAMnC,MAAK,SAAAoC,GAC/C,IAAIC,EAAkBD,EAAMlD,OAAOwB,MAC/B4B,EAAgBF,EAAMlD,OAAOqD,cAE7BjC,EAAWC,KAAKC,MAAMD,KAAKE,UAAU4B,IACrCG,EAAWjC,KAAKC,MAAMD,KAAKE,UAAU6B,IAErC3B,EAAWL,EAASH,GAAWS,MASnC,GAAGV,EAAQ,CACPsC,EAASC,UAAW,EACpB,IAAMC,EAAc,EAAKC,gBACzBhC,EAASE,OAAOC,KAAK,CAACC,GAAIc,EAAMzB,SAAUA,EAAWwC,OAAQF,EAAarC,cAAgBA,EAAeW,KAAM,IAAIC,OACnHuB,EAASK,KAAKC,QAAQ,CAACxD,IAAKuC,EAC5BzB,SAAU4B,IAAgBH,EAAO,MAAQzB,EACzCC,cAAeA,EACfuC,OAAQF,EACR1B,KAAM,IAAIC,KACViB,cACAD,aACAc,KAAK,OACLC,SAAS,cAAD,OAAgBd,EAAhB,gBACN,IAAIhC,EAAQ,CAAC,IAAD,IACdS,EAASE,OAAOK,OAtBpB,WACI,IAAIC,EAKJ,OAJAR,EAASE,OAAOO,MAAK,SAACC,EAAMC,GAExB,OADAH,EAAYG,EACJD,EAAKN,KAAOc,KAEjBV,EAgBgBI,GAAiB,GACxC,IAAM0B,EAAQ,UAAGT,EAASK,YAAZ,aAAG,EAAelB,KAAI,SAAAG,GAChC,OAAOA,EAAGc,UACXM,QAFc,UAENvC,EAASE,cAFH,aAEN,EAAiB+B,SACX,IAAdK,GACCT,EAASK,KAAK3B,OAAO+B,EAAU,GAOvCtC,EAASE,OAASW,MAAMC,KAAK,IAAIC,IAAIf,EAASE,OAAOc,KAAI,SAAAC,GAAM,OAAIA,EAAOb,QAAMY,KAAI,SAAAwB,GAAE,OAAIxC,EAASE,OAAOO,MAAK,SAAAU,GAAE,OAAIA,EAAGf,KAAOoC,QAE/HX,EAASK,KAAOrB,MAAMC,KAAK,IAAIC,IAAIc,EAASK,KAAKlB,KAAI,SAAAC,GAAM,OAAIA,EAAOtC,SAAOqC,KAAI,SAAAwB,GAAE,OAAIX,EAASK,KAAKzB,MAAK,SAAAU,GAAE,OAAIA,EAAGxC,MAAQ6D,QAEnH,EAAKzD,YAAYsC,EAAa,QAAS1B,GAAU,EAAOkC,OA3HtD,EA0LlBY,gBAAgB,SAAC/D,GACb,EAAKG,SAAL,2BACO,EAAKH,OADZ,IAEIgE,aAAchE,MA7LJ,EAgMlBiE,UAAU,SAACC,GACP,EAAK/D,SAAL,2BACO,EAAKH,OADZ,IAEIC,IAAKiE,MAnMK,EAsMlBC,gBAAgB,SAACC,EAAUC,GACvB,EAAKlE,SAAL,2BACO,EAAKH,OADZ,kBAEKoE,EAAWC,MAzMF,EA6MlBC,kBAAkB,SAACC,EAAaC,EAAaxD,EAAeyD,EAAiB7B,EAAYC,GAAe,IAC7F6B,EAAiDH,EAAjDG,aAAc5D,EAAmCyD,EAAnCzD,UAAW6D,EAAwBJ,EAAxBI,OAAQhC,EAAgB4B,EAAhB5B,YACxC7D,EAAGgB,WAAW,SAASC,IAAI4C,GAAaG,MAAMnC,MAAK,SAAEoC,GACjD,IAAIC,EAAiBD,EAAMlD,OAAOwB,MAC9BuD,EAAO7B,EAAMlD,OAAOqD,cAClB2B,EAAY3D,KAAKC,MAAMD,KAAKE,UAAU4B,IACtCG,EAAWjC,KAAKC,MAAMD,KAAKE,UAAUwD,IAEtCE,EAAeD,EAAUvC,KAAI,SAAAG,GAC1B,OAAOA,EAAGf,MACXmC,QAAQc,GACd,GAAG7D,IAAcgE,EAAa,CAAC,IAAD,EAGS,IAFhCvB,EAAS,EAAKD,gBAEhB,GADDuB,EAAU/D,GAAWiE,SAASL,GAAcM,YAAYvD,KAAK,CAAC+C,YAAaA,EAAaG,OAAQA,EAAQhC,YAAaA,EAAcsC,WAAU,UAAE,EAAKjF,MAAMI,oBAAb,aAAE,EAAyBW,SAAUC,cAAeA,EAAeuC,OAAQA,EAAQ5B,KAAM,IAAIC,OACtOe,IAAgB,EAAK3C,MAAMC,IAC3BkD,EAASC,UAAW,EACpBD,EAASK,KAAKC,QAAQ,CACnBxD,IAAK,EAAKD,MAAMC,IAChBc,SAAU4B,IAAgB,EAAK3C,MAAMC,IAAM,MAAjC,UAAyC,EAAKD,MAAMI,oBAApD,aAAyC,EAAyBW,SAC5EwC,SACAX,aACAC,cACA7B,cAAa,UAAE,EAAKhB,MAAMI,oBAAb,aAAE,EAAyBY,cACxCW,KAAM,IAAIC,KACV+B,SAAS,+BAAD,OAAiCa,GACzCd,KAAM,gBAGb,EAAKrD,YAAYsC,EAAY,QAASkC,EAAWJ,EAAiBtB,QAElE+B,MAAM,mDA3OD,EAkPlBC,uBAAuB,SAACnF,GAAS,IAAD,EACtBmD,EAAUjC,KAAKC,MAAMD,KAAKE,UAAL,UAAe,EAAKpB,MAAMI,oBAA1B,aAAe,EAAyB8C,gBACnEC,EAASnD,IAAS,EAClB,EAAKK,YAAY,EAAKL,MAAMC,IAAI,gBAAiBkD,GAAU,EAAK,KArPlD,EAuPlBiC,qBAAqB,SAACvE,EAAQC,EAAW6B,EAAa5B,EAAUC,EAAewB,EAAMkC,EAAcF,EAAY5B,EAAYC,GAEvH/D,EAAGgB,WAAW,SAASC,IAAI4C,GAAaG,MAAMnC,MAAK,SAAAoC,GAAS,IAAD,IACnDC,EAAc,UAAID,EAAMlD,cAAV,aAAI,EAAcwB,MAChCuD,EAAI,UAAG7B,EAAMlD,cAAT,aAAG,EAAcqD,cACrBjC,EAAWC,KAAKC,MAAMD,KAAKE,UAAU4B,IACrCG,EAAWjC,KAAKC,MAAMD,KAAKE,UAAUwD,IAErCtD,EAAWL,EAASH,GAAWiE,SAASL,GAC5C,GAAG1B,GAAkB1B,EAAS,CAC1B,GAAGT,EAAQ,CAAC,IAAD,EACHwC,EAAc,EAAKC,gBACvBhC,EAASC,MAAME,KAAK,CAACC,GAAIc,EAAMzB,SAAUA,EAAWC,cAAgBA,EAAeuC,OAAQF,EAAa1B,KAAM,IAAIC,OAClHuB,EAASC,UAAW,EACpBD,EAASK,KAAKC,QAAQ,CAClBxD,IAAKuC,EACLe,OAAQF,EACRtC,SAAU4B,IAAgBH,EAAO,MAAQzB,EACzCY,KAAM,IAAIC,KACVZ,cAAa,UAAE,EAAKhB,MAAMI,oBAAb,aAAE,EAAyBY,cACxC2C,SAAS,uBAAD,OAAyBa,GACjCd,KAAM,eACNd,aACAC,oBAEH,CAAC,IAAD,EACCwC,EAAK,UAAG/D,EAASC,aAAZ,aAAG,EAAgBe,KAAI,SAAAG,GAC9B,OAAOA,EAAGf,MACPmC,QAAQrB,GACX,IAAc,IAAX6C,EAAa,CAAC,IAAD,IACRC,EAAS,UAAGnC,EAASK,YAAZ,aAAG,EAAelB,KAAI,SAAAG,GAE/B,OADD8C,QAAQC,IAAI/C,EAAGc,OAAOjC,EAASC,OACvBkB,EAAGc,UACZM,QAHc,UAGNvC,EAASC,aAHH,aAGN,EAAgBgC,SACR,IAAf+B,GACCnC,EAASK,KAAK3B,OAAOyD,EAAU,GAInChE,EAASC,MAAMM,OAAOwD,EAAM,QAI5BH,MAAM,mBAKd5D,EAASC,MAAQY,MAAMC,KAAK,IAAIC,IAAIf,EAASC,MAAMe,KAAI,SAAAC,GAAM,OAAIA,EAAOb,QAAMY,KAAI,SAAAwB,GAAE,OAAIxC,EAASC,MAAMQ,MAAK,SAAAU,GAAE,OAAIA,EAAGf,KAAOoC,QAE5H,EAAKzD,YAAYsC,EAAa,QAAS1B,GAAU,EAAOkC,QAzSlD,EAkalBG,cAAe,WAUX,IATA,IAAImC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAY,WACd,OAAOC,KAAKC,MAAsB,EAAfD,KAAKE,SAAc,IAEhCjE,EAAI,EAAGA,EAAE,EAAIA,IAEnB,OADA8D,IACQA,KACN,KAAK,EACHN,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,QACEC,EAAQ,IAQd,OAHSL,EAAQC,EAAQC,EAAuB,KAAfK,KAAKE,SAAgB,EAAIN,EAAQC,EAAQC,GAlc1E,EAAK9F,MAAM,CACPI,aAAc,GACdH,IAAK,GACLkG,gBAAiB,GACjBC,mBAAmB,GACnBpC,cAAc,EACdqC,iBAAkB,GAClBC,iBAAkB,GAClBC,gBAAgB,EAChBC,eAAgB,GAChBC,WAAYA,IACZC,mBAAmB,GAbT,E,kEA2BI7G,GAClB,IAAI8G,EAAOC,KAAK5G,MAAMoG,mBACtBO,EAAKlD,QAAQ5D,GACb,IAAIgH,EAAe1E,MAAMC,KAAK,IAAIC,IAAJ,OAAQsE,QAAR,IAAQA,OAAR,EAAQA,EAAMrE,KAAI,SAAAC,GAAM,OAAIA,EAAOtC,SAAOqC,KAAI,SAAAwB,GAAE,cAAI6C,QAAJ,IAAIA,OAAJ,EAAIA,EAAM5E,MAAK,SAAAU,GAAE,OAAIA,EAAGxC,MAAQ6D,QAC1G8C,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEImG,gBAAiBU,O,qCA8FzBD,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEII,aAAc,GACdH,IAAK,GACLkG,gBAAiB,GACjBnC,cAAc,EACdqC,iBAAkB,GAClBC,iBAAkB,Q,+CAKDQ,EAAUzB,EAAM7C,EAAMzB,EAASgG,EAAS/F,EAAegG,EAAUrC,EAAQsC,EAASrE,EAAYC,GAAa,IAAD,OAGhI,GAAiB,SAAdiE,EAAqB,CACpB,IAAII,EAAchG,KAAKC,MAAMD,KAAKE,UAAUwF,KAAK5G,MAAMI,aAAaiB,QACpE6F,EAAY7B,GAAON,SAAStD,KAAK,CAACsF,QAASA,EAAS9G,IAAKuC,EAAMxB,cAAeA,EAAeD,SAAUA,EAAUiG,SAAU,IAAIpF,KAAQ+C,OAAQA,EAAQsC,UAAS1F,MAAM,GAAIyD,YAAa,KAEvL4B,KAAKvG,YAAYmC,EAAM,QAAS0E,GAAa,EAAK,QAC/B,WAAdJ,GACLhI,EAAGgB,WAAW,SAASC,IAAIkH,GAASnE,MAAMnC,MAAK,SAAAoC,GAAS,IAAD,EACnDoE,EAAWpE,EAAMlD,OAAOwB,MACxBuD,EAAO7B,EAAMlD,OAAOqD,cACpBkE,EAAiBlG,KAAKC,MAAMD,KAAKE,UAAU+F,IAC3ChE,EAAWjC,KAAKC,MAAMD,KAAKE,UAAUwD,IACnCvB,EAAc,EAAKC,gBACzB8D,EAAe/B,GAAON,SAAStD,KAAK,CAACsF,QAASA,EAAS9G,IAAKuC,EAAMxB,cAAeA,EAAeD,SAAUA,EAAUiG,SAAU,IAAIpF,KAAQ+C,OAAQA,EAAQsC,QAASA,EAAS1F,MAAM,GAAIyD,YAAa,GAAIzB,OAAQF,IAC/MF,EAASC,UAAW,EACpBD,EAASK,KAAKC,QAAQ,CAClBxD,IAAKuC,EACLzB,SAAUkG,IAAYzE,EAAO,MAAQzB,EACrCC,cAAa,UAAE,EAAKhB,MAAMI,oBAAb,aAAE,EAAyBY,cACxCW,KAAM,IAAIC,KACV2B,OAAQF,EACRT,aACAC,cACAc,SAAS,qBAAD,OAAuBd,EAAvB,kBAA4CkE,EAA5C,KACRrD,KAAM,YAGV,EAAKrD,YAAY4G,EAAS,QAASG,GAAgB,EAAMjE,Q,0CAM5CkE,GAClBnI,EAAWoI,MAAX,kBAA4BD,IAAQE,W,sCAEtBtH,GAAK,IAAD,OAChBnB,EAAGgB,WAAW,SAASC,IAAIE,GAAKC,YAAW,SAAAsH,GACvC,EAAKrH,SAAL,2BACO,EAAKH,OADZ,IAEIqG,iBAAkBmB,EAAS3H,e,mCA0HnCb,EAAKyI,UACLb,KAAKc,iB,sCAEO1H,EAAO2H,EAAaC,EAAcC,EAAmBC,EAAW7C,EAAY8C,GAAiB,IAAD,OACxGjJ,EAAGgB,WAAW,SAASC,IAAI4H,GAAa7E,MAAMnC,MAAK,SAAAoC,GAAQ,IAAD,MAClDiF,EAAsB,UAAGjF,EAAMlD,cAAT,aAAG,EAAcoI,UACvCC,EAAoB,UAAG,EAAKlI,MAAMI,oBAAd,aAAG,EAAyB+H,UAChDvD,EAAI,UAAG7B,EAAMlD,cAAT,aAAG,EAAcqD,cACrBkF,EAAgBlH,KAAKC,MAAMD,KAAKE,UAAU4G,IAC1CK,EAAcnH,KAAKC,MAAMD,KAAKE,UAAU8G,IACxC/E,EAAYjC,KAAKC,MAAMD,KAAKE,UAAUwD,IACtC,GAAI5E,GAiCE,GAAGA,EAAM,CAGf,IAAM8B,EAAS,OAAGkG,QAAH,IAAGA,OAAH,EAAGA,EAAwB1F,KAAI,SAAAN,GAC1C,OAAOA,EAAK8F,aACbjE,QAAQiE,GAGV,IAAkB,IAAfhG,EAAiB,CAAC,IAAD,EACXwD,EAAS,UAAGnC,EAASK,YAAZ,aAAG,EAAelB,KAAI,SAAAG,GACjC,OAAOA,EAAGc,UACXM,QAAQmE,EAAuBlG,GAAWyB,QAG7C6E,EAAcvG,OAAOC,EAAW,IAGd,IAAfwD,GACCnC,EAASK,KAAK3B,OAAOyD,EAAU,GAInC,EAAKjF,YAAYsH,EAAa,YAAaS,GAAe,EAAOjF,QAEjE+B,MAAM,WAGV,IAAMoD,EAAU,OAAGJ,QAAH,IAAGA,OAAH,EAAGA,EAAsB5F,KAAI,SAAAN,GACzC,OAAOA,EAAK2F,eACb9D,QAAQ8D,GAEXU,EAAYxG,OAAOyG,EAAW,GAC9B,EAAKjI,YAAYyH,EAAW,YAAaO,GAAa,EAAK,UA9DvD,GAAIV,IAAgBG,EAAU,CACtB,IAAMzE,EAAc,EAAKC,gBAEzB8E,EAAc3G,KAAK,CAACqG,YAAW7C,aAAY8C,kBAAiBxE,OAAQF,EAAa1B,KAAM,IAAIC,OAC3F,IAAI2G,EAAmBpG,MAAMC,KAAK,IAAIC,IAAK+F,EAAc9F,KAAI,SAAAN,GAAI,OAAIA,EAAK8F,eAC7DxF,KAAI,SAAAZ,GACD,OAAQ0G,EAAcrG,MAAK,SAAAU,GAAE,OAAIA,EAAGqF,YAAcpG,QAElEyB,EAASC,UAAW,EACpBD,EAASK,KAAKC,QAAQ,CAClBF,OAAQF,EACRtC,SAAUkE,EACVhF,IAAK6H,EACLnG,KAAM,IAAIC,KACV8B,KAAM,SACN1C,cAAe+G,EACfpE,SAAS,0BAEb,EAAKtD,YAAYsH,EAAa,YAAaY,GAAkB,EAAOpF,GAGpEkF,EAAY5G,KAAK,CAACkG,cAAaC,eAAcC,oBAAmBlG,KAAM,IAAIC,OAC1E,IAAI4G,EAAiBrG,MAAMC,KAAK,IAAIC,IAAKgG,EAAY/F,KAAI,SAAAN,GAAI,OAAIA,EAAK2F,iBACzDrF,KAAI,SAAAZ,GACD,OAAQ2G,EAAYtG,MAAK,SAAAU,GAAE,OAAIA,EAAGkF,cAAgBjG,QAElE,EAAKrB,YAAYyH,EAAW,YAAaU,GAAgB,EAAK,SAEjEtD,MAAM,0C,2CAwCNuD,EAASxI,EAAKyD,GAAM,IAAD,OAC9BgF,EAAQ9B,KAAK5G,MAAMC,IACzB,GAAGA,IAAQyI,EAAM,CAAC,IAAD,EAEHC,EAAS/B,KAAK5G,MAAMI,aACpB8H,EAAoB,UAAGtB,KAAK5G,MAAMI,oBAAd,aAAG,EAAyBwI,SAClDP,EAAcnH,KAAKC,MAAMD,KAAKE,UAAU8G,IAC5CpG,EAAYuG,EAAY/F,KAAI,SAAAN,GACpB,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAM/B,OAClB4D,QAAQ5D,GACXoI,EAAYvG,GAAW+G,QAAQpH,KAAK,CAACgH,UAASxI,IAAKyI,EAAO3H,SAAQ,OAAE4H,QAAF,IAAEA,OAAF,EAAEA,EAAQ5H,SAAUC,cAAa,OAAE2H,QAAF,IAAEA,OAAF,EAAEA,EAAQ3H,cAAeW,KAAM,IAAIC,KAAQ8B,KAAMA,IAEpJkD,KAAKvG,YAAYqI,EAAM,WAAYL,GAAa,EAAK,IAGzDvJ,EAAGgB,WAAW,SAASC,IAAIE,GAAK6C,MAAMnC,MAAM,SAAAoC,GAAQ,IAAD,IACzCiF,EAAsB,UAAGjF,EAAMlD,cAAT,aAAG,EAAc+I,SACvChE,EAAI,UAAG7B,EAAMlD,cAAT,aAAG,EAAcqD,cACvBkF,EAAgBlH,KAAKC,MAAMD,KAAKE,UAAU4G,IAC1C7E,EAAWjC,KAAKC,MAAMD,KAAKE,UAAUwD,IACrC9C,EAAS,OAAGsG,QAAH,IAAGA,OAAH,EAAGA,EAAe9F,KAAI,SAAAG,GAC/B,OAAOA,EAAGxC,OACX4D,QAAQ6E,GAEXvF,EAAS2F,UAAW,EACpBV,EAActG,GAAW+G,QAAQpH,KAAK,CAACgH,UAASxI,IAAKyI,EAAO3H,SAAQ,OAAE4H,QAAF,IAAEA,OAAF,EAAEA,EAAQ5H,SAAUC,cAAa,OAAE2H,QAAF,IAAEA,OAAF,EAAEA,EAAQ3H,cAAeW,KAAM,IAAIC,KAAQ8B,KAAMA,IACtJ,EAAKrD,YAAYJ,EAAI,WAAYmI,GAAe,EAAOjF,WAG3D+B,MAAM,iD,2CA2COjF,EAAK2H,EAAcmB,GAAoB,IAAD,SACvD,KAAG,UAAAnC,KAAK5G,MAAMI,oBAAX,eAAyBwI,SAASI,QAAQ,SAAAvG,GAAE,OAAGA,EAAGxC,MAAQA,KAAK,IAAkB,CAAC,IAAD,EAEtEiI,EAAoB,UAAGtB,KAAK5G,MAAMI,oBAAd,aAAG,EAAyBwI,SAClDP,EAAcnH,KAAKC,MAAMD,KAAKE,UAAU8G,IAC5CG,EAAY5G,KAAK,CAACxB,IAAKA,EAAKc,SAAU6G,EAAc5G,cAAe+H,EAAmBpH,KAAM,IAAIC,KAAQiH,QAAQ,KACpH,IAAII,EAAU9G,MAAMC,KAAK,IAAIC,IAAIgG,EAAY/F,KAAI,SAAAN,GAAI,OAAIA,EAAK/B,SACjDqC,KAAI,SAAAZ,GACD,OAAO2G,EAAYtG,MAAK,SAAAU,GAAE,OAAIA,EAAGxC,MAAQyB,QAErDkF,KAAKvG,YAAYuG,KAAK5G,MAAMC,IAAI,WAAYgJ,GAAS,EAAM,IAG/DnK,EAAGgB,WAAW,SAASC,IAAIE,GAAK6C,MAAMnC,MAAM,SAAAoC,GAAQ,IAAD,IACzCmG,EAAyBnG,EAAMlD,OAAO+I,SACxCR,EAAgBlH,KAAKC,MAAMD,KAAKE,UAAU8H,IAC9Cd,EAAc3G,KAAK,CAACxB,IAAK,EAAKD,MAAMC,IAAKc,SAAQ,UAAC,EAAKf,MAAMI,oBAAZ,aAAC,EAAyBW,SAAUC,cAAa,UAAE,EAAKhB,MAAMI,oBAAb,aAAE,EAAyBY,cAAcW,KAAM,IAAIC,KAAQiH,QAAQ,KACrK,IAAII,EAAU9G,MAAMC,KAAK,IAAIC,IAAI+F,EAAc9F,KAAI,SAAAN,GAAI,OAAIA,EAAK/B,SACvDqC,KAAI,SAAAZ,GACD,OAAO0G,EAAcrG,MAAK,SAAAU,GAAE,OAAIA,EAAGxC,MAAQyB,QAEvD,EAAKrB,YAAYJ,EAAI,WAAYgJ,GAAS,EAAM,U,uCAK3C1I,EAAUiD,EAAME,GAC7BkD,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEIuG,eAAgBhG,EAChBiG,eAAgBjG,EAAW,CAACmD,KAAMA,EAAMF,KAAMA,GAAQ,U,0CAG1C3C,GAChB+F,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEI0G,kBAAmB7F,O,iCAGhB8D,EAAQ7D,EAAWqI,GAAa,IAAD,EAChCC,EAAO,UAAGxC,KAAK5G,MAAMI,oBAAd,aAAG,EAAyBiB,MACrCwD,EAAY3D,KAAKC,MAAMD,KAAKE,UAAUgI,KAEzB,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAS9G,KAAI,SAAAG,GAC7B,OAAOA,EAAGf,MACXmC,QAAQc,MACW7D,IAClB+D,EAAUhD,OAAOf,EAAU,GAExBqI,GACCvC,KAAKyC,oBAAoBF,GAG7BvC,KAAKvG,YAAYuG,KAAK5G,MAAMC,IAAI,QAAS4E,GAAW,EAAK,IACzD+B,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEI0G,mBAAmB,KAEvBxB,MAAM,mB,+BAKV,OACI,kBAAC1F,EAAW8J,SAAZ,CAAqBC,MAAO,CACxBnJ,aAAcwG,KAAK5G,MAAMI,aACzBH,IAAK2G,KAAK5G,MAAMC,IAChBkG,gBAAiBS,KAAK5G,MAAMmG,gBAC5BE,iBAAkBO,KAAK5G,MAAMqG,iBAC7BC,iBAAkBM,KAAK5G,MAAMsG,iBAC7BC,eAAgBK,KAAK5G,MAAMuG,eAC3BC,eAAgBI,KAAK5G,MAAMwG,eAC3BC,WAAYG,KAAK5G,MAAMyG,WACvBC,kBAAmBE,KAAK5G,MAAM0G,kBAC9B1C,aAAc4C,KAAK5G,MAAMgE,aACzBpE,oBAAqBgH,KAAKhH,oBAAoB4J,KAAK5C,MACnD7C,gBAAiB6C,KAAK7C,gBAAgByF,KAAK5C,MAC3C3C,UAAW2C,KAAK3C,UAAUuF,KAAK5C,MAC/BhG,cAAegG,KAAKhG,cAAc4I,KAAK5C,MACvCyC,oBAAqBzC,KAAKyC,oBAAoBG,KAAK5C,MACnD6C,yBAA0B7C,KAAK6C,yBAAyBD,KAAK5C,MAC7D8C,sBAAuB9C,KAAK8C,sBAAsBF,KAAK5C,MACvD+C,gBAAiB/C,KAAK+C,gBAAgBH,KAAK5C,MAC3CzC,gBAAiByC,KAAKzC,gBAAgBqF,KAAK5C,MAC3ClE,kBAAmBkE,KAAKlE,kBAAkB8G,KAAK5C,MAC/CvG,YAAauG,KAAKvG,YAAYmJ,KAAK5C,MACnCc,aAAcd,KAAKc,aAAa8B,KAAK5C,MACrCtC,kBAAmBsC,KAAKtC,kBAAkBkF,KAAK5C,MAC/CxB,qBAAsBwB,KAAKxB,qBAAqBoE,KAAK5C,MACrDgD,WAAYhD,KAAKgD,WAAWJ,KAAK5C,MACjCiD,gBAAiBjD,KAAKiD,gBAAgBL,KAAK5C,MAC3CkD,qBAAsBlD,KAAKkD,qBAAqBN,KAAK5C,MACrDmD,qBAAsBnD,KAAKmD,qBAAqBP,KAAK5C,MACrDzB,uBAAwByB,KAAKzB,uBAAuBqE,KAAK5C,MACzDoD,iBAAkBpD,KAAKoD,iBAAiBR,KAAK5C,MAC7CqD,oBAAqBrD,KAAKqD,oBAAoBT,KAAK5C,MACnDsD,WAAYtD,KAAKsD,WAAWV,KAAK5C,QAEhCA,KAAK5I,MAAMC,c,GA5iBFkM,iB,GAkjBF3K,EAAW4K,S,+BCngBpBC,eAhDW,SAACrM,GAAS,IAAD,IACSsM,oBAAS,GADlB,mBACxBC,EADwB,KACZC,EADY,KAExBC,EAAkGzM,EAAlGyM,aAAchE,EAAoFzI,EAApFyI,WAAYkC,EAAwE3K,EAAxE2K,OAAOkB,EAAiE7L,EAAjE6L,gBAAiBF,EAAgD3L,EAAhD2L,gBAAgD3L,EAA/BmG,gBAA+BnG,EAAd8C,UAC3F4J,qBAAU,WACoB,YAAX,OAAZD,QAAY,IAAZA,OAAA,EAAAA,EAAc/G,OACb8G,KAAwB,OAAN7B,QAAM,IAANA,OAAA,EAAAA,EAAQR,UAAUa,QAAO,SAAA2B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMhD,gBAAN,OAAsB8C,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAcxK,QAAK,OAEnG,QAAC0I,QAAD,IAACA,OAAD,EAACA,EAAQR,YAUX,OACI,kBAAC,EAAD,KACI,wBAAKyC,IAAG,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAclH,OAAQsH,UAAU,mCAClC,yBAAKA,UAAU,sBACX,6BAAK,kBAACC,EAAA,EAAD,CAAQD,UAAU,kBAAkBE,IAAG,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAczJ,iBAC5D,yBAAK6J,UAAU,+BAA+BG,QAAS,kBAZvErB,EAAgBc,EAAaxK,UAC7BjC,EAAMiN,QAAQxJ,KAAK,mBAYC,mCAAKgJ,QAAL,IAAKA,OAAL,EAAKA,EAAc1J,UACvB,uBAAG8J,UAAU,cAAa,kBAACK,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,MAAlC,OAAwCX,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAc9G,UAAhF,KAA4G,0BAAM0H,SAAS,OAAOC,MAAO,CAACC,aAAc,aAAc,IAAI3J,KAAmC,KAAlB,OAAZ6I,QAAY,IAAZA,GAAA,UAAAA,EAAc9I,YAAd,eAAoB6J,UAAgBC,qBAIvN,yBAAKZ,UAAU,gBAEgB,YAAX,OAAZJ,QAAY,IAAZA,OAAA,EAAAA,EAAc/G,QAAiC,OAAZ+G,QAAY,IAAZA,OAAA,EAAAA,EAAcxK,OAAQ0I,EAAO1I,IAE1D,4BAAQyL,WAAU,OAACjB,QAAD,IAACA,OAAD,EAACA,EAAcxK,KAAK+K,QAAS,kBAAKnB,EAAgBU,EAAD,OAAaE,QAAb,IAAaA,OAAb,EAAaA,EAAcxK,IAA3B,OAAgCwK,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAc1J,SAA9C,OAAwD0J,QAAxD,IAAwDA,OAAxD,EAAwDA,EAAczJ,cAAtE,OAAqF2H,QAArF,IAAqFA,OAArF,EAAqFA,EAAQ1I,IAA7F,OAAkG0I,QAAlG,IAAkGA,OAAlG,EAAkGA,EAAQ5H,SAA1G,OAAoH4H,QAApH,IAAoHA,OAApH,EAAoHA,EAAQ3H,gBAAiB6J,UAAYN,EAAa,qCAAsC,oCAA/Q,IAAqTA,EAAa,WAAc,UAEpV,KAGsB,YAAX,OAAZE,QAAY,IAAZA,OAAA,EAAAA,EAAc/G,MACX,yBAAKmH,UAAU,iBAAiBE,IAAkC,WAAjB,OAAZN,QAAY,IAAZA,OAAA,EAAAA,EAAc5H,aAAd,OAAuC4H,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAc7H,WAA0C,WAAjB,OAAZ6H,QAAY,IAAZA,OAAA,EAAAA,EAAc5H,aAAyB4D,EAAa,OAC5J,WC8EhB4D,eA1GD,SAACrM,GAAS,IAAD,cACb2N,EAAUC,qBAAWpM,GADR,EAES8K,oBAAS,GAFlB,mBAEZuB,EAFY,KAEFC,EAFE,OAGSxB,oBAAS,GAHlB,mBAGZyB,EAHY,KAGFC,EAHE,OAIJC,YAAajN,GAArB2L,EAJY,oBAKZvK,EAAmHuL,EAAnHvL,aAAc+E,EAAqGwG,EAArGxG,uBAAwByE,EAA6E+B,EAA7E/B,WAAYnD,EAAiEkF,EAAjElF,WAAYoD,EAAqD8B,EAArD9B,gBAAiBF,EAAoCgC,EAApChC,gBAAiBxF,EAAmBwH,EAAnBxH,gBACjG+H,EAAiB,SAACxI,GAAQ,IAAD,IACvByI,EAAU,OAAG/L,QAAH,IAAGA,GAAH,UAAGA,EAAc8C,qBAAjB,aAAG,EAA6BE,SAC1CgJ,EAAO,OAAGhM,QAAH,IAAGA,GAAH,UAAGA,EAAc8C,qBAAjB,aAAG,EAA6B4F,UAE/B,aAATpF,GAAuByI,GAER,aAATzI,GAAuB0I,IAD5BjH,EAAuBzB,IAK/B,OACI,kBAAC,EAAD,KACI,4BAAQhC,GAAG,SAASmJ,UAAU,yBAC1B,yBAAKA,UAAU,0BACZ,kBAAC,IAAD,CAAMwB,GAAG,KAAI,wBAAIxB,UAAU,YAAd,YACZ,yBAAKA,UAAU,wBACX,wBAAIA,UAAU,uBACV,4BAAI,kBAAC,IAAD,CAASyB,OAAK,EAACD,GAAG,IAAIE,gBAAkBV,EAA+B,GAApB,mBAAyB,kBAAC,IAAD,CAAQP,MAAO,CAACkB,SAAS,YAEtG7B,EACH,yBAAKE,UAAU,WAAWS,MAAO,CAACmB,WAAW,WAC7C,wBAAI5B,UAAU,oBAAmB,kBAAC,IAAD,CAASG,QAAS,kBAAKkB,EAAiB,aAAcG,GAAG,YAAYE,gBAAkBV,EAA+B,GAApB,mBAC/H,kBAAC,IAAD,OAEkB,OAAZzL,QAAY,IAAZA,GAAA,UAAAA,EAAc8C,qBAAd,eAA6B4F,WAAwC,cAA5B9K,EAAM0O,SAASC,SACtD,yBAAK9B,UAAU,oBACb,OAGd,4BAAI,kBAAC,IAAD,CAAUwB,GAAG,YAAYE,gBAAkBV,EAA+B,GAApB,mBAAyB,kBAAC,IAAD,QACnF,wBAAIhB,UAAU,0BAA0BG,QAAS,WAAMc,GAAQ,GAAOI,EAAiB,cAEnF,0BAAMrB,UAAU,oBACZ,kBAAC,IAAD,CAASS,MAAO,CAACsB,MAAOf,EAAW,UAAW,cAEhC,OAAZzL,QAAY,IAAZA,GAAA,UAAAA,EAAc8C,qBAAd,eAA6BE,YAAY,UAAAhD,EAAa8C,qBAAb,mBAA4BM,YAA5B,eAAkCqJ,SAAQ,EACjF,yBAAKhC,UAAU,oBACb,MAGV,yBAAKS,MAAO,CACRwB,QAASjB,EAAW,OAAS,OAC7BkB,WAAY,gBACZC,QAASnB,EAAW,IAAM,KAC3BhB,UAAU,uBAET,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,sBAAf,MAEiB,OAAZzK,QAAY,IAAZA,GAAA,UAAAA,EAAc8C,qBAAd,eAA6BM,KAAKqJ,SAAS,EAC5C,wBAAIhC,UAAU,+BAAd,OAEQzK,QAFR,IAEQA,GAFR,UAEQA,EAAc8C,qBAFtB,iBAEQ,EAA6BM,YAFrC,aAEQ,EAAmClB,KAAK,SAACmI,EAAcxI,GACnD,OACI,yBAAK2I,IAAG,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAclH,QACpB,kBAAC,EAAD,CAAoByH,QAAS,kBAAKc,GAAQ,IAASrB,aAAcA,EAAchE,WAAYA,EAAYkC,OAAQvI,EAAcyJ,gBAAiBA,EAAiBF,gBAAiBA,EAAiBxF,gBAAiBA,EAAiBrD,UAAWmB,SAOlQ,6BAAK,wBAAIqJ,MAAO,CAAC2B,UAAU,WAAtB,yCAET,yBAAKpC,UAAU,yBAI3B,4BAAI,0BAAMG,QAAS,kBAAKgB,GAAQ,KAAO,kBAAClB,EAAA,EAAD,CAAQC,IAAI,GAAGmC,IAAI,GAAGrC,UAAU,sCACvE,yBAAKS,MAAO,CACJwB,QAASf,EAAW,OAAS,OAC7BgB,WAAY,gBACZC,QAASjB,EAAW,IAAM,KAC3BrK,GAAG,eAAemJ,UAAU,uBAE3B,yBAAMA,UAAU,sBACZ,yBAAKA,UAAU,sBAAf,KACA,wBAAIA,UAAU,+BACV,wBAAIG,QAAS,kBAAKgB,GAAQ,KAAQ,kBAAC,IAAD,CAAMK,GAAG,YAAW,kBAAC,IAAD,CAAWxB,UAAU,gBAAzC,aAClC,wBAAIG,QAAS,WAAMpB,IAAcoC,GAAQ,GAAQmB,OAAOT,SAASU,WAAW,kBAAC,IAAD,CAAMf,GAAG,SAAQ,kBAAC,IAAD,CAAYxB,UAAU,gBAAvC,cAEhF,yBAAKA,UAAU,0BAKzB,MAIFkB,GAAYF,EACR,yBAAKhB,UAAU,mBAAmBG,QAAS,WAAMgB,GAAQ,GAAQF,GAAQ,MAC3E,Y,8BCnDfuB,EA3DC,SAACrP,GAAS,IAAD,YAChB+I,EAA8J/I,EAA9J+I,QAASuG,EAAqJtP,EAArJsP,WAAYxM,EAAyI9C,EAAzI8C,UAAY4D,EAA6H1G,EAA7H0G,aAAeU,EAA8GpH,EAA9GoH,qBAAsBzC,EAAwF3E,EAAxF2E,YAAa4K,EAA2EvP,EAA3EuP,OAAQtN,EAAmEjC,EAAnEiC,IAAKuN,EAA8DxP,EAA9DwP,WAAYxD,EAAkDhM,EAAlDgM,iBAAuBpH,GAA2B5E,EAAhC2D,KAAgC3D,EAA3B4E,YAAYC,EAAe7E,EAAf6E,YAD/H,EAEqByH,oBAAS,GAF9B,mBAEdmD,EAFc,KAEGC,EAFH,OAGapD,oBAAS,GAHtB,mBAGdqD,EAHc,KAGHC,EAHG,KAQrB,OAJAlD,qBAAU,WAENkD,EAAY,OAAC7G,QAAD,IAACA,OAAD,EAACA,EAASxF,MAAMyH,QAAO,SAAAvG,GAAE,OAAIA,EAAGf,KAAOzB,KAAoB,MACzE,QAAC8G,QAAD,IAACA,OAAD,EAACA,EAASxF,QAER,kBAAC,WAAD,KACA,yBAAKsJ,UAAU,uBACR,yBAAKA,UAAU,+BACZ,0BAAOA,UAAU,+BAA8B,uCAAS9D,QAAT,IAASA,OAAT,EAASA,EAAShG,UAAjE,IAAoF,uBAAG8J,UAAU,uBAAsB,kBAACK,EAAA,EAAD,CAAgBL,UAAU,QAAQM,KAAM,EAAGC,SAAS,OAApD,OAA2DrE,QAA3D,IAA2DA,OAA3D,EAA2DA,EAASA,WAGrL4G,EAIG,0BAAM3C,QAAS,kBAAM5F,GAAqB,EAAOtE,EAAY6B,EAAa4K,EAAQC,EAAYvN,EAAKyE,EAA1D,OAAwEqC,QAAxE,IAAwEA,OAAxE,EAAwEA,EAASA,QAASnE,EAAYC,IAC3IyI,MAAO,CACHuC,UAAW,iCAEnBhD,UAAU,gBAAe,kBAAC,IAAD,OAP7B,0BAAMG,QAAS,kBAAM5F,GAAqB,EAAMtE,EAAW6B,EAAa4K,EAAQC,EAAYvN,EAAKyE,EAAxD,OAAsEqC,QAAtE,IAAsEA,OAAtE,EAAsEA,EAASA,QAASnE,EAAYC,KACxI,kBAAC,IAAD,QAUb,yBAAKgI,UAAU,oCAGJ,UAAA9D,EAAQxF,aAAR,eAAesL,SAAS,EACrB,0BAAMhC,UAAU,aAAaG,QAAS,kBAAKhB,GAAiB,EAAD,OAAOjD,QAAP,IAAOA,OAAP,EAAOA,EAASxF,MAAO,WAAlF,UAA6FwF,EAAQxF,aAArG,aAA6F,EAAesL,OAAOpB,iBAAnH,KAAsI,UAAA1E,EAAQxF,aAAR,eAAesL,QAAS,EAAI,QAAU,QAC7K,KAEL,0BAAMvB,MAAO,CAACwC,OAAO,WAAY9C,QAAS,WAAMsC,EAAU,OAACvG,QAAD,IAACA,OAAD,EAACA,EAAShG,SAAU2D,EAAe5D,EAAnC,OAA8CiG,QAA9C,IAA8CA,OAA9C,EAA8CA,EAASpC,OAAvD,OAAgEoC,QAAhE,IAAgEA,OAAhE,EAAgEA,EAASE,SAAUyG,GAAe,KAA5J,aAGC,UAAA3G,EAAQ/B,mBAAR,eAAqB6H,SAAS,EAC9B,6BACG,0BAAMhC,UAAU,2BAA2BG,QAAS,kBAAK0C,GAAiBD,KAA1E,WAAgGA,EAAkB,OAAQ,OAA1H,uBAA4I1G,EAAQ/B,mBAApJ,aAA4I,EAAqB6H,OAAjK,KAEMY,EACM,wBAAI5C,UAAU,sBAAd,UAEY9D,EAAQ/B,mBAFpB,aAEY,EAAqB1C,KAAK,SAACyL,EAAY9L,GACnC,OAAO,wBAAI2I,IAAK3I,GAAG,uCAAS8L,QAAT,IAASA,OAAT,EAASA,EAAY9I,YAAjC,IAAsD,yCAAQ8I,QAAR,IAAQA,OAAR,EAAQA,EAAYvJ,kBAInG,MAGZ,Q,QCmOVwJ,E,kDA7QX,WAAYhQ,GAAO,IAAD,8BACd,cAAMA,IAwCViQ,gBAAgB,SAACpN,GAAW,IAAD,EACmC,EAAK7C,MAAxDqH,EADgB,EAChBA,OACPzE,EAFuB,EACTA,eACAC,EAASwE,EAFA,EACM3D,GADN,EACUX,SADV,EACqByM,YACa,IA3C3C,EA8ClBU,iBAAiB,WACf,IAAIC,EAAY,EAAKnO,MAAMoO,UAC3B,EAAKjO,UAAS,SAAAkO,GAAS,MAAI,CACzBD,UAAWC,EAAUD,UAAW,MAElC,IAAME,EAAa,WACjB,EAAKnO,SAAS,CACXiO,UAAW,KAGC,IAAdD,IACD,EAAKF,iBAAgB,GACpBK,IACA,EAAKnO,SAAS,CACVoO,mBAAmB,IAEvBC,YAAW,WACP,EAAKrO,SAAS,CACdoO,mBAAmB,MAErB,OAGNC,YAAW,WACRF,MACD,MArEC,EAAKG,WAAahP,IAAMiP,YACxB,EAAK1O,MAAO,CACR2N,WAAW,EACXgB,gBAAiB,GACjBP,UAAW,EACXQ,iBAAiB,EACjBL,mBAAmB,EACnBM,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,WAAY,IAZF,E,gEA4BdpI,KAAKqI,e,yCAEUC,GACZA,EAAU3N,QAAUqF,KAAK5I,MAAMuD,OAC/BqF,KAAKqI,e,mCAGC,IAAD,IACUrI,KAAK5I,MAAlBuD,EADG,EACHA,MAAOG,EADJ,EACIA,GACZkF,KAAKzG,SAAS,CACNwN,aAAW,UAAApM,EAAMC,cAAN,eAAcwH,QAAO,SAAAvG,GAAE,OAAKA,EAAGf,KAAOA,KAAK,Q,oCAoCpDyN,GACVA,EAAEC,iBADU,MAEkGxI,KAAK5I,MAA3GqH,EAFI,EAEJA,MAAO3D,EAFH,EAEGA,GAAIX,EAFP,EAEOA,SAAUyM,EAFjB,EAEiBA,WAAa/D,EAF9B,EAE8BA,yBAA0B9E,EAFxD,EAEwDA,OAAQhC,EAFhE,EAEgEA,YAAa2B,EAF7E,EAE6EA,kBACtD,KAA/BsC,KAAK5G,MAAM2O,kBACN/H,KAAK5G,MAAMgP,aAAe,IAAQ,OAAOK,KAAKzI,KAAK5G,MAAM2O,iBACzDrK,EAAkBsC,KAAK5G,MAAMgP,WAAYpI,KAAK5G,MAAM2O,gBAAiBnB,GAAY,GAElF/D,EAAyB,OAAOpE,EAAO3D,EAAIX,EAAU6F,KAAK5G,MAAM2O,gBAAiBnB,EAAY,IAAI5L,KAAQ+C,EAAQhC,GAGpHiE,KAAKzG,SAAS,CACPwO,gBAAiB,GACjBK,WAAY,Q,iCAKjBM,EAAc5K,EAAc5D,EAAW6D,EAAQhC,GACtDiE,KAAKzG,SAAS,CACV4O,eAAe,EACfC,WAAY,CAACM,gBAAe5K,eAAc5D,YAAW6D,SAAQhC,eAC7DgM,gBAAgB,IAAD,OAAMW,EAAN,OAEhB1I,KAAK5G,MAAM+O,eACTnI,KAAK6H,WAAWc,QAAQC,U,+BAIxB,IAAD,eAEkN5I,KAAK5I,MAAxN+C,EAFC,EAEDA,SAAS0O,EAFR,EAEQA,QAAS5M,EAFjB,EAEiBA,YAAaD,EAF9B,EAE8BA,WAAW8M,EAFzC,EAEyCA,YAAa3K,EAFtD,EAEsDA,SAAUxD,EAFhE,EAEgEA,MAAOmL,EAFvE,EAEuEA,SAAU1F,EAFjF,EAEiFA,SAAU5B,EAF3F,EAE2FA,qBAAsBzC,EAFjH,EAEiHA,YAAagN,EAF9H,EAE8HA,WAAapC,EAF3I,EAE2IA,OAAQC,EAFnJ,EAEmJA,WAAY9L,EAF/J,EAE+JA,GAAIsI,EAFnK,EAEmKA,iBAAkBE,EAFrL,EAEqLA,WAAY7E,EAFjM,EAEiMA,MAAOV,EAFxM,EAEwMA,OAC5M,OACI,kBAAC,WAAD,KACI,yBAAKjD,GAAG,OAAOmJ,UAAU,yBACrB,6BAASA,UAAU,uBACX,yBAAKA,UAAU,+BACX,4BAAQA,UAAU,iCACd,kBAACC,EAAA,EAAD,CAAQD,UAAU,uBAAuBE,IAAI,GAAGmC,IAAI,WACpD,yBAAKrC,UAAU,wCACX,0BAAM+E,SAAS,IAAIC,gBAAc,QAAQC,KAAK,UAC1C,wBAAIjF,UAAU,YAAY,kBAAC,IAAD,CAAMwB,GAAG,WAAUf,MAAO,CAACyE,WAAY,SAASC,UAAU,WAAYlD,QAAQ,OAAOmD,SAAS,WAAY,kBAAC/E,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,OAAOrK,GAA4B4O,EAAc,kBAAC,IAAD,CAAY9E,UAAU,kBAAoB,KAAvO,KAA1B,MAGJ,0BAAM+E,SAAS,IAAIC,gBAAc,QAAQC,KAAK,UAC1C,2BAAG,kBAAC5E,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,OAAOsB,OAKxD,0BAAM7B,UAAU,wBAAwBG,QAAS,kBAAK,EAAK7K,SAAS,CAAC2O,kBAAkB,MAAQ,kBAAC,IAAD,QAEnG,yBAAKjE,UAAU,oBAEK,UAAhBhI,EACA,6BACI,yBAAMmI,QAAS,kBAAK,EAAKkD,oBAAoBrD,UAAU,sBAAsBE,IAAKnI,EAAYsK,IAAI,OAAOgD,UAAU,UAE/GtJ,KAAK5G,MAAMuO,kBACX,6BAEI,yBAAK1D,UAAU,iCACf,0BAAMA,UAAU,uBAAuBS,MAAO,CAC9BuC,UAAWjH,KAAK5G,MAAMuO,kBAAoB,wCAA0C,OACrF,kBAAC,IAAD,QAEjB,MAGQ,UAAhB1L,EACF,6BACE,2BAAOmI,QAAS,kBAAK,EAAKkD,oBAAoBrD,UAAU,sBAAsBE,IAAKnI,EAAYsN,UAAU,QAAQC,UAAQ,IACzH,kBAAC,IAAD,CAActF,UAAU,sBAIxB,MAKN,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,qCACX,yBAAKA,UAAU,aAENjE,KAAK5G,MAAM2N,UAIR,0BAAM3C,QAAS,kBAAK,EAAKiD,iBAAgB,IACrC3C,MAAO,CACHuC,UAAWjH,KAAK5G,MAAM2N,UAAa,gCAAkC,MAE7E9C,UAAU,gBAAe,kBAAC,IAAD,OAP7B,0BAAMG,QAAS,kBAAK,EAAKiD,iBAAgB,KACpC,kBAAC,IAAD,OAQL,0BAAMjD,QAAS,kBAAK,EAAK7K,SAAS,CAAC4O,eAAgB,EAAK/O,MAAM+O,kBAAiB,kBAAC,IAAD,OAC/E,8BAAM,kBAAC,IAAD,QAEd,yBAAKlE,UAAU,kBAAiB,kBAAC,IAAD,SAGhC,UAAAtJ,EAAMC,cAAN,eAAcqL,SAAS,EACvB,yBAAKhC,UAAU,eAAeG,QAAS,kBAAKhB,GAAiB,EAAMzI,EAAMC,OAAQ,WAAjF,UAA6FD,EAAMC,cAAnG,aAA6F,EAAcqL,OAAOpB,iBAAlH,IAA+J,KAAzB,UAAAlK,EAAMC,cAAN,eAAcqL,QAAgB,OAAU,SAC5K,KAEN,0BAAMhC,UAAU,0BAAyB,gCAAS9J,GAAlD,IAAwE6F,KAAK5G,MAAM4O,gBAAkL,uBAAG/D,UAAU,iBAAiB4E,GAA9L,2BAAG,kBAACvE,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,UAAUE,MAAO,CAACwC,OAAO,WAAY9C,QAAS,kBAAK,EAAK7K,SAAS,CAACyO,iBAAiB,MAASa,MAE1N,OAAR1K,QAAQ,IAARA,OAAA,EAAAA,EAAU8H,SAAS,EACnB,8BAEgB,OAAR9H,QAAQ,IAARA,OAAA,EAAAA,EAAU8H,QAAS,EACf,wBAAIhC,UAAU,wBAAwBG,QAAS,kBAAK,EAAK7K,SAAS,CAAC0O,kBAAmB,EAAK7O,MAAM6O,qBAAjG,IAAyHjI,KAAK5G,MAAM6O,iBAAgC,YAAb,WAAvJ,KAAoL9J,EAAS8H,OAAOpB,iBAApM,aAEA,wBAAIZ,UAAU,yBAAd,YAGHjE,KAAK5G,MAAM6O,iBAAZ,OAqBA9J,QArBA,IAqBAA,OArBA,EAqBAA,EAAUzC,KAAI,SAACyE,EAAS9E,GACpB,OACI,kBAACmO,EAAD,CAASxF,IAAM3I,EACf8E,QAASA,EACT3B,qBAAsBA,EACtBzC,YAAaA,EACb+B,aAAczC,EACdqL,WAAY,EAAKA,WAAW9D,KAAK,GACjC1I,UAAW,EAAK9C,MAAMqH,MACtBkI,OAAQA,EACR5L,KAAI,OAAEoF,QAAF,IAAEA,OAAF,EAAEA,EAASpF,KACfJ,MAAOA,EACPiM,WAAYA,EACZ3K,YAAaA,EACbD,WAAYA,EACZoH,iBAAkBA,EAClB/J,IAAKyB,OArCb,OACAqD,QADA,IACAA,OADA,EACAA,EAAUsL,MAAM,EAAE,GAAG/N,KAAI,SAACyE,EAAS9E,GAC/B,OACI,kBAACmO,EAAD,CAASxF,IAAM3I,EACf8E,QAASA,EACT3B,qBAAsBA,EACtBzC,YAAaA,EACb+B,aAAczC,EACdqL,WAAY,EAAKA,WAAW9D,KAAK,GACjC1I,UAAW,EAAK9C,MAAMqH,MACtBkI,OAAQA,EACR5L,KAAI,OAAEoF,QAAF,IAAEA,OAAF,EAAEA,EAASpF,KACfJ,MAAOA,EACPiM,WAAYA,EACZ3K,YAAaA,EACbD,WAAYA,EACZoH,iBAAkBA,EAClB/J,IAAKyB,QA0BnB,KAGN,2BAAOmJ,UAAU,cAAc,IAAIjJ,KAAyB,KAAZ,OAARoF,QAAQ,IAARA,OAAA,EAAAA,EAAUwE,UAAgBC,kBAEjE7E,KAAK5G,MAAM+O,cACX,0BAAMuB,SAAU,SAACC,GAAD,OAAM,EAAKC,cAAcD,IAAK1F,UAAU,iCACrD,2BAAO1L,IAAKyH,KAAK6H,WAAYlF,MAAO3C,KAAK5G,MAAM2O,gBAAiB8B,SAAU,SAACC,GAAD,OAAU,EAAKvQ,SAAS,CAACwO,gBAAiB+B,EAAMC,OAAOpH,SAASsB,UAAU,sBAAsBnH,KAAK,OAAOkN,YAAY,qBAClM,4BAAQlN,KAAK,SAASgI,SAAU9E,KAAK5G,MAAM2O,gBAAgB9B,OAAU,EAAGhC,UAAWjE,KAAK5G,MAAM2O,gBAAgB9B,QAAS,EAAI,uBAAwB,iCAAnJ,SAEF,OAMVjG,KAAK5G,MAAM8O,iBACP,yBAAKjE,UAAU,uBACX,yBAAKA,UAAU,0CACX,yBAAKA,UAAU,gBAAgBG,QAAS,kBAAKd,EAAWvF,EAAQU,EAAOqK,KAAvE,WACA,yBAAK7E,UAAU,gBAAgBG,QAAS,kBAAK,EAAK7K,SAAS,CAAC2O,kBAAkB,MAA9E,aAGV,KAEN,yBAAKxD,MAAO,CACR0B,QAASpG,KAAK5G,MAAM8O,iBAAmB,IAAM,IAC7ChC,QAASlG,KAAK5G,MAAM8O,iBAAmB,QAAU,OACjD/B,WAAW,iBACJlC,UAAU,YAAYG,QAAS,kBAAK,EAAK7K,SAAS,CAAC2O,kBAAkB,a,GAtQjF3E,iBCgBJ0G,EA1BI,SAAC7S,GAAS,IAAD,EACoBsM,oBAAS,GAD7B,mBACjBwG,EADiB,KACDtG,EADC,KAEjBzJ,EAA2F/C,EAA3F+C,SAAU4O,EAAiF3R,EAAjF2R,WAAYoB,EAAqE/S,EAArE+S,QAAS/P,EAA4DhD,EAA5DgD,cAAegQ,EAA6ChT,EAA7CgT,WAAYnH,EAAiC7L,EAAjC6L,gBAAiBzJ,EAAgBpC,EAAhBoC,aAUlF,OARAsK,qBAAU,WACHtK,IAAiB,IAAMA,GACtBoK,KAA8B,OAAZpK,QAAY,IAAZA,OAAA,EAAAA,EAAc+H,UAAUa,QAAO,SAAAhH,GAAI,OAAQ,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM2F,eAAiBoJ,KAAS,OAI/F,QAAC3Q,QAAD,IAACA,OAAD,EAACA,EAAc+H,YAGb,kBAAC,WAAD,KACI,yBAAK0C,UAAU,4BACX,wBAAIA,UAAU,6BACV,yBAAKG,QAAS,kBAAKgG,EAAWD,IAAUlG,UAAU,6BAC9C,kBAACC,EAAA,EAAD,CAAQC,IAAK/J,EAAekM,IAAKnM,IACjC,wBAAI8J,UAAU,YAAY9J,EAAU4O,EAAc,8BAAM,kBAAC,IAAD,CAAY9E,UAAU,mBAA2B,KAAzG,MAEJ,4BAAQA,UAAWiG,EAAgB,qCAAsC,mCAAoClE,MAAM,UAAU5B,QAAS,kBAAKnB,EAAgBiH,EAAgBC,EAAShQ,EAAUC,EAApC,OAAmDZ,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAcH,IAAjE,OAAsEG,QAAtE,IAAsEA,OAAtE,EAAsEA,EAAcW,SAApF,OAA8FX,QAA9F,IAA8FA,OAA9F,EAA8FA,EAAcY,iBAAkB8P,EAA2B,WAAV,c,mECuO9SzG,eAjPC,SAACrM,GACb,IAAI2N,EAAUC,qBAAWpM,GADJ,EAEDyM,YAAajN,GAFZ,mBAEZiS,GAFY,aAIiB3G,oBAAS,GAJ1B,mBAId4G,EAJc,KAIDC,EAJC,OAKiB7G,mBAAS,IAL1B,mBAKd8G,EALc,KAKDC,EALC,OAMuB/G,mBAAS,IANhC,mBAMdgH,EANc,KAMEC,EANF,OAOuBjH,mBAAS,IAPhC,mBAOdkH,EAPc,KAOEC,EAPF,OAQenH,mBAAS,IARxB,mBAQdoH,EARc,KAQFC,EARE,OASqBrH,mBAAS,IAT9B,mBASdsH,EATc,KASCC,EATD,OAUsBvH,oBAAS,GAV/B,mBAUdwH,EAVc,KAUGC,EAVH,KAiBfC,EAAU,uCAAE,WAAOtB,EAAOuB,GAAd,yBAAAC,EAAA,sDAEdxB,EAAMtB,iBACD1H,EAAyIiE,EAAzIjE,aAAyIiE,EAA3H1L,IAAKyJ,EAAsHiC,EAAtHjC,sBAAuB1F,EAA+F2H,EAA/F3H,aAAcC,EAAiF0H,EAAjF1H,UAAiF0H,EAAvEvL,aAAcR,EAAyD+L,EAAzD/L,oBAAqBmE,EAAoC4H,EAApC5H,gBAAoC4H,EAAnBxF,gBAC3G,WAAb8L,GACCvK,IACA8G,YAAW,WACHxK,GACYhF,EAAKmT,+BAA+Bf,EAAaE,GAAgB3Q,MAAK,SAAAyR,GAC9DtT,EAAGgB,WAAW,SAASC,IAAIqS,EAAKzH,KAAK1K,KAAKoS,IAAI,CACtCpS,IAAKmS,EAAKzH,KAAK1K,IACfc,SAAUyQ,EACVnQ,MAAO,GACP4G,UAAW,GACXE,UAAW,GACXS,SAAU,GACV0J,IAAK,GACLC,WAAY,GACZC,UAAW,GACXC,iBAAkB,GAClBC,WAAY,GACZC,QAAS,GACTzP,cAAe,CAAC4F,UAAU,EAAM1F,UAAU,EAAOI,KAAM,IACvDmM,YAAY,EACZ3O,cAAe,KACpBL,MAAK,SAACiS,GACLvB,EAAe,IACfE,EAAkB,IAClBE,EAAkB,IAClBzT,EAAMiN,QAAQxJ,KAAK,WAIxBoR,OAAM,SAACC,GACN5N,MAAM4N,EAAIC,cAGxB,MAES,UAAdd,IACGvK,IACA8G,YAAW,WACHxK,GAEAhF,EAAKgU,2BAA2BtB,EAAYE,GAAejR,MAAK,SAAAiS,GACxDjB,EAAc,IACdE,EAAiB,IAErB7S,EAAKiU,oBAAoB,SAAAC,GACrBpU,EAAGgB,WAAW,SAASgD,MAAMnC,MAAK,SAACwS,GAC/BA,EAAMC,SAAQ,SAACzI,GACPjB,EAAsBiB,EAAK9K,WAEnCkE,GAAgB,GAChBE,EAAS,OAACiP,QAAD,IAACA,OAAD,EAACA,EAAUjT,KACpBL,UAKR5B,EAAMiN,QAAQxJ,KAAK,QACpBoR,OAAM,SAACC,GACF5N,MAAM4N,EAAIC,cAIxB,MAlEJ,2CAAF,wDA8HhB,OACI,kBAAC,EAAD,KACK,6BAASlI,UAAU,0BAChB,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,iCACX,yBAAKA,UAAU,uBACX,0BAAMA,UAAU,QAAO,kBAAC,IAAD,OACvB,wBAAIA,UAAU,YAAd,YAKCqG,EA2BD,6BACI,wBAAIrG,UAAU,qBAAd,uDACD,0BAAMyF,SAAU,SAACI,GAAD,OAAWsB,EAAWtB,EAAO,WAAW7F,UAAU,iCAC7D,2BAAOwI,UAAQ,EAACC,WAAS,EAAC/J,MAAO6H,EAAaX,SAAU,SAACF,GAAD,OAAMc,EAAed,EAAEI,OAAOpH,QAAQ7F,KAAK,QAASkN,YAAY,UACxH,2BAAOyC,UAAQ,EAAC9J,MAAOiI,EAAgBf,SAAU,SAACF,GAAD,OAAMkB,EAAkBlB,EAAEI,OAAOpH,QAAQ7F,KAAK,OAAQkN,YAAY,aACnH,2BAAOyC,UAAQ,EAAC9J,MAAO+H,EAAgBb,SAAU,SAACF,GAAD,OAAMgB,EAAkBhB,EAAEI,OAAOpH,QAAQ7F,KAAK,WAAYkN,YAAY,aACvH,2BAAOyC,UAAQ,EAAC3P,KAAK,WAAYkN,YAAY,qBAC7C,2BAAO/F,UAAWoG,EAAU,WAAa,GAAKvN,KAAK,SAAS6F,MAAO0H,EAAS,aAAc,cAjClG,0BAAMX,SAAU,SAACI,GAAD,OAAWsB,EAAWtB,EAAO,UAAU7F,UAAU,iCAEzDiH,EAQA,6BACI,0BAAM9G,QAAS,kBAAK+G,GAAgB,IAAQlH,UAAU,aAAtD,QACA,2BAAOwI,UAAQ,EAACC,WAAS,EAAC/J,MAAOmI,EAAYjB,SAAU,SAACF,GAAD,OAAMoB,EAAcpB,EAAEI,OAAOpH,QAAQ7F,KAAK,OAAQkN,YAAY,UACrH,0BAAM5F,QAAS,WAjC/ChM,EAAKuU,uBAAuB7B,GAAY/Q,MAAK,SAAAiS,GACzCrN,QAAQC,IAAIoN,GACZ1N,MAAM,0DACP2N,OAAM,SAAAC,GACL5N,MAAM,qBAAsB4N,OA6BkCjI,UAAU,gBAA5C,kCAVJ,yBAAKA,UAAU,eACX,2BAAOwI,UAAQ,EAACC,WAAS,EAAC/J,MAAOmI,EAAYjB,SAAU,SAACF,GAAD,OAAMoB,EAAcpB,EAAEI,OAAOpH,QAAQ7F,KAAK,OAAQkN,YAAY,UACrH,2BAAOyC,UAAQ,EAAC9J,MAAOqI,EAAenB,SAAU,SAACF,GAAD,OAAMsB,EAAiBtB,EAAEI,OAAOpH,QAAQ7F,KAAK,WAAYkN,YAAY,aACrH,2BAAO/F,UAAWoG,EAAU,WAAa,GAAIvN,KAAK,SAAS6F,MAAO0H,EAAS,aAAc,WACzF,0BAAMjG,QAAS,kBAAK+G,GAAgB,IAAOlH,UAAU,gBAArD,uBAiCpB,yBAAKA,UAAU,sBAEPqG,EAGD,kDAAuB,wBAAIlG,QAAS,kBAAKmG,GAAgBD,KAAlC,WAFvB,wDAA6B,wBAAIlG,QAAS,kBAAKmG,GAAgBD,KAAlC,aAQpC,uBAAGrG,UAAU,kBAAb,gBACA,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,gCACZ,yBAAKE,IAAKyI,IAAYtG,IAAI,gBACzB,yBAAKnC,IAAK0I,IAASvG,IAAI,oBAKnC,yBAAKrC,UAAU,oCACX,wBAAIA,UAAU,6BACV,qCACA,oCACA,qCACA,mCACA,oCACA,uCACA,qCACA,yCACA,4CACA,wCACA,yCAEJ,yBAAKA,UAAU,mBACX,oEACA,sF,mBCtFTR,gBAhJH,SAACrM,GAAS,IAAD,EAC0L4N,qBAAWpM,GAAjNY,EADY,EACZA,aAAcQ,EADF,EACEA,cAAe6I,EADjB,EACiBA,yBAAwCtD,GADzD,EAC2CnC,aAD3C,EACyDmC,iBAAiBwD,EAD1E,EAC0EA,gBAAiB1J,EAD3F,EAC2FA,IAAK4J,EADhG,EACgGA,gBAAiBK,EADjH,EACiHA,WAAY5F,EAD7H,EAC6HA,kBAAmBc,EADhJ,EACgJA,qBAAsB4E,EADtK,EACsKA,iBACnL3I,EAAK,OAAGjB,QAAH,IAAGA,OAAH,EAAGA,EAAciB,MACpB2P,EAAW,SAAC0C,GACd/J,EAAgB+J,GAChB1V,EAAMiN,QAAQxJ,KAAK,kBALN,EAQYwK,YAAajN,GARzB,mBAQZ2L,EARY,KAQNsG,EARM,UASjB,OACI,kBAAC,EAAD,KAEQtG,EACJ,6BAASjJ,GAAG,OAAOmJ,UAAU,0BAEzB,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,kCAEVoG,IAAgB,OAAL5P,QAAK,IAALA,OAAA,EAAAA,EAAOwL,SAAS,EAA5B,OACIxL,QADJ,IACIA,OADJ,EACIA,EAAOiB,KAAI,SAACqR,EAAM1R,GACd,OACY,kBAAC,EAAD,CAAM2I,IAAG,OAAE+I,QAAF,IAAEA,OAAF,EAAEA,EAAMjS,GACjBX,SAAQ,OAAE4S,QAAF,IAAEA,OAAF,EAAEA,EAAM5S,SAChBwM,OAAM,OAAInN,QAAJ,IAAIA,OAAJ,EAAIA,EAAcW,SACxB0O,QAAO,OAAEkE,QAAF,IAAEA,OAAF,EAAEA,EAAMlE,QACf5M,YAAW,OAAE8Q,QAAF,IAAEA,OAAF,EAAEA,EAAM9Q,YACnBD,WAAU,OAAG+Q,QAAH,IAAGA,OAAH,EAAGA,EAAM/Q,WACnB8M,YAAW,OAAGiE,QAAH,IAAGA,OAAH,EAAGA,EAAMjE,YACpB3K,SAAQ,OAAE4O,QAAF,IAAEA,OAAF,EAAEA,EAAM5O,SAChBxD,MAAK,OAAEoS,QAAF,IAAEA,OAAF,EAAEA,EAAMpS,MACbyF,SAAQ,OAAE2M,QAAF,IAAEA,OAAF,EAAEA,EAAMhS,KAChBD,GAAIzB,EACJyM,SAAQ,OAAEiH,QAAF,IAAEA,OAAF,EAAEA,EAAMjH,SAChBrH,MAASpD,EACT0C,OAAM,OAAIgP,QAAJ,IAAIA,OAAJ,EAAIA,EAAMjS,GAChBiB,YAAW,OAAIgR,QAAJ,IAAIA,OAAJ,EAAIA,EAAMhR,YACrB6K,WAAU,OAAIpN,QAAJ,IAAIA,OAAJ,EAAIA,EAAcY,cAC5BJ,cAAeA,EACf6I,yBAA2BA,EAC3BnF,kBAAqBA,EACrBc,qBAAwBA,EACxBuK,WAAU,OAAIvP,QAAJ,IAAIA,OAAJ,EAAIA,EAAcuP,WAC5B3F,iBAAoBA,EACpBE,WAAcA,OAIhC+G,EACG,kBAAC2C,GAAA,EAAD,CAAUC,QAAQ,OAAOC,MAAM,QAC5B,yBAAKxI,MAAO,CAAEyI,WAAY,WAG3B,OAAL1S,QAAK,IAALA,OAAA,EAAAA,EAAOwL,QAAQ,EAET,yBAAKhC,UAAU,uCACX,yBAAKA,UAAU,mCACX,yBAAKA,UAAU,sCAAqC,kBAAC,IAAD,CAAcA,UAAU,gBAC5E,uDACA,wEAA6C,6BAA7C,iCAEA,mEAId,MAGN,2BAAOA,UAAU,gBAEG,OAAZzK,QAAY,IAAZA,OAAA,EAAAA,EAAcW,UACV,yBAAK8J,UAAU,6BACX,kBAACC,EAAA,EAAD,MACA,wBAAID,UAAU,WAAWG,QAAS,kBAAKhN,EAAMiN,QAAQxJ,KAAK,cAA1D,OAAwErB,QAAxE,IAAwEA,OAAxE,EAAwEA,EAAcW,SAAtF,KAA8G,OAAZX,QAAY,IAAZA,OAAA,EAAAA,EAAcuP,YAAa,kBAAC,IAAD,CAAY9E,UAAU,kBAAoB,OAG7K,KAGF1E,EAAgB0G,QAAS,EACzB,yBAAKhC,UAAU,gCACX,yBAAKA,UAAU,gCACX,mDACA,4CAEJ,yBAAKA,UAAU,iCACX,wBAAIA,UAAU,eAAd,OAEQ1E,QAFR,IAEQA,OAFR,EAEQA,EAAiB6C,QAAO,SAAAhH,GAAI,OAAQ,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM/B,QAAN,OAAcG,QAAd,IAAcA,OAAd,EAAcA,EAAcH,QAAMoQ,MAAM,EAAE,GAAG/N,KAAI,SAACqI,EAAK1I,GACnF,OACIgP,EACC,kBAAC2C,GAAA,EAAD,CAAUC,QAAQ,SAASC,MAAO,GAAIE,OAAQ,KAE9C,kBAAC,EAAD,CAAapJ,IAAK3I,EAAGlB,SAAQ,OAAE4J,QAAF,IAAEA,OAAF,EAAEA,EAAM5J,SAAU4O,WAAU,OAAEhF,QAAF,IAAEA,OAAF,EAAEA,EAAMgF,WAAYoB,QAAO,OAAEpG,QAAF,IAAEA,OAAF,EAAEA,EAAM1K,IAAKe,cAAa,OAAE2J,QAAF,IAAEA,OAAF,EAAEA,EAAM3J,cAAiBgQ,WAAYA,EAAYnH,gBAAiBA,EAAiBzJ,aAAcA,UAStO,KAEN,yBAAKyK,UAAU,+BACf,kBAAC,KAAD,CACIoJ,IAAI,2CAEJC,iBAAkB,MAClBrJ,UAAU,uBASlB,yBAAKnJ,GAAG,iBAAiBmJ,UAAU,4DACnC,wBAAIA,UAAU,6BACN,qCACA,oCACA,qCACA,mCACA,oCACA,uCACA,qCACA,yCACA,4CACA,wCACA,yCAEJ,yBAAKA,UAAU,mBACX,oEACA,mFAMhB,kBAAC,EAAD,U,6BClJNsJ,G,4MAEFnU,MAAM,CACFqB,MAAO,CAAC,CAACoO,QAAS,GAAI/N,GAAI,GAAGmB,YAAa,GAAKD,WAAY,GAAImC,SAAU,GAAIpD,KAAM,GAAIJ,MAAO,GAAIR,SAAU,GAAI2L,SAAU,GAAKzM,IAAK,KACpImU,gBAAiB,GACjBC,sBAAuB,EACvBC,WAAW,EACXC,cAAc,EACd1R,YAAa,GACbD,WAAY,GACZ8M,YAAa,GACbhD,SAAU,I,EAGd8H,kBAAkB,WAEhB,EAAKrU,SAAL,2BACK,EAAKH,OADV,IAEEuU,cAAc,M,EAGlBE,mBAAmB,WAAK,IACbrU,EAAgB,EAAKuL,QAArBvL,cACQ,OAAZA,QAAY,IAAZA,OAAA,EAAAA,EAAciB,SAAU,EAAKrB,MAAMqB,OAClC,EAAKlB,SAAL,2BACK,EAAKH,OADV,IAEIqB,MAAK,OAAGjB,QAAH,IAAGA,OAAH,EAAGA,EAAciB,U,EAsBlCiC,cAAe,WAWX,IATA,IAAImC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAQ,IACRC,EAAY,WACd,OAAOC,KAAKC,MAAsB,EAAfD,KAAKE,SAAc,IAEhCjE,EAAI,EAAGA,EAAE,EAAIA,IAEnB,OADA8D,IACQA,KACN,KAAK,EACHN,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,KAAK,EACHC,EAAQ,IACR,MACF,QACEC,EAAQ,IAQd,OAHSL,EAAQC,EAAQC,EAAuB,KAAfK,KAAKE,SAAgB,EAAIN,EAAQC,EAAQC,G,EAsD9E4O,iBAAiB,SAACC,GACK,EAAKhJ,QAArB3H,aADgB,IAAD,EAEhB4Q,EAAgBD,EAAEhE,OAAOkE,MAAM,GAC7BC,EAAU,CACdjS,YAA+B,KAAjB+R,EAAA,UAAsBA,SAAtB,aAAsB,EAAclR,KAAO,MAExD,iBAAiB2L,KAAKyF,EAASjS,cAAgB+R,EAAaG,MAAQ,SAC7C9V,EAAQE,IAAR,kBAAuByV,EAAaI,OAAQC,IAAIL,EAAcE,GACxEI,GAAG,iBAAiB,SAAC1N,GAEjC,IAAM2N,EAA4E,IAAhEnP,KAAKoP,MAAM5N,EAAS6N,iBAAoB7N,EAAS8N,YACnE,EAAKnV,SAAL,2BACK,EAAKH,OADV,IAEEsU,WAAW,EACXD,sBAAuBc,QAGzB,SAACI,GAEDrQ,MAAMqQ,EAAMxC,SACZ,EAAKyC,gBAEP,WAEEvW,EAAQE,IAAI,WAAWmI,MAAMsN,EAAaI,MAAMS,iBAAiB9U,MAAM,SAAAsT,GAEnE,EAAK9T,SAAL,2BACK,EAAKH,OADV,IAEE0P,YAAakF,EAAaI,KAC1BV,WAAW,EACXD,sBAAuB,EACvBzR,WAAYqR,EACZpR,YAAa,SAASwM,KAAKyF,EAASjS,aAAe,QAAU,WAE/D+R,EAAgB,SAKtB1P,MAAM,0E,2DAvFR0B,KAAKzG,SAAL,2BACYyG,KAAK5G,OADjB,IAEQoU,gBAAiB,GACjBC,sBAAuB,EACvBC,WAAW,EACXC,cAAc,EACd1R,YAAa,GACbD,WAAY,GACZ8J,SAAU,GACVgD,YAAa,Q,iCAKrB9I,KAAK+E,QAAQtC,oBAAoBzC,KAAK5G,MAAM0P,aAC5C9I,KAAK4O,e,mCAEME,GAAG,IAAD,OACXA,EAAEtG,iBADS,MAGqDxI,KAAK+E,QAA9D3H,EAHI,EAGJA,aAAc5D,EAHV,EAGUA,aAAcR,EAHxB,EAGwBA,oBAAsBK,EAH9C,EAG8CA,IAEpD+D,IACmC,KAA/B4C,KAAK5G,MAAMoU,gBACoB,KAA3BxN,KAAK5G,MAAM0P,aACV9I,KAAK5G,MAAMqB,MAAMoC,QAAQ,CAACgM,QAAS7I,KAAK5G,MAAMoU,gBAAiB1S,GAAIkF,KAAKtD,gBAAgBT,YAAa+D,KAAK5G,MAAM6C,YAAcD,WAAYgE,KAAK5G,MAAM4C,WAAYmC,SAAU,GAAKpD,KAAM,IAAIC,KAAQL,MAAO,CAACC,OAAS,IAAKT,SAAQ,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAcW,SAAU2L,SAAU9F,KAAK5G,MAAM0M,SAAW/J,YAAa1C,EAAKe,cAAa,OAAEZ,QAAF,IAAEA,OAAF,EAAEA,EAAcY,cAAe0O,YAAa9I,KAAK5G,MAAM0P,cAElX1Q,EAAKiU,oBAAmB,SAAAtI,GACpB7L,EAAGgB,WAAW,SAASC,IAAvB,OAA2B4K,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAM1K,KAAKS,OAAO,CACrCW,MAAO,EAAKrB,MAAMqB,QACvBV,MAAK,WACNf,IACA,EAAK5B,MAAMiN,QAAQxJ,KAAK,KACxB,EAAK+T,oBAIXtQ,MAAM,8BAIVA,MAAM,iC,+BAqDT,IAAD,OACJ,OACI,kBAAC,WAAD,KACI,6BAASxD,GAAG,SAASmJ,UAAU,0CAC/B,yBAAKA,UAAU,mDACb,wBAAIA,UAAU,eAAd,cACE,yBAAKA,UAAU,qCACT,yBAAKA,UAAU,6BAETjE,KAAK5G,MAAMsU,UAET,yBAAKzJ,UAAU,uCACb,6CAIuB,UAA3BjE,KAAK5G,MAAM6C,YACT,yBAAKkI,IAAKnE,KAAK5G,MAAM4C,WAAYsK,IAAI,KACV,UAA3BtG,KAAK5G,MAAM6C,YACX,2BAAOkI,IAAKnE,KAAK5G,MAAM4C,WAAYuN,UAAQ,GAA3C,KACA,MAGR,0BAAMG,SAAU,SAACoF,GAAD,OAAM,EAAKC,aAAaD,KAEhC9O,KAAK5G,MAAMsU,UACX,yBAAKzJ,UAAU,QACb,kBAAC+K,GAAA,EAAD,CAAgB/B,QAAQ,SAAStK,MAAO3C,KAAK5G,MAAMqU,sBAAuBwB,YAAa,KAGrF,KAEFjP,KAAK5G,MAAMsU,UAEX,KADE,2BAAO5Q,KAAK,OAAO+M,SAAU,SAACkE,GAAD,OAAM,EAAKD,iBAAiBC,MAK9D/N,KAAK5G,MAAMsU,UAWV,KAVA,6BACE,8BAAUjB,UAAQ,EAAC3P,KAAK,OAAOkN,YAAY,qBAAqBrH,MAAO3C,KAAK5G,MAAMoU,gBAAiB3D,SAAU,SAACF,GAAD,OAAM,EAAKpQ,SAAS,CAACiU,gBAAiB7D,EAAEI,OAAOpH,WAC5J,2BAAO7F,KAAK,OAAOkN,YAAY,WAAWrH,MAAO3C,KAAK5G,MAAM0M,SAAU+D,SAAU,SAACF,GAAD,OAAM,EAAKpQ,SAAS,CAACuM,SAAU6D,EAAEI,OAAOpH,WAE1F,KAA3B3C,KAAK5G,MAAM6C,YACV,kBAACiT,GAAA,EAAD,CAAQ9K,QAAS,kBAAK,EAAK+K,YAAYlC,QAAQ,aAA/C,UACC,KAEH,kBAACiC,GAAA,EAAD,CAAQpS,KAAK,SAASmQ,QAAQ,YAAYjH,MAAM,WAAhD,kB,GAtObzC,iBAAnBgK,GAaK6B,YAAcxW,EAuOV6K,mBAAW8J,I,UC5GX9J,gBApIK,SAACrM,GAAS,IAAD,kBACLiO,YAAajN,GADR,mBAChBiS,GADgB,aAEe3G,oBAAS,GAFxB,mBAElBC,EAFkB,KAENC,EAFM,OAGDF,oBAAS,GAHR,mBAGlB2L,EAHkB,KAGZC,EAHY,KAInBvK,EAAUC,qBAAWpM,GACpB6G,EAA4IsF,EAA5ItF,iBAAmBlC,EAAyHwH,EAAzHxH,gBAAiB4F,EAAwG4B,EAAxG5B,qBAAsB9J,EAAkF0L,EAAlF1L,IAAK4J,EAA6E8B,EAA7E9B,gBAAiBzJ,EAA4DuL,EAA5DvL,aAAa4J,EAA+C2B,EAA/C3B,iBAAiCvD,GAAckF,EAA9BpF,eAA8BoF,EAAdlF,YAcpI,OAJDiE,qBAAU,WAAK,IAAD,EACVF,KAA8B,OAAZpK,QAAY,IAAZA,GAAA,UAAAA,EAAc+H,iBAAd,eAAyBa,QAAO,SAAAhH,GAAI,OAAQ,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM2F,gBAAN,OAAuBtB,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAkBpG,QAAK,OAC1G,QAACG,QAAD,IAACA,OAAD,EAACA,EAAc6H,UAAf,OAAyB5B,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAkB4B,YAGzC,kBAAC,WAAD,KACI,6BAASvG,GAAG,eAAemJ,UAAU,8BAIrC,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,4BACP,yBAAKA,UAAU,oCACX,kBAACC,EAAA,EAAD,CAAQD,UAAU,gBAAgBE,IAAG,OAAE1E,QAAF,IAAEA,OAAF,EAAEA,EAAkBrF,cAAekM,IAAG,OAAE7G,QAAF,IAAEA,OAAF,EAAEA,EAAkBtF,YAEnG,yBAAK8J,UAAU,oCACX,yBAAKA,UAAU,+BACX,wBAAIA,UAAU,0BAAd,OAAwCxE,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAkBtF,UAEvC,OAAhBsF,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBsJ,YAClB,kBAAC,IAAD,CAAY9E,UAAU,kBACpB,MAGL,yBAAKA,UAAU,YACX,4BAAQa,WAAU,OAACrF,QAAD,IAACA,OAAD,EAACA,EAAkBpG,KAAK4K,UAAYN,EAAa,qCAAsC,mCAAqCS,QAAS,kBA7BzK,SAAC/K,EAAKkW,EAAUC,GAC1BrM,EAAqB9J,EAAKkW,EAAUC,GACpCpY,EAAMiN,QAAQxJ,KAAK,aA2BqKsR,CAAO,OAAC1M,QAAD,IAACA,OAAD,EAACA,EAAkBpG,IAAnB,OAAwBoG,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAkBtF,SAA1C,OAAqDsF,QAArD,IAAqDA,OAArD,EAAqDA,EAAkBrF,iBAA1O,WACA,4BAAQ0K,WAAU,OAACrF,QAAD,IAACA,OAAD,EAACA,EAAkBpG,KAAK+K,QAAS,kBAAKnB,EAAgBU,EAAD,OAAalE,QAAb,IAAaA,OAAb,EAAaA,EAAkBpG,IAA/B,OAAoCoG,QAApC,IAAoCA,OAApC,EAAoCA,EAAkBtF,SAAtD,OAAgEsF,QAAhE,IAAgEA,OAAhE,EAAgEA,EAAkBrF,cAAef,EAAjG,OAAsGG,QAAtG,IAAsGA,OAAtG,EAAsGA,EAAcW,SAApH,OAA8HX,QAA9H,IAA8HA,OAA9H,EAA8HA,EAAcY,gBAAgB6J,UAAaN,EAAkD,qCAArC,oCAA7P,IAA2UA,EAAa,WAAa,YAI7W,yBAAKM,UAAU,iCACX,2BAAG,qCAAOxE,QAAP,IAAOA,GAAP,UAAOA,EAAkBhF,aAAzB,aAAO,EAAyBwL,OAAOpB,kBAA1C,KAAoF,OAAhBpF,QAAgB,IAAhBA,GAAA,UAAAA,EAAkBhF,aAAlB,eAAyBwL,QAAQ,EAAG,QAAS,QACjH,uBAAGhC,UAAU,aAAaG,QAAS,kBAAKhB,GAAiB,EAAD,OAAO3D,QAAP,IAAOA,OAAP,EAAOA,EAAkB4B,UAAW,eAAc,qCAAO5B,QAAP,IAAOA,GAAP,UAAOA,EAAkB4B,iBAAzB,aAAO,EAA6B4E,OAAOpB,kBAArJ,KAA+L,OAAhBpF,QAAgB,IAAhBA,GAAA,UAAAA,EAAkB4B,iBAAlB,eAA6B4E,QAAQ,EAAG,YAAa,YACpO,uBAAGhC,UAAU,aAAcG,QAAS,kBAAKhB,GAAiB,EAAD,OAAO3D,QAAP,IAAOA,OAAP,EAAOA,EAAkB8B,UAAW,eAAc,qCAAO9B,QAAP,IAAOA,GAAP,UAAOA,EAAkB8B,iBAAzB,aAAO,EAA6B0E,OAAOpB,kBAAtJ,iBAKhB,yBAAKZ,UAAU,sCACP,kCAAIxE,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBiM,MAG9B,yBAAKzH,UAAU,oCAEO,OAAhBxE,QAAgB,IAAhBA,GAAA,UAAAA,EAAkBhF,aAAlB,eAAyBwL,SAAS,EACrC,yBAAKhC,UAAU,mCACV,0BAAMG,QAAS,kBAAKkL,GAAQ,IAAO5K,MAAO,CAACsB,MAAOqJ,EAAO,UAAW,UAAWI,UAAWJ,EAAO,oBAAsB,SAAS,kBAAC,IAAD,OAChI,0BAAMjL,QAAS,kBAAKkL,GAAQ,IAAQ5K,MAAO,CAACsB,MAAQqJ,EAAkB,UAAX,UAAqBI,UAAYJ,EAA6B,OAAtB,sBAA+B,kBAAC,IAAD,QAEpI,MAKF,yBAAKpL,UAAWoL,EAAO,wBAA0B,wCAEzB,OAAhB5P,QAAgB,IAAhBA,GAAA,UAAAA,EAAkBhF,aAAlB,eAAyBwL,SAAS,IAAMoE,EAAxC,OACI5K,QADJ,IACIA,GADJ,UACIA,EAAkBhF,aADtB,aACI,EAAyBiB,KAAI,SAACqR,EAAM1R,GAC5B,OACI,yBAAK2I,KAAS,OAAJ+I,QAAI,IAAJA,OAAA,EAAAA,EAAMjS,IAAGO,EAAI4I,UAAU,6BACzB,yBAAKG,QAAS,kBApEzC,SAAC/I,EAAGP,GACrByC,EAAgB,mBAAoB,CAACkB,MAAOpD,EAAGP,GAAIA,IACnD1D,EAAMiN,QAAQxJ,KAAK,gBAkE4C6U,CAAerU,EAAD,OAAI0R,QAAJ,IAAIA,OAAJ,EAAIA,EAAMjS,KAAM4J,MAAO,CAACwI,MAAOmC,EAAO,OAAS,QAASpL,UAAU,wBAAwBE,IAA2B,WAAlB,OAAJ4I,QAAI,IAAJA,OAAA,EAAAA,EAAM9Q,aAAN,OAAgC8Q,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAM/Q,WAAmC,WAAlB,OAAJ+Q,QAAI,IAAJA,OAAA,EAAAA,EAAM9Q,aAA0B4D,EAAa,KAAMyG,IAAG,gBAAWjL,SAI1QgP,EACG,kBAACsF,GAAA,EAAD,eACG1C,QAAQ,cACRkB,KAAM,GACNyB,UAAW,GACPxY,EAJP,CAKGuL,MAAO,OAIX,yBAAKsB,UAAU,uCACX,yBAAKA,UAAU,mCACX,yBAAKA,UAAU,qCAAoC,kBAAC,IAAD,CAAcA,UAAU,gBAC3E,uCACA,wEAA6C,6BAA7C,mCAEA,qEAaxB,yBAAKnJ,GAAG,iBAAiBmJ,UAAU,4DAC/B,wBAAIA,UAAU,6BACN,qCACA,oCACA,qCACA,mCACA,oCACA,uCACA,qCACA,yCACA,4CACA,wCACA,yCAEJ,yBAAKA,UAAU,mBACX,oEACA,sFC3HtB4L,G,kDAEF,WAAYzY,GAAO,IAAD,8BACd,cAAMA,IA8CViQ,gBAAgB,SAACpN,GAAW,IAAD,EAC4D,EAAK8K,QAAjFtF,EADgB,EAChBA,iBAAkB3D,EADF,EACEA,kBAAkB4D,EADpB,EACoBA,iBAAkBrG,EADtC,EACsCA,IAAKG,EAD3C,EAC2CA,aAC9DsW,EAAS,OAAGrQ,QAAH,IAAGA,OAAH,EAAGA,EAAkBhF,MAClC,GAAGqV,EAAU,CAAC,IAAD,EACuDA,EAAS,OAACpQ,QAAD,IAACA,OAAD,EAACA,EAAkBjB,OAArE1C,GADd,EACF5B,SADE,EACOQ,MADP,EACcoB,aAAaC,EAD3B,EAC2BA,WAAYC,EADvC,EACuCA,YAChDH,EAAkB7B,EAAD,OAAUyF,QAAV,IAAUA,OAAV,EAAUA,EAAkBjB,MAAO1C,EAAnC,OAAgDvC,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAcW,SAA9D,OAAyEX,QAAzE,IAAyEA,OAAzE,EAAyEA,EAAcY,cAAef,EAAK2C,EAAYC,KApD9H,EAwDlBqL,iBAAiB,WACf,IAAIC,EAAY,EAAKnO,MAAMoO,UAC3B,EAAKjO,UAAS,SAAAkO,GAAS,MAAI,CACzBD,UAAWC,EAAUD,UAAW,MAElC,IAAME,EAAa,WACjB,EAAKnO,SAAL,2BACO,EAAKH,OADZ,IAEGoO,UAAW,MAGC,IAAdD,IACD,EAAKF,iBAAgB,GACpBK,IACA,EAAKnO,SAAL,2BACM,EAAKH,OADX,IAEIuO,mBAAmB,KAEvBC,YAAW,WACP,EAAKrO,SAAL,2BACM,EAAKH,OADX,IAEAuO,mBAAmB,OAErB,OAENC,YAAW,WACRF,MACD,MAjFC,EAAKG,WAAahP,IAAMiP,YACxB,EAAK1O,MAAO,CACZ2N,WAAW,EACXgB,gBAAiB,GACjBgI,UAAW,GACX/H,iBAAiB,EACjBR,UAAU,EACVG,mBAAmB,EACnBS,WAAY,IAVE,E,gEAyBC,IAEP3I,EAAoBO,KAAK+E,QAAzBtF,iBACRO,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEI2W,UAAWtQ,O,mCAKN,IAEkB,EAFnB,EAC2CO,KAAK+E,QAAjDtF,EADC,EACDA,iBAAkBC,EADjB,EACiBA,iBAAmBrG,EADpC,EACoCA,IAC5C,UAAGoG,QAAH,IAAGA,OAAH,EAAGA,EAAkBhF,MAElB,OAAyD,KAAlD,WAFiB,OACTgF,QADS,IACTA,OADS,EACTA,EAAkBhF,MAAlB,OAAwBiF,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAkBjB,QAAnD9D,MACOC,cAAN,eAAcc,KAAI,SAAAG,GAAE,OAAKA,EAAGf,MAAImC,QAAQ5D,M,oCA8CxCkP,GACVA,EAAEC,iBADU,MAGyHxI,KAAK+E,QAAnItF,EAHK,EAGLA,iBAAmBoD,EAHd,EAGcA,yBAA2BnF,EAHzC,EAGyCA,kBAAoBgC,EAH7D,EAG6DA,iBAAkBrG,EAH/E,EAG+EA,IAAKG,EAHpF,EAGoFA,aAC5FsW,GAJQ,EAGkGzM,oBACjG,OAAG5D,QAAH,IAAGA,OAAH,EAAGA,EAAkBhF,OAClC,GAAGqV,EAAU,CAAC,IAAD,EAC0CA,EAAS,OAACpQ,QAAD,IAACA,OAAD,EAACA,EAAkBjB,OAAxE3D,EADE,EACFA,GAAIiB,EADF,EACEA,YAAaC,EADf,EACeA,WAAYC,EAD3B,EAC2BA,YACF,KAA/B+D,KAAK5G,MAAM2O,kBACL/H,KAAK5G,MAAMgP,aAAe,IAAQ,OAAOK,KAAKzI,KAAK5G,MAAM2O,iBAC7DrK,EAAkBsC,KAAK5G,MAAMgP,WAAYpI,KAAK5G,MAAM2O,gBAAnC,OAAoDvO,QAApD,IAAoDA,OAApD,EAAoDA,EAAcY,eAAe,EAAO4B,EAAYC,GAElH4G,EAAyB,SAAD,OAAUnD,QAAV,IAAUA,OAAV,EAAUA,EAAkBjB,MAAOpF,EAAnC,OAAwCG,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAcW,SAAU6F,KAAK5G,MAAM2O,gBAA3E,OAA4FtI,QAA5F,IAA4FA,OAA5F,EAA4FA,EAAkBrF,cAAe,IAAIY,KAAQF,EAAIiB,EAAaC,EAAYC,GAElM+D,KAAKzG,SAAS,CACVwO,gBAAiB,GACjBK,WAAY,S,iCAMjBM,EAAc5K,EAAc5D,EAAW6D,EAAQhC,GACtDiE,KAAK6H,WAAWc,QAAQC,QACxB5I,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEIgP,WAAY,CAACM,gBAAc5K,eAAc5D,YAAW6D,SAAQhC,eAC5DgM,gBAAgB,IAAD,OAAMW,EAAN,U,+BAGd,IAAD,mBACsI1I,KAAK+E,QAA9ItF,EADG,EACHA,iBAAmBC,EADhB,EACgBA,iBAAkBrG,EADlC,EACkCA,IAAKG,EADvC,EACuCA,aAAcgF,EADrD,EACqDA,qBAAwC4E,GAAlB1D,EAD3E,EAC2EA,iBAD3E,EAC6F0D,kBAAkBC,EAD/G,EAC+GA,oBACvH,aAAG5D,SAAH,aAAG,EAAkBhF,MAAO,IAAD,kBACyEgF,SADzE,aACyE,EAAkBhF,MAAlB,UAAwBiF,SAAxB,aAAwB,EAAkBjB,OAArItE,EADkB,EAClBA,SAAS0O,EADS,EACTA,QAAS5M,EADA,EACAA,YAAaD,EADb,EACaA,WAAYmC,EADzB,EACyBA,SAAUxD,EADnC,EACmCA,MAAOmL,EAD1C,EAC0CA,SAAU/K,EADpD,EACoDA,KAAMgB,EAD1D,EAC0DA,YAC7EgN,EAAU,UAAGtJ,SAAH,aAAG,EAAkBsJ,WAGnC,OACI,kBAAC,WAAD,MAEuB,QAAhB,EAAAtJ,SAAA,eAAkBhF,OAErB,yBAAKK,GAAG,OAAOmJ,UAAU,oCACrB,6BAASA,UAAU,uBACX,yBAAKA,UAAU,+BACX,4BAAQA,UAAU,iCACd,kBAACC,EAAA,EAAD,CAAQD,UAAU,uBAAuBE,IAAI,GAAGmC,IAAI,WACpD,yBAAKrC,UAAU,wCACX,0BAAM+E,SAAS,IAAIC,gBAAc,QAAQC,KAAK,SAASjF,UAAU,YAC7D,wBAAIA,UAAU,kBAAiB,kBAACK,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,OAAOrK,GAA4B4O,EAAc,8BAAM,kBAAC,IAAD,CAAY9E,UAAU,mBAA2B,KAAzK,MAEJ,0BAAM+E,SAAS,IAAIC,gBAAc,QAAQC,KAAK,UAC1C,2BAAG,kBAAC5E,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,OAAOsB,OAKxD,0BAAM7B,UAAU,yBAAwB,kBAAC,IAAD,QAE5C,yBAAKA,UAAU,oBAEK,UAAhBhI,EACA,6BACI,yBAAMmI,QAAS,kBAAK,EAAKkD,oBAAoBrD,UAAU,sBAAsBE,IAAKnI,EAAYsK,IAAI,OAAOgD,UAAU,UAE/GtJ,KAAK5G,MAAMuO,kBACX,6BAEI,yBAAK1D,UAAU,iCACf,0BAAMA,UAAU,uBAAuBS,MAAO,CAC9BuC,UAAWjH,KAAK5G,MAAMuO,kBAAoB,wCAA0C,OACrF,kBAAC,IAAD,QAEjB,MAGQ,UAAhB1L,EACF,6BACE,2BAAOgI,UAAU,sBAAsBE,IAAKnI,EAAYsN,UAAU,QAAQC,UAAQ,IAClF,kBAAC,IAAD,CAActF,UAAU,sBAGxB,MAKN,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,qCACX,yBAAKA,UAAU,aAENjE,KAAKqI,aAIF,0BAAMjE,QAAS,kBAAK,EAAKiD,iBAAgB,IACrC3C,MAAO,CACHuC,UAAWjH,KAAKqI,aAAgB,gCAAkC,MAE1EpE,UAAU,gBAAe,kBAAC,IAAD,OAP7B,0BAAMG,QAAS,kBAAK,EAAKiD,iBAAgB,KACpC,kBAAC,IAAD,OAQL,8BAAM,kBAAC,IAAD,OACN,8BAAM,kBAAC,IAAD,QAEd,yBAAKpD,UAAU,kBAAiB,kBAAC,IAAD,SAGhC,UAAAtJ,EAAMC,cAAN,eAAcqL,SAAS,EACvB,yBAAKhC,UAAU,eAAeG,QAAS,kBAAKhB,GAAiB,EAAD,OAAOzI,QAAP,IAAOA,OAAP,EAAOA,EAAOC,OAAO,WAAjF,UAA4FD,EAAMC,cAAlG,aAA4F,EAAcqL,OAAOpB,iBAAjH,IAA8J,KAAzB,UAAAlK,EAAMC,cAAN,eAAcqL,QAAgB,OAAU,SAC3K,KAEL,0BAAMhC,UAAU,0BAAyB,gCAAS9J,GAAlD,IAAwE6F,KAAK5G,MAAM4O,gBAAmL,uBAAG/D,UAAU,iBAAiB4E,GAA/L,2BAAG,kBAACvE,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,UAAUE,MAAO,CAACwC,OAAO,WAAY9C,QAAS,kBAAK,EAAK7K,SAAS,CAACyO,iBAAiB,MAASa,MAE3N,OAAR1K,QAAQ,IAARA,OAAA,EAAAA,EAAU8H,SAAS,EACnB,yBAAKhC,UAAU,2BAEC,OAAR9F,QAAQ,IAARA,OAAA,EAAAA,EAAU8H,QAAS,EACf,wBAAIhC,UAAU,wBAAwBG,QAAS,kBAAKf,GAAoB,KAAxE,YAAyFlF,EAAS8H,OAAOpB,iBAAzG,aAEA,wBAAIZ,UAAU,yBAAd,YALZ,OAQQ9F,QARR,IAQQA,OARR,EAQQA,EAAUsL,MAAM,EAAE,GAAG/N,KAAI,SAACyE,EAAS9E,GAAM,IAAD,IACpC,OACI,kBAACmO,EAAD,CAASxF,IAAM3I,EACf8E,QAASA,EACT3B,qBAAsBA,EACtBzC,YAAaA,EACb+B,aAAczC,EACdN,KAAI,OAAEoF,QAAF,IAAEA,OAAF,EAAEA,EAASpF,KACf2L,WAAY,EAAKA,WAAW9D,KAAK,GACjC1I,UAAWwF,EAAiBjB,MAC5BkI,OAAM,UAAEnN,SAAF,aAAE,EAAcW,SACtBQ,MAAOA,EACPiM,WAAU,UAAEpN,SAAF,aAAE,EAAcY,cAC1Bf,IAAKA,EACL4C,YAAaA,EACbD,WAAYA,EACZoH,iBAAkBA,QAMhC,KAGN,2BAAOa,UAAU,cAAc,IAAIjJ,KAAmB,IAAdD,EAAK6J,SAAeC,kBAC5D,0BAAM6E,SAAU,SAACC,GAAD,OAAM,EAAKC,cAAcD,IAAI1F,UAAU,iCACnD,2BAAO1L,IAAKyH,KAAK6H,WAAYlF,MAAO3C,KAAK5G,MAAM2O,gBAAiB8B,SAAU,SAACC,GAAD,OAAU,EAAKvQ,SAAS,CAACwO,gBAAiB+B,EAAMC,OAAOpH,SAASsB,UAAU,sBAAsBnH,KAAK,OAAOkN,YAAY,qBAClM,4BAAQlN,KAAK,SAASgI,SAAU9E,KAAK5G,MAAM2O,gBAAgB9B,OAAU,EAAGhC,UAAWjE,KAAK5G,MAAM2O,gBAAgB9B,QAAS,EAAI,uBAAwB,iCAAnJ,YAOlB,8D,GAnPK1C,iBAAjBsM,GACKT,YAAcxW,EAyPViX,U,sCC5PTG,G,kDACF,WAAY5Y,GAAO,IAAD,8BACd,cAAMA,IAcVwW,kBAAkB,WACdqC,KAAEC,UAAUC,OAAM,WACdF,KAAE,kBAAkB3B,GAAG,SAAS,WAC5B2B,KAAE,kBAAkBG,MAAK,SAAC/U,EAAGD,GACzB6U,KAAE7U,GAAMiV,YAAY,iBAExBJ,KAAEjQ,MAAMsQ,SAAS,qBArBX,EA2BlBzC,mBAAmB,SAACvF,EAAUb,GACvBa,EAAUtG,WAAa,EAAK5K,MAAM4K,UAE9B,EAAKuO,WAAWC,gBAChB,EAAKD,WAAWC,eAAe,CAAEC,SAAU,YA/BpC,EAoEnBC,YAAY,SAACC,GACR,EAAKpX,SAAL,2BACO,EAAKH,OADZ,IAEIwX,WAAY,EAAKxX,MAAMwX,WAAaD,MArExC,EAAKJ,WAAa1X,IAAMiP,YACxB,EAAK1O,MAAM,CACPwX,WAAY,GACZC,cAAe,GACfC,iBAAkB,EAClBC,gBAAgB,EAChBC,YAAY,GARF,E,0DAoCJzI,GACVA,EAAEC,iBADU,MAGiCxI,KAAK+E,QAA3C7B,EAHK,EAGLA,qBAAsB1J,EAHjB,EAGiBA,aACvByX,EAAQ,OAAGzX,QAAH,IAAGA,OAAH,EAAGA,EAAcwI,SAAShC,KAAK5G,MAAM0X,kBAEnD5N,EAAqBlD,KAAK5G,MAAMwX,WAAZ,OAAwBK,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAU5X,IAAK,QAE3D2G,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEIwX,WAAY,Q,wCAGFM,EAAYC,GAAa,IAEjCnP,EADgBhC,KAAK+E,QAArBvL,aACAwI,SAWPhC,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEIyX,cAAe7O,EAASmP,GACxBL,iBAAkBK,O,+BAShB,IAAD,SACG3X,EAAgBwG,KAAK+E,QAArBvL,aACAwI,EAAYxI,EAAZwI,SACDoP,EAAMpP,EAAWA,EAAShC,KAAK5G,MAAM0X,kBAAoB,GAC/D,OACI,kBAAC,EAAD,KACA,6BAAShW,GAAG,WAAWmJ,UAAU,uBAC7B,yBAAKA,UAAU,gBAEP,yBAAKA,UAAU,oCAEX,yBAAKA,UAAU,kDACX,yBAAKA,UAAU,gCACX,0BAAMA,UAAU,kBACZ,sCACA,kBAAC,IAAD,CAAgBA,UAAU,gBAIlC,yBAAKA,UAAU,+BACX,yBAAKA,UAAU,kBACX,uCACA,yCAKR,yBAAKA,UAAU,yBACX,wBAAInJ,GAAG,eAEK,OAARkH,QAAQ,IAARA,OAAA,EAAAA,EAAUiE,SAAS,EAAnB,OACAjE,QADA,IACAA,OADA,EACAA,EAAUtG,KAAI,SAACqI,EAAKtF,GAAS,IAAD,IACxB,OAEI,wBAAIwF,UAAU,2BAA2BD,IAAKD,EAAK1K,IAAKoF,EAAO2F,QAAS,WAAM,EAAKiN,kBAAL,OAAuBtN,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAM1K,IAAKoF,GAAQ,EAAKlF,SAAS,CAACuX,iBAAkBrS,MACrJ,kBAACyF,EAAA,EAAD,CAAQC,IAAG,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAM5B,qBACnB,yBAAK8B,UAAU,uCACX,yBAAKS,MAAO,CAAC4M,KAAK,EAAEpE,MAAM,SACtB,2BAAG,kBAAC5I,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,MAAlC,OAAwCT,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAM5J,UAAjD,KACA,0BAAM8J,UAAU,iBAAgB,kBAACK,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,MAAMT,EAAK9B,QAAQgE,QAAS,EAAKlC,EAAK9B,SAAQ,UAAA8B,EAAK9B,eAAL,eAAcgE,QAAO,GAAGpE,QAAU,QAEtJ,uBAAGoC,UAAU,wBAAwBF,EAAK9B,QAAQgE,QAAS,EAAK,IAAIjL,KAAwD,IAAnD+I,EAAK9B,SAAQ,UAAA8B,EAAK9B,eAAL,eAAcgE,QAAO,GAAGlL,KAAK6J,SAAeC,iBAAmB,WAMrK,wBAAIH,MAAO,CAACkB,SAAS,OAAQ2L,WAAW,MAAOlL,UAAU,WAAzD,2EAQhB,yBAAKpC,UAAU,kBACX,yBAAKA,UAAU,kCAERjE,KAAK5G,MAAM2X,eAGZ,kBAAC,KAAD,CAAS3M,QAAS,kBAAK,EAAK7K,SAAS,CAACwX,gBAAgB,OAFtD,kBAAC,IAAD,CAAa3M,QAAS,kBAAK,EAAK7K,SAAS,CAACwX,gBAAgB,QAO7D/Q,KAAK5G,MAAM2X,eACV,yBAAK9M,UAAU,uBAAuBG,QAAS,kBAAK,EAAK7K,SAAS,CAACwX,gBAAgB,OACrF,KAGH,yBAAKrM,MAAO,CACR8M,UAAWxR,KAAK5G,MAAM2X,eAAiB,eAAe,mBACtD5K,WAAY,kBACZC,QAASpG,KAAK5G,MAAM2X,eAAiB,IAAK,KAC3CjW,GAAG,aAAamJ,UAAU,6BAJ7B,IAKS,yBAAKA,UAAU,iDACX,yBAAKA,UAAU,gCACX,0BAAMA,UAAU,kBACZ,wCAIR,yBAAKA,UAAU,+BACX,yBAAKA,UAAU,kBACX,uCACA,yCAKR,yBAAKA,UAAU,yBACX,wBAAInJ,GAAG,eAEK,OAARkH,QAAQ,IAARA,OAAA,EAAAA,EAAUiE,SAAS,EAAnB,OACAjE,QADA,IACAA,OADA,EACAA,EAAUtG,KAAI,SAACqI,EAAKtF,GAAS,IAAD,IACxB,OACI,wBAAIwF,UAAU,2BAA2BD,IAAKD,EAAK1K,IAAKoF,EAAO2F,QAAS,WAAM,EAAKiN,kBAAL,OAAuBtN,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAM1K,IAAKoF,GAAQ,EAAKlF,SAAS,CAACuX,iBAAkBrS,EAAOsS,gBAAgB,MAC5K,kBAAC7M,EAAA,EAAD,CAAQC,IAAG,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAM5B,qBACnB,yBAAK8B,UAAU,uCACX,yBAAKS,MAAO,CAAC4M,KAAK,EAAEpE,MAAM,SACtB,2BAAG,kBAAC5I,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,MAAlC,OAAwCT,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAM5J,UAAjD,KACA,0BAAM8J,UAAU,iBAAgB,kBAACK,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,MAAMT,EAAK9B,QAAQgE,QAAS,EAAKlC,EAAK9B,SAAQ,UAAA8B,EAAK9B,eAAL,eAAcgE,QAAO,GAAGpE,QAAU,QAEtJ,uBAAGoC,UAAU,wBAAwBF,EAAK9B,QAAQgE,QAAS,EAAK,IAAIjL,KAAwD,IAAnD+I,EAAK9B,SAAQ,UAAA8B,EAAK9B,eAAL,eAAcgE,QAAO,GAAGlL,KAAK6J,SAAeC,iBAAmB,WAMrK,wBAAIH,MAAO,CAACkB,SAAS,OAAQ2L,WAAW,MAAOlL,UAAU,WAAzD,4EAUnBrG,KAAK5G,MAAMyX,cAAgB,EACrB,yBAAK5M,UAAU,0CAAf,IAGa,yBAAKA,UAAU,qCACX,6BAAK,kBAAC,IAAD,CAAQA,UAAU,0BACvB,6CACA,qFACA,kDAIhB,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,sCAEX,kBAACC,EAAA,EAAD,CAAQC,IAAG,OAAEiN,QAAF,IAAEA,OAAF,EAAEA,EAAKhX,gBAClB,yBAAK6J,UAAU,uCACC,2BAAG,kBAACK,EAAA,EAAD,CAAgBC,KAAM,EAAGC,SAAS,MAAlC,OAAwC4M,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAKjX,UAAhD,KACA,yBAAK8J,UAAU,gBAAe,kBAAC,IAAD,SAIlD,yBAAKA,UAAU,2BAAf,OAEQmN,QAFR,IAEQA,GAFR,UAEQA,EAAKnP,eAFb,aAEQ,EAAcvG,KAAI,SAACyQ,EAAS1N,GACxB,OACI,yBAAKuF,KAAY,OAAPmI,QAAO,IAAPA,OAAA,EAAAA,EAAS9S,KAAMoF,EAAOwF,UAAU,kBACtC,0BAAM1L,IAAK,SAACsD,GAAD,OAAO,EAAK0U,WAAa1U,KACpC,yBAAKoI,WAAkB,OAAPkI,QAAO,IAAPA,OAAA,EAAAA,EAAS9S,QAAT,OAAiBG,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAcH,KAAM,qBAAuB,YACxE,yBAAK4K,UAAU,iBACX,qCAAOkI,QAAP,IAAOA,OAAP,EAAOA,EAAStK,gBAWhD7B,KAAK5G,MAAM4X,WACR,yBAAKtM,MAAO,CACR0B,QAASpG,KAAK5G,MAAM4X,WAAa,IAAK,IACtC7K,WAAY,iBACblC,UAAU,8BACR,0BAAMG,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,gBACA,0BAAMtM,QAAS,kBAAK,EAAKsM,YAAY,mBAArC,iBAEF,KAEF,yBAAKzM,UAAU,mCACV,0BAAMyF,SAAU,SAACnB,GAAD,OAAM,EAAKkJ,cAAclJ,IAAItE,UAAU,YACnD,kBAAC,KAAD,CAAWG,QAAS,kBAAK,EAAK7K,SAAS,CAACyX,YAAa,EAAK5X,MAAM4X,cAAc/M,UAAU,iBACzF,2BAAO4F,SAAU,SAACF,GAAD,OAAO,EAAKpQ,SAAS,CAACqX,WAAYjH,EAAEI,OAAOpH,SAASA,MAAO3C,KAAK5G,MAAMwX,WAAY3M,UAAU,iBAAiB+F,YAAY,eAEtIhK,KAAK5G,MAAMwX,WACX,2BAAO9T,KAAK,SAAS6F,MAAM,SACzB,iB,GAtQ/B+O,aAAjB1B,GAcKZ,YAAcxW,EA0QVoX,UC7OAvM,gBA1CE,SAACrM,GAAS,IAAD,QAChB2N,EAAUC,qBAAWpM,GACpBY,EAAwCuL,EAAxCvL,aAAc+E,EAA0BwG,EAA1BxG,uBAFC,EAGP8G,YAAajN,GAArB2L,EAHe,oBAIhBuB,EAAiB,SAACxI,GAAQ,IAAD,IACrByI,EAAU,OAAG/L,QAAH,IAAGA,GAAH,UAAGA,EAAc8C,qBAAjB,aAAG,EAA6BE,SAC1CgJ,EAAO,OAAGhM,QAAH,IAAGA,GAAH,UAAGA,EAAc8C,qBAAjB,aAAG,EAA6B4F,UAC/B,aAATpF,GAAuByI,GAER,aAATzI,GAAuB0I,IAD5BjH,EAAuBzB,IAKjC,OACI,kBAAC,EAAD,KACI,4BAAQhC,GAAG,SAASmJ,UAAU,wBACtB,yBAAKA,UAAU,eACX,wBAAIA,UAAU,uBACV,4BAAI,kBAAC,IAAD,CAASyB,OAAK,EAACD,GAAG,IAAIE,gBAAgB,mBAAkB,kBAAC,IAAD,CAAQjB,MAAO,CAACkB,SAAS,YAE/E7B,EAAO,wBAAIE,UAAU,oBAAmB,kBAAC,IAAD,CAAUG,QAAS,kBAAKkB,EAAiB,aAAeG,GAAG,YAAYE,gBAAgB,mBAAkB,kBAAC,IAAD,OAEjI,OAAZnM,QAAY,IAAZA,GAAA,UAAAA,EAAc8C,qBAAd,eAA6B4F,WAAwC,cAA5B9K,EAAM0O,SAASC,SACtD,yBAAK9B,UAAU,oBACT,KAJ4B,MAKlB,KACtBF,EAAO,4BAAK,kBAAC,IAAD,CAAU0B,GAAG,YAAYE,gBAAgB,mBAAkB,kBAAC,IAAD,QAAyC,KAChH5B,EAAO,wBAAIE,UAAU,mBAAmBG,QAAS,kBAAKkB,EAAiB,cAAa,kBAAC,IAAD,CAASG,GAAG,iBAAiBE,gBAAgB,mBAC/H,kBAAC,IAAD,OAEc,OAAZnM,QAAY,IAAZA,GAAA,UAAAA,EAAc8C,qBAAd,eAA6BE,YAAY,UAAAhD,EAAa8C,qBAAb,mBAA4BM,YAA5B,eAAkCqJ,SAAQ,EACjF,yBAAKhC,UAAU,oBACT,OAEQ,KACpBF,EAAO,4BAAI,kBAAC,IAAD,CAAU0B,GAAG,WAAWE,gBAAgB,mBAAkB,kBAACzB,EAAA,EAAD,CAAQC,IAAI,GAAGmC,IAAI,GAAGrC,UAAU,uCAAsD,YCP9K0N,GAnCY,SAACva,GAAS,IAAD,QACXiO,YAAajN,GAAxBiS,GADsB,EACzBuH,EADyB,EACtBvH,SADsB,EAEuDjT,EAAM2N,QAAtFlF,EAFyB,EAEzBA,WAAYoD,EAFa,EAEbA,gBAAiBF,EAFJ,EAEIA,gBAAiBxF,EAFrB,EAEqBA,gBAAiB/D,EAFtC,EAEsCA,aACtE,OACI,kBAAC,EAAD,KAEO6Q,EAwBD,0CAvBF,yBAAKpG,UAAU,iEACX,yBAAKA,UAAU,oBACX,0CAGW,OAAZzK,QAAY,IAAZA,GAAA,UAAAA,EAAc8C,qBAAd,eAA6BM,KAAKqJ,SAAS,EAE1C,wBAAInL,GAAG,mBAAmBmJ,UAAU,kDAApC,OAEQzK,QAFR,IAEQA,GAFR,UAEQA,EAAc8C,qBAFtB,iBAEQ,EAA6BM,YAFrC,aAEQ,EAAmClB,KAAK,SAACmI,EAAcxI,GACnD,OACI,yBAAK2I,IAAG,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAclH,QAChB,kBAAC,EAAD,CAAqBkH,aAAcA,EAAchE,WAAYA,EAAYkC,OAAQvI,EAAcyJ,gBAAiBA,EAAiBF,gBAAiBA,EAAiBxF,gBAAiBA,EAAiBrD,UAAWmB,SAOvO,6BAAK,wBAAIqJ,MAAO,CAAC2B,UAAU,WAAtB,4CCMX5C,gBAjCM,SAACrM,GAAS,IAAD,EACcsM,oBAAS,GADvB,mBACnBC,EADmB,KACPC,EADO,KAEnBvK,EAAqGjC,EAArGiC,IAAKc,EAAgG/C,EAAhG+C,SAAUqV,EAAsFpY,EAAtFoY,UAAkBhW,GAAoEpC,EAA3E2D,KAA2E3D,EAApEoC,cAAcyJ,EAAsD7L,EAAtD6L,gBAAiBF,EAAqC3L,EAArC2L,gBAAiBK,EAAoBhM,EAApBgM,iBAExFU,qBAAU,WACNF,KAA8B,OAAZpK,QAAY,IAAZA,OAAA,EAAAA,EAAc+H,UAAUa,QAAO,SAAA2B,GAAI,OAAKA,EAAKhD,cAAgB1H,KAAK,OACtF,QAACG,QAAD,IAACA,OAAD,EAACA,EAAc+H,YAOjB,OACI,kBAAC,EAAD,KACI,yBAAK0C,UAAU,8BACX,yBAAKA,UAAU,0CACZ,kBAACC,EAAA,EAAD,CAAQC,IAAKqL,EAAWlJ,IAAKnM,IAC5B,yBAAK8J,UAAU,gCAAgCG,QAAS,kBAVpErB,EAAgB1J,GAChB+J,GAAiB,EAAO,GAAG,SAC3BhM,EAAMiN,QAAQxJ,KAAK,mBASH,4BAAKV,KAKXd,IAAQG,EAAaH,IACnB,4BAAQyL,UAAWzL,EAAK+K,QAAS,kBAAKnB,EAAgBU,EAAYtK,EAAKc,EAAUqV,EAA5B,OAAuChW,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAcH,IAArD,OAA0DG,QAA1D,IAA0DA,OAA1D,EAA0DA,EAAcW,SAAxE,OAAkFX,QAAlF,IAAkFA,OAAlF,EAAkFA,EAAcY,gBAAiB6J,UAAYN,EAAa,qCAAsC,oCAArO,IAA2QA,EAAa,WAAc,UACxS,UCuEHkO,GAjGG,SAACza,GAAS,IAEpB0a,EAFmB,EACmF9M,qBAAWpM,GAA9GwK,EADgB,EAChBA,iBAAiBzD,EADD,EACCA,eAAgBC,EADjB,EACiBA,eAAgBpG,EADjC,EACiCA,aAAcyJ,EAD/C,EAC+CA,gBAAiBF,EADhE,EACgEA,gBAavF,cAAOnD,QAAP,IAAOA,OAAP,EAAOA,EAAgB9C,MAEnB,IAAK,YACFgV,EAAM,OAAIlS,QAAJ,IAAIA,OAAJ,EAAIA,EAAgBhD,KAAKlB,KAAI,SAACqI,EAAM1I,GACjC,OACI,kBAAC,GAAD,CAAe2I,KAAS,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAM7C,WAAY7F,EAAGhC,IAAG,OAAE0K,QAAF,IAAEA,OAAF,EAAEA,EAAM7C,UAAW/G,SAAQ,OAAE4J,QAAF,IAAEA,OAAF,EAAEA,EAAM1F,WAAYmR,UAAS,OAAEzL,QAAF,IAAEA,OAAF,EAAEA,EAAM5C,gBAAiBpG,KAAI,OAAEgJ,QAAF,IAAEA,OAAF,EAAEA,EAAMhJ,KAAMvB,aAAcA,EAAcyJ,gBAAiBA,EAAiBF,gBAAiBA,EAAiBK,iBAAkBA,OAGjR,MACA,IAAK,YACD0O,EAAM,OAAGlS,QAAH,IAAGA,OAAH,EAAGA,EAAgBhD,KAAKlB,KAAI,SAACqI,EAAM1I,GACzB,OACI,kBAAC,GAAD,CAAe2I,KAAS,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAMhD,aAAc1F,EAAGhC,IAAG,OAAE0K,QAAF,IAAEA,OAAF,EAAEA,EAAMhD,YAAa5G,SAAQ,OAAE4J,QAAF,IAAEA,OAAF,EAAEA,EAAM/C,aAAcwO,UAAS,OAAEzL,QAAF,IAAEA,OAAF,EAAEA,EAAM9C,kBAAmBlG,KAAI,OAAEgJ,QAAF,IAAEA,OAAF,EAAEA,EAAMhJ,KAAMvB,aAAcA,EAAcyJ,gBAAiBA,EAAiBF,gBAAiBA,EAAiBK,iBAAkBA,OAGjS,MACA,IAAK,QACC0O,EAAM,OAAGlS,QAAH,IAAGA,OAAH,EAAGA,EAAgBhD,KAAKlB,KAAI,SAACqI,EAAM1I,GAC3B,OACI,kBAAC,GAAD,CAAe2I,KAAS,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAMjJ,IAAKO,EAAGhC,IAAG,OAAG0K,QAAH,IAAGA,OAAH,EAAGA,EAAMjJ,GAAIX,SAAQ,OAAE4J,QAAF,IAAEA,OAAF,EAAEA,EAAM5J,SAAUqV,UAAS,OAAEzL,QAAF,IAAEA,OAAF,EAAEA,EAAM3J,cAAeW,KAAM,GAAKvB,aAAcA,EAAcyJ,gBAAiBA,EAAiBF,gBAAiBA,EAAiBK,iBAAkBA,OAwBrQ,OACI,kBAAC,WAAD,KACI,iCAEEzD,EACE,yBACAsE,UAAU,qCACN,yBAAKA,UAAU,iCACX,yBAAKS,MAAO,CACJ8M,UAAW7R,EAAiB,eAAiB,oBAC9CsE,UAAU,oBACb,yBAAKA,UAAU,oCACP,mCAAKrE,QAAL,IAAKA,OAAL,EAAKA,EAAgB9C,MACrB,wBAAImH,UAAU,mBAAmBG,QAAS,kBAAKhB,GAAiB,EAAM,GAAI,MAA1E,SAER,yBAAKa,UAAU,0BAEW,OAAdrE,QAAc,IAAdA,OAAA,EAAAA,EAAgBhD,KAAKqJ,SAAS,EAC1B6L,EAEJ,yBAAK7N,UAAU,sCACX,uDAO1B,KAEN,yBAAKS,MAAO,CACA0B,QAASzG,EAAiB,IAAM,IAChCuG,QAASvG,EAAiB,QAAU,OACpCwG,WAAW,iBACZlC,UAAU,YAAYG,QAAS,kBAAKhB,GAAiB,EAAM,UC6CnEK,gBAjIE,SAACrM,GAAS,IAAD,kBACFiO,YAAajN,GADX,mBACbiS,GADa,aAEE3G,oBAAS,GAFX,mBAEf2L,EAFe,KAETC,EAFS,KAGhBvK,EAAUC,qBAAWpM,GACpBY,EAAyDuL,EAAzDvL,aAAa4J,EAA4C2B,EAA5C3B,iBAAkBvD,EAA0BkF,EAA1BlF,WAAYmD,EAAc+B,EAAd/B,WAQjD,OACG,kBAAC,WAAD,KACI,6BAASlI,GAAG,eAAemJ,UAAU,8BAIrC,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,4BACP,yBAAKA,UAAU,oCACX,kBAACC,EAAA,EAAD,CAAQD,UAAU,gBAAgBE,IAAG,OAAE3K,QAAF,IAAEA,OAAF,EAAEA,EAAcY,cAAekM,IAAG,OAAE9M,QAAF,IAAEA,OAAF,EAAEA,EAAcW,YAE3F,yBAAK8J,UAAU,oCACX,yBAAKA,UAAU,+BACX,wBAAIA,UAAU,0BAAd,OAAwCzK,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAcW,UAEvC,OAAZX,QAAY,IAAZA,OAAA,EAAAA,EAAcuP,YACd,kBAAC,IAAD,CAAY9E,UAAU,kBACpB,MAGL,yBAAKA,UAAU,YACf,4BAAQA,UAAU,kBAAlB,gBACA,4BAAQA,UAAU,cAAcG,QAAS,WAAMpB,IAAcuD,OAAOT,SAASU,WAA7E,aAIJ,yBAAKvC,UAAU,iCACX,2BAAG,qCAAOzK,QAAP,IAAOA,GAAP,UAAOA,EAAciB,aAArB,aAAO,EAAqBwL,OAAOpB,kBAAtC,KAA4E,OAAZrL,QAAY,IAAZA,GAAA,UAAAA,EAAciB,aAAd,eAAqBwL,QAAQ,EAAG,QAAS,QACzG,uBAAGhC,UAAU,aAAaG,QAAS,kBAAKhB,GAAiB,EAAD,OAAO5J,QAAP,IAAOA,OAAP,EAAOA,EAAc6H,UAAW,eAAc,qCAAO7H,QAAP,IAAOA,GAAP,UAAOA,EAAc6H,iBAArB,aAAO,EAAyB4E,OAAOpB,kBAA7I,KAAmL,OAAZrL,QAAY,IAAZA,GAAA,UAAAA,EAAc6H,iBAAd,eAAyB4E,QAAQ,EAAG,YAAa,YACxN,uBAAGhC,UAAU,aAAcG,QAAS,kBAAKhB,GAAiB,EAAD,OAAO5J,QAAP,IAAOA,OAAP,EAAOA,EAAc+H,UAAW,eAAc,qCAAO/H,QAAP,IAAOA,GAAP,UAAOA,EAAc+H,iBAArB,aAAO,EAAyB0E,OAAOpB,kBAA9I,iBAKhB,yBAAKZ,UAAU,sCACP,kCAAIzK,QAAJ,IAAIA,OAAJ,EAAIA,EAAckS,MAG1B,yBAAKzH,UAAU,oCAEG,OAAZzK,QAAY,IAAZA,GAAA,UAAAA,EAAciB,aAAd,eAAqBwL,SAAS,EACjC,yBAAKhC,UAAU,mCACV,0BAAMG,QAAS,kBAAKkL,GAAQ,IAAO5K,MAAO,CAACsB,MAAOqJ,EAAO,UAAW,UAAWI,UAAWJ,EAAO,oBAAsB,SAAS,kBAAC,IAAD,OAChI,0BAAMjL,QAAS,kBAAKkL,GAAQ,IAAQ5K,MAAO,CAACsB,MAAQqJ,EAAkB,UAAX,UAAqBI,UAAYJ,EAA6B,OAAtB,sBAA+B,kBAAC,IAAD,QAEpI,OAKO,OAAZ7V,QAAY,IAAZA,GAAA,UAAAA,EAAciB,aAAd,eAAqBwL,SAAS,EAC3B,yBAAKhC,UAAWoL,EAAO,wBAA0B,uCAEpChF,EAQHA,EACG,kBAACsF,GAAA,EAAD,eACG1C,QAAQ,cACRkB,KAAM,GACNyB,UAAW,GACPxY,EAJP,CAKGuL,MAAO,OAGf,KAjBI,OACAnJ,QADA,IACAA,GADA,UACAA,EAAciB,aADd,aACA,EAAqBiB,KAAI,SAACqR,EAAM1R,GACxB,OACI,yBAAK2I,KAAS,OAAJ+I,QAAI,IAAJA,OAAA,EAAAA,EAAMjS,IAAGO,EAAI4I,UAAU,6BACzB,yBAAKG,QAAS,WAAmB,OAAI2I,QAAJ,IAAIA,KAAMjS,IAAM4J,MAAO,CAACwI,MAAOmC,EAAO,OAAS,QAASpL,UAAU,wBAAwBE,IAA2B,WAAlB,OAAJ4I,QAAI,IAAJA,OAAA,EAAAA,EAAM9Q,aAAN,OAAgC8Q,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAM/Q,WAAmC,WAAlB,OAAJ+Q,QAAI,IAAJA,OAAA,EAAAA,EAAM9Q,aAA0B4D,EAAa,KAAMyG,IAAG,gBAAWjL,UAkB5Q,yBAAK4I,UAAU,uCACX,yBAAKA,UAAU,mCACX,yBAAKA,UAAU,qCAAoC,kBAAC,IAAD,CAAcA,UAAU,gBAC3E,uCACA,wEAA6C,6BAA7C,mCAEA,oEAYpB,yBAAKnJ,GAAG,iBAAiBmJ,UAAU,4DAC/B,wBAAIA,UAAU,6BACN,qCACA,oCACA,qCACA,mCACA,oCACA,uCACA,qCACA,yCACA,4CACA,wCACA,yCAEJ,yBAAKA,UAAU,mBACX,oEACA,sFCTb8N,G,kDAtHX,WAAY3a,GAAO,IAAD,8BACd,cAAMA,IACDyQ,WAAahP,IAAMiP,YACxB,EAAKyI,WAAa1X,IAAMiP,YACxB,EAAK1O,MAAM,CACP2O,gBAAiB,GACjBK,WAAY,IANF,E,uDAmBPM,EAAc5K,EAAc5D,EAAW6D,EAAQhC,GACnDiE,KAAK6H,WAAWc,SACd3I,KAAK6H,WAAWc,QAAQC,QAE7B5I,KAAKzG,SAAL,2BACOyG,KAAK5G,OADZ,IAEIgP,WAAY,CAACM,gBAAc5K,eAAc5D,YAAW6D,SAAQhC,eAC5DgM,gBAAgB,IAAD,OAAMW,EAAN,U,oCAGTH,GAAG,IAAD,EACZA,EAAEC,kBACF,UAAGxI,KAAKuQ,kBAAR,aAAG,EAAiBC,iBAChBxQ,KAAKuQ,WAAWC,eAAe,CAACC,SAAS,WAHjC,MAKoGzQ,KAAK5I,MAAM2N,QAApHtF,EALK,EAKLA,iBAAmBoD,EALd,EAKcA,yBAA2BnF,EALzC,EAKyCA,kBAAoBgC,EAL7D,EAK6DA,iBAAkBrG,EAL/E,EAK+EA,IAAKG,EALpF,EAKoFA,aAC5FsW,EAAS,OAAGrQ,QAAH,IAAGA,OAAH,EAAGA,EAAkBhF,MAClC,GAAGqV,EAAU,CAAC,IAAD,EAC0CA,EAAS,OAACpQ,QAAD,IAACA,OAAD,EAACA,EAAkBjB,OAAxE3D,EADE,EACFA,GAAIiB,EADF,EACEA,YAAaC,EADf,EACeA,WAAYC,EAD3B,EAC2BA,YACF,KAA/B+D,KAAK5G,MAAM2O,kBACL/H,KAAK5G,MAAMgP,aAAe,IAAQ,OAAOK,KAAKzI,KAAK5G,MAAM2O,iBAC7DrK,EAAkBsC,KAAK5G,MAAMgP,WAAYpI,KAAK5G,MAAM2O,gBAAnC,OAAoDvO,QAApD,IAAoDA,OAApD,EAAoDA,EAAcY,eAAe,EAAO4B,EAAYC,GAElH4G,EAAyB,SAAD,OAAUnD,QAAV,IAAUA,OAAV,EAAUA,EAAkBjB,MAAOpF,EAAnC,OAAwCG,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAcW,SAAU6F,KAAK5G,MAAM2O,gBAA3E,OAA4FtI,QAA5F,IAA4FA,OAA5F,EAA4FA,EAAkBrF,cAAe,IAAIY,KAAQF,EAAIiB,EAAaC,EAAYC,GAElM+D,KAAKzG,SAAS,CACVwO,gBAAiB,GACjBK,WAAY,S,+BAMnB,IAAD,OACGrD,EAAW/E,KAAK5I,MAAhB2N,QACAvG,EAAwIuG,EAAxIvG,qBAAsBhF,EAAkHuL,EAAlHvL,aAAcH,EAAoG0L,EAApG1L,IAAK+J,EAA+F2B,EAA/F3B,iBAAmBtD,EAA4EiF,EAA5EjF,kBAAkBL,EAA0DsF,EAA1DtF,iBAAiBC,EAAyCqF,EAAzCrF,iBAAkB2D,EAAuB0B,EAAvB1B,oBACxH,UAAG5D,QAAH,IAAGA,OAAH,EAAGA,EAAkBhF,MAAO,IAAD,SACuCgF,QADvC,IACuCA,OADvC,EACuCA,EAAkBhF,MAAlB,OAAwBiF,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAkBjB,OAAnGxC,EADkB,EAClBA,YAAaD,EADK,EACLA,WAAYmC,EADP,EACOA,SAAUxD,EADjB,EACiBA,MAAOoB,EADxB,EACwBA,YAGnD,OACI,kBAAC,EAAD,KACI,kCAEO,OAAPgJ,QAAO,IAAPA,OAAA,EAAAA,EAASjF,mBACT,yBAAKhF,GAAG,gBAAgBmJ,UAAU,0CAE9B,yBAAKA,UAAU,2BACP,wCACA,0BAAMA,UAAU,yBAAyBG,QAAS,kBAAKf,GAAoB,KAA3E,SAER,yBAAKY,UAAU,yBACX,yBAAMA,UAAU,yBAAyBS,MAAO,CAChC8M,UAAW1R,EAAoB,eAAiB,sBADhE,OAIQ3B,QAJR,IAIQA,OAJR,EAIQA,EAAUzC,KAAI,SAACyE,EAAS9E,GACpB,OACI,kBAACmO,EAAD,CAASxF,IAAM3I,EACf8E,QAASA,EACT3B,qBAAsBA,EACtBzC,YAAaA,EACb+B,aAAczC,EACdN,KAAI,OAAEoF,QAAF,IAAEA,OAAF,EAAEA,EAASpF,KACf2L,WAAY,EAAKA,WAAW9D,KAAK,GACjC1I,UAAWwF,EAAiBjB,MAC5BkI,OAAM,OAAEnN,QAAF,IAAEA,OAAF,EAAEA,EAAcW,SACtBQ,MAAOA,EACPiM,WAAU,OAAEpN,QAAF,IAAEA,OAAF,EAAEA,EAAcY,cAC1Bf,IAAKA,EACL4C,YAAcA,EACdD,WAAaA,EACboH,iBAAkBA,QAMlC,0BAAMsG,SAAU,SAACC,GAAD,OAAM,EAAKC,cAAcD,IAAI1F,UAAU,iCAC/C,2BAAO1L,IAAKyH,KAAK6H,WAAYlF,MAAO3C,KAAK5G,MAAM2O,gBAAiB8B,SAAU,SAACC,GAAD,OAAU,EAAKvQ,SAAS,CAACwO,gBAAiB+B,EAAMC,OAAOpH,SAASsB,UAAU,sBAAsBnH,KAAK,OAAOkN,YAAY,qBAClM,4BAAQlN,KAAK,SAASgI,SAAU9E,KAAK5G,MAAM2O,gBAAgB9B,OAAU,EAAGhC,UAAWjE,KAAK5G,MAAM2O,gBAAgB9B,QAAS,EAAI,uBAAwB,iCAAnJ,SAER,0BAAM1N,IAAK,SAACsD,GAAD,OAAO,EAAK0U,WAAa1U,OAG1C,KAEN,yBAAK6I,MAAO,CACJ0B,QAAStG,EAAoB,IAAM,IACnCoG,QAASpG,EAAoB,QAAU,OACvCqG,WAAW,iBACZlC,UAAU,YAAYG,QAAS,kBAAKf,GAAoB,Y,GA/G/CE,iBCyJbyO,GA3IH,SAAC5a,GAET,IAAM2N,EAAUC,qBAAWpM,GACpBI,EAAwF+L,EAAxF/L,oBAAoBmE,EAAoE4H,EAApE5H,gBAAiBE,EAAmD0H,EAAnD1H,UAAW7D,EAAwCuL,EAAxCvL,aAAesJ,EAAyBiC,EAAzBjC,sBA8EtE,OA5DAgB,qBAAU,WAER,IAAMmO,EAAe7Z,EAAKiU,oBAAmB,SAAAC,GAUpCA,GAECpU,EAAGgB,WAAW,SAASgD,MAAMnC,MAAK,SAACwS,GAC/BA,EAAMC,SAAQ,SAACzI,GACPjB,EAAsBiB,EAAK9K,cAGvCkE,GAAgB,GAChBE,EAAS,OAACiP,QAAD,IAACA,OAAD,EAACA,EAAUjT,KACpBL,KAiBAmE,GAAgB,MAMxB,OAAO,WAEH8U,OAGN,IACFnO,qBAAU,WACNmM,KAAEC,UAAUC,OAAM,YACJ,OAAPpL,QAAO,IAAPA,OAAA,EAAAA,EAASpF,kBAAT,OAA2BoF,QAA3B,IAA2BA,OAA3B,EAA2BA,EAASjF,mBACnCmQ,KAAE,QAAQiC,IAAI,WAAW,UAEzBjC,KAAE,QAAQiC,IAAI,WAAW,aAGnC,QAACnN,QAAD,IAACA,OAAD,EAACA,EAASpF,eAAV,OAA0BoF,QAA1B,IAA0BA,OAA1B,EAA0BA,EAASjF,oBAGjC,kBAAC,WAAD,KACI,+BAGa,OAAPiF,QAAO,IAAPA,OAAA,EAAAA,EAASpF,gBACT,kBAAC,GAAD,MACE,MAGK,OAAPoF,QAAO,IAAPA,OAAA,EAAAA,EAASjF,mBACT,kBAAC,GAAD,CAAeiF,QAASA,IACtB,KAGJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOW,OAAK,EAACjF,KAAK,QAAQ0R,UAAWC,IACrC,kBAAC,IAAD,CAAO1M,OAAK,EAACjF,KAAK,KACd,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOiF,OAAK,EAACjF,KAAK,aACd,kBAAC,EAAD,MACA,kBAAC,GAAD,CAAUuB,SAAQ,OAAExI,QAAF,IAAEA,OAAF,EAAEA,EAAcwI,WAClC,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAO0D,OAAK,EAACjF,KAAK,aACd,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOiF,OAAK,EAACjF,KAAK,kBACd,kBAAC,EAAD,MACA,kBAAC,GAAD,CAAqBsE,QAASA,IAC9B,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOW,OAAK,EAACjF,KAAK,YACd,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOiF,OAAK,EAACjF,KAAK,iBACd,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOiF,OAAK,EAACjF,KAAK,gBACd,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,WChJlB4R,GACE,kBAAC,EAAD,KACI,kBAAC,IAAD,KACI,kBAAC,GAAD,QAMhBC,IAASC,OAAOF,GAASnC,SAASsC,eAAe,S,6DCfjDC,EAAOC,QAAU,IAA0B,6C,iBCA3CD,EAAOC,QAAU,06J,mBCAjBD,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.2531a691.chunk.js","sourcesContent":["const Auxiliary = (props) => props.children;\r\n\r\nexport default Auxiliary;"," // Your web app's Firebase configuration\r\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase\"; \r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyCsDXcBqUkFzP7a_YLfSi1bUFV4zYv9Ipk\",\r\n    authDomain: \"instagram-clone-21d9b.firebaseapp.com\",\r\n    databaseURL: \"https://instagram-clone-21d9b.firebaseio.com\",\r\n    projectId: \"instagram-clone-21d9b\",\r\n    storageBucket: \"instagram-clone-21d9b.appspot.com\",\r\n    messagingSenderId: \"766234567722\",\r\n    appId: \"1:766234567722:web:6715c7b7dcae914e950f53\",\r\n    measurementId: \"G-770BEE44CM\"\r\n  };\r\n  // Initialize Firebase\r\n const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n firebase.analytics();\r\n\r\n  const db = firebaseApp.firestore();\r\n  const auth = firebase.auth();\r\n  const storage = firebase.storage();\r\n  const storageRef = storage.ref();\r\n  const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n  const phoneProvider = new firebase.auth.PhoneAuthProvider();\r\n  const facebookProvider = new firebase.auth.FacebookAuthProvider();\r\n  const twitterProvider = new firebase.auth.TwitterAuthProvider();\r\n\r\n  export {db , auth, storage, storageRef, googleProvider, phoneProvider, facebookProvider, twitterProvider};","import React ,{PureComponent} from \"react\";\r\nimport {db, auth, storageRef} from \"./Config/firebase\";\r\nimport igVideoImg from \"./Assets/instagram-video.png\";\r\nimport { truncate } from \"fs\";\r\n\r\n    const AppContext = React.createContext();\r\n\r\nclass AppProvider extends PureComponent{ //For termporary memory\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            receivedData: {},\r\n            uid: \"\",\r\n            suggestionsList: [],\r\n            initialSuggestions:[],\r\n            isUserOnline: false,\r\n            usersProfileData: [],\r\n            currentPostIndex: {},\r\n            openUsersModal: false,\r\n            usersModalList: [],\r\n            igVideoImg: igVideoImg,\r\n            openCommentsModal: false,\r\n        }\r\n    }\r\n  \r\n    updatedReceivedData=(data)=>{\r\n        db.collection(\"users\").doc(this.state.uid).onSnapshot(data=>{  //any fetching overflow? change onSnapshot to get\r\n            \r\n                this.setState({\r\n                    ...this.state,\r\n                    receivedData: data.data()\r\n                })\r\n        })\r\n        \r\n    }\r\n    updateSuggestionsList(data){ \r\n        let sugs = this.state.initialSuggestions; \r\n        sugs.unshift(data);\r\n        let suggestList =  Array.from(new Set(sugs?.map(itemId => itemId.uid))).map(ID => sugs?.find(el => el.uid === ID));\r\n            this.setState({\r\n                ...this.state,\r\n                suggestionsList: suggestList\r\n            })\r\n    }\r\n    updateParts=(uid, stateBase, newState , updateAbility, withNotifications)=>{\r\n                if(withNotifications === \"\"){\r\n                   db.collection(\"users\").doc(uid).update({\r\n                          [stateBase]: newState,\r\n                  }).then(()=>{\r\n                      if(updateAbility === true || uid === this.state.receivedData?.uid){\r\n                          this.updatedReceivedData();\r\n                      }\r\n                  }) \r\n                }else{\r\n                    db.collection(\"users\").doc(uid).update({\r\n                        [stateBase]: newState,\r\n                        notifications: withNotifications\r\n                    }).then(()=>{\r\n                        if(updateAbility === true || uid === this.state.receivedData?.uid){\r\n                            this.updatedReceivedData();\r\n                        }\r\n                    }) \r\n                }\r\n                  \r\n    }\r\n\r\n    handleMyLikes=(boolean, postIndex, uid, userName, userAvatarUrl)=>{        \r\n            let dataCopy = JSON.parse(JSON.stringify(this.state.receivedData?.posts));\r\n            var likesArr = dataCopy[postIndex].likes;\r\n            function getPeopleIndex(){\r\n                var currIndex;\r\n                likesArr.people.find((item, i) => {\r\n                    currIndex = i;\r\n                    return  item.id === uid;\r\n                    })\r\n                return currIndex;\r\n            }\r\n           \r\n            boolean ? likesArr.people.push({id: uid, userName: userName , userAvatarUrl : userAvatarUrl, date: new Date()}) : likesArr.people.splice(getPeopleIndex(),1)\r\n            likesArr.people = Array.from(new Set(likesArr.people.map(itemId => itemId.id))).map(myId => likesArr.people.find(el => el.id === myId))\r\n            this.updateParts(uid, \"posts\", dataCopy, true, \"\" );\r\n    }\r\n\r\n    handlePeopleLikes=(boolean, postIndex, postOwnerId, userName, userAvatarUrl, myId, contentURL, contentType )=>{\r\n        \r\n        db.collection(\"users\").doc(postOwnerId).get().then(items =>{\r\n            let unupdatedPosts =  items.data().posts;\r\n            let unupdatedNoti = items.data().notifications;\r\n         \r\n            let dataCopy = JSON.parse(JSON.stringify(unupdatedPosts));\r\n            let notiCopy = JSON.parse(JSON.stringify(unupdatedNoti));\r\n\r\n            var likesArr = dataCopy[postIndex].likes;\r\n            function getPeopleIndex(){\r\n                var currIndex;\r\n                likesArr.people.find((item, i) => {\r\n                    currIndex = i;\r\n                    return  item.id === myId;\r\n                    })\r\n                return currIndex;\r\n            }\r\n            if(boolean){ //handles notifications\r\n                notiCopy.isUpdate = true;\r\n                const generatedID = this.generateNewId();\r\n                likesArr.people.push({id: myId, userName: userName , notiId: generatedID, userAvatarUrl : userAvatarUrl, date: new Date()});\r\n                notiCopy.list.unshift({uid: myId,\r\n                userName: postOwnerId === myId ? \"You\" : userName,\r\n                userAvatarUrl: userAvatarUrl,\r\n                notiId: generatedID,\r\n                date: new Date(),\r\n                contentType,\r\n                contentURL,\r\n                type:\"like\",\r\n                notiText: `liked your ${contentType} post`}); \r\n            }else if(!boolean){\r\n                likesArr.people.splice(getPeopleIndex(),1);\r\n                const currentI = notiCopy.list?.map(el => {\r\n                    return el.notiId;\r\n                }).indexOf(likesArr.people?.notiId);\r\n                if(currentI !== -1){\r\n                    notiCopy.list.splice(currentI, 1);\r\n                }else{\r\n                    // alert(\"abort 151 error\");\r\n                }\r\n                \r\n            }\r\n            \r\n            likesArr.people = Array.from(new Set(likesArr.people.map(itemId => itemId.id))).map(ID => likesArr.people.find(el => el.id === ID));\r\n            \r\n            notiCopy.list = Array.from(new Set(notiCopy.list.map(itemId => itemId.uid))).map(ID => notiCopy.list.find(el => el.uid === ID));\r\n           \r\n                    this.updateParts(postOwnerId, \"posts\", dataCopy, false, notiCopy);\r\n        })\r\n    }\r\n    resetAllData(){\r\n        this.setState({\r\n            ...this.state,\r\n            receivedData: {},\r\n            uid: \"\",\r\n            suggestionsList: [],\r\n            isUserOnline: false,\r\n            usersProfileData: [],\r\n            currentPostIndex: {}\r\n        })\r\n      \r\n    }\r\n\r\n    handleSubmittingComments(ownership,index,myId ,userName,comment, userAvatarUrl, postDate ,postId, ownerId, contentURL, contentType){\r\n       \r\n       //create an index checker here to make sure this is the correct post to edit\r\n       if(ownership === \"mine\"){\r\n           let myPostsCopy = JSON.parse(JSON.stringify(this.state.receivedData.posts));\r\n           myPostsCopy[index].comments.push({comment: comment, uid: myId, userAvatarUrl: userAvatarUrl, userName: userName, postDate: new Date(), postId: postId, ownerId, likes:[], subComments: []}); \r\n         \r\n           this.updateParts(myId, \"posts\", myPostsCopy, true,\"\");\r\n       }else if(ownership === \"others\"){\r\n           db.collection(\"users\").doc(ownerId).get().then(items =>{\r\n           let oldPosts = items.data().posts;\r\n           let noti = items.data().notifications;\r\n           let theirPostsCopy = JSON.parse(JSON.stringify(oldPosts));\r\n           let notiCopy = JSON.parse(JSON.stringify(noti));\r\n           const generatedID = this.generateNewId();\r\n           theirPostsCopy[index].comments.push({comment: comment, uid: myId, userAvatarUrl: userAvatarUrl, userName: userName, postDate: new Date(), postId: postId, ownerId: ownerId, likes:[], subComments: [], notiId: generatedID}); \r\n           notiCopy.isUpdate = true;\r\n           notiCopy.list.unshift({\r\n               uid: myId,\r\n               userName: ownerId === myId ? \"You\" : userName,\r\n               userAvatarUrl: this.state.receivedData?.userAvatarUrl,\r\n               date: new Date(),\r\n               notiId: generatedID,\r\n               contentURL,\r\n               contentType,\r\n               notiText: `commented on your ${contentType} post: ${comment} `,\r\n               type: \"comment\"\r\n           })\r\n\r\n           this.updateParts(ownerId, \"posts\", theirPostsCopy, false,notiCopy);\r\n                \r\n          });\r\n        }\r\n    }\r\n    \r\n    deleteContentFromFB(path){\r\n      storageRef.child(`content/${path}`).delete();\r\n    }\r\n    getUsersProfile(uid){ \r\n        db.collection(\"users\").doc(uid).onSnapshot(snapshot =>{\r\n            this.setState({\r\n                ...this.state,\r\n                usersProfileData: snapshot.data()\r\n            })  \r\n                \r\n        })\r\n    }\r\n    updateUserState=(state)=>{\r\n        this.setState({\r\n            ...this.state,\r\n            isUserOnline: state\r\n        })\r\n    }\r\n    updateUID=(UID)=>{\r\n        this.setState({\r\n            ...this.state,\r\n            uid: UID\r\n        })\r\n    }\r\n    changeMainState=(property, newValue )=>{\r\n        this.setState({\r\n            ...this.state,\r\n            [property]: newValue\r\n        })\r\n    }\r\n\r\n    handleSubComments=(commentInfo, commentText, userAvatarUrl, updatingAbility, contentURL, contentType)=>{\r\n        const {commentIndex, postIndex, postId, postOwnerId} =  commentInfo;\r\n        db.collection(\"users\").doc(postOwnerId).get().then(( items)=>{\r\n            let unupdatedPosts = items.data().posts;\r\n            let noti = items.data().notifications;\r\n            const postsCopy = JSON.parse(JSON.stringify(unupdatedPosts));\r\n            const notiCopy = JSON.parse(JSON.stringify(noti));\r\n            \r\n             let matchedIndex = postsCopy.map(el =>{\r\n                    return el.id\r\n                }).indexOf(postId);\r\n             if(postIndex === matchedIndex){\r\n                var notiId = this.generateNewId();\r\n                 postsCopy[postIndex].comments[commentIndex].subComments.push({commentText: commentText, postId: postId, postOwnerId: postOwnerId , senderName: this.state.receivedData?.userName, userAvatarUrl: userAvatarUrl, notiId: notiId, date: new Date()});\r\n                  if(postOwnerId !== this.state.uid){\r\n                     notiCopy.isUpdate = true;\r\n                     notiCopy.list.unshift({\r\n                        uid: this.state.uid,\r\n                        userName: postOwnerId === this.state.uid ? \"You\" : this.state.receivedData?.userName,\r\n                        notiId,\r\n                        contentURL,\r\n                        contentType,\r\n                        userAvatarUrl: this.state.receivedData?.userAvatarUrl,\r\n                        date: new Date(),\r\n                        notiText: `mentioned you in a comment: ${commentText}`,\r\n                        type: \"sub-comment\"\r\n                     })\r\n                  }\r\n                 this.updateParts(postOwnerId,\"posts\", postsCopy, updatingAbility, notiCopy); \r\n             }else {\r\n                 alert(\"Error has occurred. Please try again later.\");\r\n             }\r\n            \r\n        \r\n        });\r\n        \r\n    }\r\n    closeNotificationAlert=(state)=>{\r\n        const notiCopy= JSON.parse(JSON.stringify(this.state.receivedData?.notifications));\r\n        notiCopy[state] = false;\r\n        this.updateParts(this.state.uid,\"notifications\", notiCopy, true,\"\");       \r\n    }\r\n    handleLikingComments=(boolean,postIndex, postOwnerId, userName, userAvatarUrl, myId, commentIndex, commentText,contentURL, contentType)=>{\r\n        \r\n        db.collection(\"users\").doc(postOwnerId).get().then(items =>{\r\n            let unupdatedPosts =  items.data()?.posts;\r\n            let noti = items.data()?.notifications;\r\n            let dataCopy = JSON.parse(JSON.stringify(unupdatedPosts));\r\n            let notiCopy = JSON.parse(JSON.stringify(noti));\r\n\r\n            var likesArr = dataCopy[postIndex].comments[commentIndex];\r\n            if(unupdatedPosts && likesArr){\r\n                if(boolean){ //like\r\n                    let generatedID = this.generateNewId();\r\n                    likesArr.likes.push({id: myId, userName: userName , userAvatarUrl : userAvatarUrl, notiId: generatedID, date: new Date()});\r\n                    notiCopy.isUpdate = true;\r\n                    notiCopy.list.unshift({\r\n                        uid: myId,\r\n                        notiId: generatedID,\r\n                        userName: postOwnerId === myId ? \"You\" : userName,\r\n                        date: new Date(),\r\n                        userAvatarUrl: this.state.receivedData?.userAvatarUrl,\r\n                        notiText: `liked your comment: ${commentText}`,\r\n                        type: \"like-comment\",\r\n                        contentURL,\r\n                        contentType\r\n                    });\r\n                }else{ //unlike\r\n                  let index = likesArr.likes?.map(el =>{\r\n                    return el.id\r\n                    }).indexOf(myId);\r\n                    if(index !== -1){\r\n                        let notiIndex = notiCopy.list?.map(el =>{\r\n                           console.log(el.notiId,likesArr.likes);\r\n                            return el.notiId\r\n                       }).indexOf(likesArr.likes?.notiId);\r\n                        if(notiIndex !== -1){\r\n                            notiCopy.list.splice(notiIndex,1); //<<< FIX THIS\r\n                        }else{\r\n                            // alert(\"error likes 304\");\r\n                        }\r\n                        likesArr.likes.splice(index,1);\r\n                       \r\n                        \r\n                    }else{\r\n                        alert(\"context 310 err\");\r\n                    }\r\n                    \r\n                }\r\n\r\n                likesArr.likes = Array.from(new Set(likesArr.likes.map(itemId => itemId.id))).map(ID => likesArr.likes.find(el => el.id === ID));\r\n    \r\n                this.updateParts(postOwnerId, \"posts\", dataCopy, false, notiCopy);\r\n            }\r\n\r\n        })\r\n    }\r\n    authLogout(){\r\n        auth.signOut();\r\n        this.resetAllData();\r\n    }\r\n    handleFollowing(state, receiverUid, receiverName, receiverAvatarUrl, senderUid, senderName, senderAvatarUrl){\r\n        db.collection(\"users\").doc(receiverUid).get().then(items=>{\r\n            var unupdatedReceiversData = items.data()?.followers; //receiver's data\r\n            var unupdatedSendersData = this.state.receivedData?.following; //sender's data\r\n            var noti = items.data()?.notifications;\r\n            let receiversCopy = JSON.parse(JSON.stringify(unupdatedReceiversData));  //creates a copy for each user's data\r\n            let sendersCopy = JSON.parse(JSON.stringify(unupdatedSendersData));  \r\n            let notiCopy =  JSON.parse(JSON.stringify(noti));\r\n                if(!state){ //follow\r\n                    // pushes sender's data into followers receiver's array\r\n                    \r\n                    if( receiverUid !== senderUid){  //makes sure the user somehow doesn't follow themselves\r\n                            const generatedID = this.generateNewId();\r\n                            \r\n                            receiversCopy.push({senderUid, senderName, senderAvatarUrl, notiId: generatedID, date: new Date()});\r\n                            let newReceiversCopy = Array.from(new Set( receiversCopy.map(item => item.senderUid)))\r\n                                        .map(id =>{\r\n                                            return  receiversCopy.find(el => el.senderUid === id)\r\n                                    });     //removes duplicates \r\n                            notiCopy.isUpdate = true; //adds a notification\r\n                            notiCopy.list.unshift({\r\n                                notiId: generatedID,\r\n                                userName: senderName ,\r\n                                uid: senderUid,\r\n                                date: new Date(),\r\n                                type: \"follow\",\r\n                                userAvatarUrl: senderAvatarUrl,\r\n                                notiText: `started following you`\r\n                            });\r\n                            this.updateParts(receiverUid, \"followers\", newReceiversCopy, false, notiCopy);\r\n\r\n                            // pushes receiver's data into following sender's array\r\n                            sendersCopy.push({receiverUid, receiverName, receiverAvatarUrl, date: new Date()});\r\n                            let newSendersCopy = Array.from(new Set( sendersCopy.map(item => item.receiverUid)))\r\n                                        .map(id =>{\r\n                                            return  sendersCopy.find(el => el.receiverUid === id);\r\n                                    });     //removes duplicates \r\n                            this.updateParts(senderUid, \"following\", newSendersCopy, true,\"\");\r\n                     }else{\r\n                         alert(\"Following yourself is not allowed\");\r\n                     }\r\n                }else if(state){ //unfollow\r\n                    // removes sender from receiver's followers array\r\n                 //finds follower's index  \r\n                const currIndex = unupdatedReceiversData?.map(item =>{\r\n                    return item.senderUid; \r\n                }).indexOf(senderUid);\r\n                 //finds its notification's index\r\n                 \r\n                 if(currIndex !== -1){\r\n                    const notiIndex = notiCopy.list?.map(el =>{\r\n                        return el.notiId;\r\n                    }).indexOf(unupdatedReceiversData[currIndex].notiId);\r\n                    \r\n                     //removes follower\r\n                    receiversCopy.splice(currIndex, 1);\r\n                   \r\n                    //removes its notification\r\n                    if(notiIndex !== -1){\r\n                        notiCopy.list.splice(notiIndex,1); \r\n                    }else{\r\n                        // alert(\"aborted2\");\r\n                    }\r\n                    this.updateParts(receiverUid, \"followers\", receiversCopy, false, notiCopy);\r\n                 }else{\r\n                    alert(\"aborted\");\r\n                }      \r\n               \r\n                const currIndex2 = unupdatedSendersData?.map(item =>{\r\n                    return item.receiverUid; \r\n                }).indexOf(receiverUid);\r\n                // removes receiver from sender's following array\r\n                sendersCopy.splice(currIndex2,1);\r\n                this.updateParts(senderUid, \"following\", sendersCopy, true,\"\");\r\n            }\r\n            \r\n        });\r\n    }\r\n\r\n    handleSendingMessage(textMsg, uid, type){\r\n        const myUid = this.state.uid;\r\n        if(uid !== myUid){ \r\n            // Edit sender's data\r\n                const myData = this.state.receivedData;\r\n                const unupdatedSendersData = this.state.receivedData?.messages;\r\n                let sendersCopy = JSON.parse(JSON.stringify(unupdatedSendersData));\r\n            let currIndex = sendersCopy.map(item => {   //ERROR FOUND\r\n                        return item?.uid;\r\n                }).indexOf(uid);\r\n                sendersCopy[currIndex].chatLog.push({textMsg, uid: myUid, userName: myData?.userName, userAvatarUrl: myData?.userAvatarUrl, date: new Date(), type: type});\r\n                \r\n                this.updateParts(myUid,\"messages\", sendersCopy, true,\"\");\r\n\r\n            // Edit receiver's data\r\n            db.collection(\"users\").doc(uid).get().then( items=>{\r\n                const unupdatedReceiversData = items.data()?.messages;\r\n                const noti = items.data()?.notifications;\r\n                let receiversCopy = JSON.parse(JSON.stringify(unupdatedReceiversData));\r\n                let notiCopy = JSON.parse(JSON.stringify(noti));\r\n                let currIndex = receiversCopy?.map(el =>{\r\n                    return el.uid;\r\n                }).indexOf(myUid); //derives the index from an id \r\n                        //looks for ours id in person's data\r\n                notiCopy.isNewMsg = true;\r\n                receiversCopy[currIndex].chatLog.push({textMsg, uid: myUid, userName: myData?.userName, userAvatarUrl: myData?.userAvatarUrl, date: new Date(), type: type });\r\n                this.updateParts(uid,\"messages\", receiversCopy, false, notiCopy);\r\n            });\r\n        }else{\r\n            alert(\"Sending messages to yourself is not allowed\");\r\n        }\r\n    };\r\n\r\n    generateNewId =() =>{\r\n        let char1 = \"G\";\r\n        let char2 = \"j\";\r\n        let char3 = \"k\";\r\n        let char4 = \"M\";\r\n        let char5 = \"N\";\r\n        let char6 = \"Z\";\r\n        var charRandom =()=>{\r\n          return Math.floor((Math.random() *6 )+1);\r\n        }\r\n        for(let i = 0; i<5 ; i++){\r\n          charRandom();//calls the \"charRandom\" function repeatedly 6 time, each time a new character will be created.\r\n          switch (charRandom()){ //determines which new char will be created for each variable\r\n            case 1:\r\n              char1 = \"A\";\r\n              break;\r\n            case 2:\r\n              char2 = \"B\"\r\n              break;\r\n            case 3:\r\n              char3 = \"C\"\r\n              break;\r\n            case 4:\r\n              char4 = \"D\"\r\n              break;\r\n            case 5:\r\n              char5 = \"E\"\r\n              break;\r\n            default:\r\n              char6 = \"F\"\r\n          }\r\n        };\r\n\r\n        const numRandom=()=>{\r\n          return char1 + char2 + char3 + Math.random() *9999 +1 + char4 + char5 + char6 ;\r\n        }\r\n        \r\n        return numRandom();\r\n    }  \r\n    initializeChatDialog(uid, receiverName, receiversAvatarUrl){\r\n        if(this.state.receivedData?.messages.filter( el=> el.uid === uid)[0] ? false : true){\r\n            // sender \r\n                const unupdatedSendersData = this.state.receivedData?.messages;\r\n                let sendersCopy = JSON.parse(JSON.stringify(unupdatedSendersData));\r\n                sendersCopy.push({uid: uid, userName: receiverName, userAvatarUrl: receiversAvatarUrl,date: new Date(), chatLog:[]});\r\n            let newCopy = Array.from(new Set(sendersCopy.map(item => item.uid)))\r\n                        .map(id =>{\r\n                            return sendersCopy.find(el => el.uid === id )\r\n                        });\r\n                this.updateParts(this.state.uid,\"messages\", newCopy, true, \"\");\r\n            \r\n            // receiver\r\n            db.collection(\"users\").doc(uid).get().then( items=>{\r\n                const unupdatedreceiversData = items.data().messages;\r\n                let receiversCopy = JSON.parse(JSON.stringify(unupdatedreceiversData));\r\n                receiversCopy.push({uid: this.state.uid, userName:this.state.receivedData?.userName, userAvatarUrl: this.state.receivedData?.userAvatarUrl,date: new Date(), chatLog:[]});\r\n                let newCopy = Array.from(new Set(receiversCopy.map(item => item.uid)))\r\n                        .map(id =>{\r\n                            return receiversCopy.find(el => el.uid === id )\r\n                        });\r\n                this.updateParts(uid,\"messages\", newCopy, false,\"\");\r\n            });\r\n        }\r\n        \r\n    }\r\n    handleUsersModal(newState, list, type){\r\n        this.setState({\r\n            ...this.state,\r\n            openUsersModal: newState,\r\n            usersModalList: newState ? {type: type, list: list} : null\r\n        })\r\n    }\r\n    handleCommentsModal(boolean){\r\n        this.setState({\r\n            ...this.state,\r\n            openCommentsModal: boolean\r\n        })\r\n    }\r\n    deletePost(postId, postIndex, contentPath){\r\n        const myPosts = this.state.receivedData?.posts;\r\n        let postsCopy = JSON.parse(JSON.stringify(myPosts));\r\n        // deletes post data from database\r\n       let extractedIndex = myPosts?.map(el =>{\r\n            return el.id\r\n        }).indexOf(postId);\r\n        if(extractedIndex === postIndex){ //makes sure to delete the right post\r\n            postsCopy.splice(postIndex,1);\r\n            // deletes content from storage\r\n            if(contentPath){\r\n                this.deleteContentFromFB(contentPath);\r\n            }\r\n            // updates data\r\n            this.updateParts(this.state.uid,\"posts\", postsCopy, true,\"\");\r\n            this.setState({\r\n                ...this.state,\r\n                openCommentsModal: false\r\n            });\r\n            alert(\"Post deleted\");\r\n        }\r\n       \r\n    }\r\n    render(){\r\n        return(\r\n            <AppContext.Provider value={{//states\r\n                receivedData: this.state.receivedData,\r\n                uid: this.state.uid,\r\n                suggestionsList: this.state.suggestionsList,\r\n                usersProfileData: this.state.usersProfileData,\r\n                currentPostIndex: this.state.currentPostIndex,\r\n                openUsersModal: this.state.openUsersModal,\r\n                usersModalList: this.state.usersModalList,\r\n                igVideoImg: this.state.igVideoImg,\r\n                openCommentsModal: this.state.openCommentsModal,\r\n                isUserOnline: this.state.isUserOnline,//functions\r\n                updatedReceivedData: this.updatedReceivedData.bind(this),\r\n                updateUserState: this.updateUserState.bind(this),\r\n                updateUID: this.updateUID.bind(this),\r\n                handleMyLikes: this.handleMyLikes.bind(this),\r\n                deleteContentFromFB: this.deleteContentFromFB.bind(this),\r\n                handleSubmittingComments: this.handleSubmittingComments.bind(this),\r\n                updateSuggestionsList: this.updateSuggestionsList.bind(this),\r\n                getUsersProfile: this.getUsersProfile.bind(this),\r\n                changeMainState: this.changeMainState.bind(this),\r\n                handlePeopleLikes: this.handlePeopleLikes.bind(this),\r\n                updateParts: this.updateParts.bind(this),\r\n                resetAllData: this.resetAllData.bind(this),\r\n                handleSubComments: this.handleSubComments.bind(this),\r\n                handleLikingComments: this.handleLikingComments.bind(this),\r\n                authLogout: this.authLogout.bind(this),\r\n                handleFollowing: this.handleFollowing.bind(this),\r\n                handleSendingMessage: this.handleSendingMessage.bind(this),\r\n                initializeChatDialog: this.initializeChatDialog.bind(this),\r\n                closeNotificationAlert: this.closeNotificationAlert.bind(this),\r\n                handleUsersModal: this.handleUsersModal.bind(this),\r\n                handleCommentsModal: this.handleCommentsModal.bind(this),\r\n                deletePost: this.deletePost.bind(this)\r\n            }}>\r\n                {this.props.children}\r\n            </AppContext.Provider>\r\n        )  \r\n    }\r\n    \r\n}   \r\n    const AppConsumer = AppContext.Consumer;\r\n\r\nexport {\r\n    AppProvider,\r\n    AppContext,\r\n    AppConsumer\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Auxiliary from \"../HOC/Auxiliary\";\r\nimport TruncateMarkup from \"react-truncate\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nconst NotificationOutput =(props)=>{\r\n    const [isFollowed, setFollowingState] = useState(false);\r\n    const {notification, igVideoImg, myData,handleFollowing, getUsersProfile, changeMainState, postIndex } = props;\r\n    useEffect(()=>{\r\n        if(notification?.type === \"follow\"){\r\n            setFollowingState(myData?.following.filter(user  => user?.receiverUid === notification?.uid)[0] ? true : false);\r\n        }\r\n    },[myData?.following]);\r\n    const browseUser=()=>{\r\n        \r\n        getUsersProfile(notification.uid);\r\n        props.history.push(\"/user-profile\");\r\n    }\r\n    // const redirectMeToPost=()=>{\r\n    //     getUsersProfile(notification.uid);\r\n    //     changeMainState(\"currentPostIndex\", {index: postIndex, id: notification?.uid});\r\n    // }\r\n    return(\r\n        <Auxiliary >\r\n            <li  key={notification?.notiId} className=\"space__between noti--popup-item\">\r\n                    <div className=\"flex-row noti--row\">\r\n                        <div><Avatar className=\"noti__user__img\" src={notification?.userAvatarUrl} /></div>\r\n                        <div className=\"flex-column noti--user--info\" onClick={()=> browseUser()}>\r\n                            <h6>{notification?.userName}</h6>\r\n                        <p className=\"noti__text\"><TruncateMarkup line={2} ellipsis=\"..\">{notification?.notiText}</TruncateMarkup>  <time dateTime=\"date\" style={{textOverflow: 'ellipsis'}}>{new Date(notification?.date?.seconds * 1000).toLocaleString()}</time></p>\r\n                        </div> \r\n                    </div>\r\n                    \r\n                    <div className=\"noti--action\">\r\n                        {\r\n                            notification?.type === \"follow\" && notification?.uid !== myData.uid ?\r\n                           \r\n                                  <button disabled={!notification?.uid} onClick={()=> handleFollowing(isFollowed, notification?.uid ,notification?.userName, notification?.userAvatarUrl, myData?.uid, myData?.userName, myData?.userAvatarUrl) } className={ isFollowed ? \"profile__btn prof__btn__unfollowed\": \"profile__btn prof__btn__followed\"}> {isFollowed ? \"unfollow\"  : \"follow\"}</button>\r\n                              \r\n                            : null\r\n                        } \r\n                        {\r\n                             notification?.type !== \"follow\"?\r\n                                <img className=\"noti__bar__img\" src={notification?.contentType ===\"image\" ? notification?.contentURL : notification?.contentType ===\"video\" ? igVideoImg : null } />\r\n                             : null\r\n                        }\r\n\r\n                    </div>\r\n                                                            \r\n            </li>\r\n        </Auxiliary>\r\n    )\r\n}\r\nexport default withRouter(NotificationOutput);","import React, {useContext, useState} from \"react\";\r\nimport Auxiliary from \"../HOC/Auxiliary\";\r\nimport {NavLink, Link} from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport {HiHome} from \"react-icons/hi\";\r\nimport {RiSendPlaneFill} from \"react-icons/ri\";\r\nimport {FaHeart} from \"react-icons/fa\";\r\nimport {BsFillPlusCircleFill} from \"react-icons/bs\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {auth} from \"../../Config/firebase\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {BiPowerOff} from \"react-icons/bi\";\r\nimport {CgProfile} from \"react-icons/cg\";\r\nimport NotificationOutput from \"../NotificationsOutput/NotificationsOutput\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nconst Header =(props)=>{\r\n    const context = useContext(AppContext);\r\n    const [openNoti, setNoti] = useState(false);\r\n    const [openProf, setProf] = useState(false);\r\n    const [user] = useAuthState(auth);\r\n    const {receivedData, closeNotificationAlert, authLogout, igVideoImg, handleFollowing, getUsersProfile, changeMainState} = context;\r\n    const reverseNotiState=(type)=>{\r\n      const notiUpdate = receivedData?.notifications?.isUpdate;\r\n      const notiMsg = receivedData?.notifications?.isNewMsg;\r\n        \r\n        if(type === \"isUpdate\" && notiUpdate){\r\n            closeNotificationAlert(type);\r\n        }else if(type === \"isNewMsg\" && notiMsg){\r\n            closeNotificationAlert(type);\r\n        }\r\n    }\r\n    return(\r\n        <Auxiliary>\r\n            <header id=\"header\" className=\"main--header flex-row\">\r\n                <div className=\"header--inner flex-row\">\r\n                   <Link to=\"/\"><h1 className=\"logoText\">Voxgram</h1></Link>\r\n                    <nav className=\"header--nav flex-row\">\r\n                        <ul className=\"header--ul flex-row\">\r\n                            <li><NavLink exact to=\"/\" activeClassName={!openNoti ? \"active-nav-link\" : \"\" }><HiHome style={{fontSize:\"26px\"}}/></NavLink></li>\r\n                           {\r\n                               user ?\r\n                            <div className=\"flex-row\" style={{alignItems:\"center\"}} >\r\n                            <li className=\"like__icon__item\"><NavLink onClick={()=> reverseNotiState(\"isNewMsg\")}  to=\"/messages\" activeClassName={!openNoti ? \"active-nav-link\" : \"\" }>\r\n                                <RiSendPlaneFill/>\r\n                                {\r\n                                      receivedData?.notifications?.isNewMsg && props.location.pathname !== \"/messages\" ?\r\n                                        <div className=\"like__noti__dot\"></div>\r\n                                        : null\r\n                                } \r\n                            </NavLink></li>\r\n                            <li><NavLink  to=\"/add-post\" activeClassName={!openNoti ? \"active-nav-link\" : \"\" }><BsFillPlusCircleFill/></NavLink></li>\r\n                            <li className=\"noti--parent--container\" onClick={()=> {setNoti(true); reverseNotiState(\"isUpdate\")}}>\r\n                                \r\n                                <span className=\"like__icon__item\">\r\n                                    <FaHeart style={{color: openNoti ? \"#0095f6\" :\"#363636\"}} />\r\n                                  {\r\n                                      receivedData?.notifications?.isUpdate && receivedData.notifications?.list?.length>=1 ?\r\n                                        <div className=\"like__noti__dot\"></div>\r\n                                        : null\r\n                                  } \r\n                                </span>\r\n                                <div style={{\r\n                                    display: openNoti ? \"flex\" : \"none\",\r\n                                    transition: \"all 0.4s ease\",\r\n                                    opacity: openNoti ? \"1\" : \"0\"\r\n                                }} className=\"noti--popup--window\">\r\n                                \r\n                                    <div className=\"noti--popup--inner\">\r\n                                        <div className=\"noti--popup--arrow\"> </div>\r\n                                        {\r\n                                             receivedData?.notifications?.list.length >=1 ?\r\n                                            <ul className=\"noti--popup--ul flex-column\">\r\n                                                {\r\n                                                    receivedData?.notifications?.list?.map( (notification, i) =>{\r\n                                                        return(\r\n                                                            <div key={notification?.notiId}>\r\n                                                                <NotificationOutput onClick={()=> setNoti(false)}  notification={notification} igVideoImg={igVideoImg} myData={receivedData} handleFollowing={handleFollowing} getUsersProfile={getUsersProfile} changeMainState={changeMainState} postIndex={i} />                                                                \r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </ul>\r\n                                        : \r\n                                            <div><h4 style={{textAlign:\"center\"}}>No notifications available right now</h4></div>\r\n                                        }\r\n                                        <div className=\"noti__transparent\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li><span onClick={()=> setProf(true)}><Avatar src=\"\" alt=\"\" className=\"header__user__avatar flex-column\"/></span>\r\n                            <div style={{\r\n                                    display: openProf ? \"flex\" : \"none\",\r\n                                    transition: \"all 0.4s ease\",\r\n                                    opacity: openProf ? \"1\" : \"0\"\r\n                                }} id=\"profilePopup\" className=\"noti--popup--window\" >\r\n                                \r\n                                    <div  className=\"noti--popup--inner\">\r\n                                        <div className=\"noti--popup--arrow\"> </div>\r\n                                        <ul className=\"prof--popup--ul flex-column\">\r\n                                            <li onClick={()=> setProf(false)}><Link to=\"/profile\"><CgProfile className=\"prof__popup\" /> Profile</Link></li>\r\n                                            <li onClick={()=> {authLogout(); setProf(false); window.location.reload()}}><Link to=\"/auth\"><BiPowerOff className=\"prof__popup\"/> Log Out</Link></li>\r\n                                        </ul>\r\n                                        <div className=\"noti__transparent\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            </div>\r\n                            : null\r\n                            }\r\n                        </ul>\r\n                        {\r\n                            openProf || openNoti ?\r\n                                <div className=\"hidden--backdrop\" onClick={()=> {setProf(false); setNoti(false)}}></div>\r\n                            : null\r\n                        }\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n        </Auxiliary>\r\n    )\r\n}\r\nexport default withRouter(Header);","import React, {useState, Fragment,  useEffect, useRef} from \"react\";\r\nimport TruncateMarkup from \"react-truncate\";\r\nimport {FiHeart} from \"react-icons/fi\";\r\nimport {FaHeart} from \"react-icons/fa\";\r\n\r\nconst Commment =(props)=>{\r\n    var {comment, replayFunc, postIndex , commentIndex , handleLikingComments, postOwnerId, myName, uid, userAvatar, handleUsersModal, date,contentURL, contentType} = props;\r\n    const [viewSubComments, setSubComments] = useState(false); \r\n    const [postLiked, setPostLiked] = useState(false);\r\n    useEffect(()=>{\r\n        // console.log(likes);\r\n        setPostLiked(comment?.likes.filter(el => el.id === uid ? true : false)[0]);\r\n    },[comment?.likes])\r\n    return(\r\n        <Fragment>\r\n        <div className=\"post--comment--item\">\r\n               <div className=\"flex-row post--comment--row\">\r\n                  <span  className=\"post__top__comment flex-row\"><strong>{comment?.userName}</strong> <p className=\"comment__text w-100\"><TruncateMarkup className=\"w-100\" line={1} ellipsis=\"...\">{comment?.comment}</TruncateMarkup></p></span>   \r\n\r\n                   {\r\n                       !postLiked ?\r\n                       <span onClick={()=>  handleLikingComments(true, postIndex, postOwnerId, myName, userAvatar, uid, commentIndex, comment?.comment, contentURL, contentType)}\r\n                           ><FiHeart/></span>\r\n                       :\r\n                           <span onClick={()=>  handleLikingComments(false, postIndex , postOwnerId, myName, userAvatar, uid, commentIndex, comment?.comment, contentURL, contentType)} \r\n                               style={{\r\n                                   animation: \"boundHeart 0.5s forwards ease\"\r\n                               }}\r\n                           className=\"liked__heart\"><FaHeart/></span>\r\n                   }  \r\n               </div>\r\n              \r\n               <div className=\"post--comment--actions flex-row\">\r\n                       {/* <span style={{whiteSpace:\"nowrap\"}}><TruncateMarkup line={1} ellipsis=\"..\">{new Date(date.seconds * 1000).toLocaleDateString()}</TruncateMarkup> </span> */}\r\n                      {\r\n                          comment.likes?.length >=1 ?\r\n                             <span className=\"acc-action\" onClick={()=> handleUsersModal(true, comment?.likes, \"likes\")}>{comment.likes?.length.toLocaleString()} {comment.likes?.length > 1 ? \"likes\" : \"like\"}</span>\r\n                          : null\r\n                      } \r\n                       <span style={{cursor:\"pointer\"}} onClick={()=> {replayFunc(comment?.userName, commentIndex , postIndex, comment?.postId , comment?.ownerId); setSubComments(true)}}> Replay</span>                                      \r\n               </div>\r\n                    {\r\n                        comment.subComments?.length >=1 ? \r\n                        <div>\r\n                           <span className=\"post__view__replies__btn\" onClick={()=> setSubComments( !viewSubComments)}>  {viewSubComments ? \"Hide\": \"View\"} replies ({comment.subComments?.length})</span>\r\n                             {\r\n                                 viewSubComments ?\r\n                                       <ul className=\"sub--comments--nav\">\r\n                                               {\r\n                                                   comment.subComments?.map( (subComment, i )=>{\r\n                                                       return(<li key={i}><strong>{subComment?.senderName}</strong> <span> {subComment?.commentText}</span></li>)\r\n                                                   })\r\n                                               }\r\n                                       </ul>\r\n                                   : null\r\n                             }  \r\n                       </div>\r\n                       : null\r\n                    }   \r\n                    \r\n               </div>\r\n        </Fragment>\r\n    )\r\n}\r\nexport default Commment;","import React ,{Fragment, PureComponent} from \"react\";\r\nimport \"./Post.css\";\r\nimport {HiDotsHorizontal} from \"react-icons/hi\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport TruncateMarkup from \"react-truncate\";\r\nimport {FiHeart, FiSend} from \"react-icons/fi\";\r\nimport {FaHeart} from \"react-icons/fa\";\r\nimport {FaRegComment} from \"react-icons/fa\";\r\nimport {IoMdVideocam} from \"react-icons/io\";\r\nimport {RiBookmarkLine} from \"react-icons/ri\";  //install react-instagram-embed And @material-ui/lab\r\nimport Comment from \"../../Components/Comment/Comment\";\r\nimport {GoVerified} from \"react-icons/go\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Post extends PureComponent{\r\n    constructor(props){\r\n        super(props);\r\n        this.inputField = React.createRef();\r\n        this.state= {\r\n            postLiked: false,\r\n            insertedComment: \"\",\r\n            btnClicks: 0,\r\n            viewFullCaption: false,\r\n            doubleLikeClicked: false,\r\n            showFullComments: false,\r\n            openOptionsModal: false,\r\n            showInputForm: false,\r\n            replayData: {}\r\n        } \r\n    }\r\n    \r\n    // const convertSeconds=(s)=>{            \r\n    //         var sec = s % 60;\r\n    //         var secInMinutes = (s- sec) /60;\r\n    //         var min = secInMinutes %60;\r\n    //         var hr = (secInMinutes - min) /60;\r\n    //          if(sec<10){\r\n    //             return hr + \"h\" + \" \" + min + \"m\" + \" \"+ 0+sec + \"s\";\r\n    //          }\r\n    //          return hr + \"h\" + \" \"+ min + \"m\" +\" \"+ sec + \"s\";\r\n    // }\r\n    // console.log(new Date(803980830.toDate()));\r\n    componentDidMount(){\r\n        this.likesCheck();\r\n    }\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.likes !== this.props.likes){\r\n           this.likesCheck();\r\n        }\r\n    }\r\n    likesCheck(){\r\n        var {likes, id} = this.props;             \r\n        this.setState({\r\n                postLiked: likes.people?.filter(el =>  el.id === id )[0] ? true : false\r\n        }) \r\n    }\r\n    handleCurrLikes=(boolean)=>{\r\n        const {index, handleMyLikes, id, userName,  userAvatar} = this.props;\r\n        handleMyLikes(boolean, index, id, userName , userAvatar, true);\r\n    }\r\n\r\n    doubleClickEvent=()=>{\r\n      let currCount = this.state.btnClicks;\r\n      this.setState(prevState =>({\r\n        btnClicks: prevState.btnClicks +1\r\n      }))\r\n      const resetCounter=()=>{\r\n        this.setState({\r\n           btnClicks: 0\r\n         })\r\n      }\r\n      if(currCount === 1){\r\n        this.handleCurrLikes(true);\r\n         resetCounter();\r\n         this.setState({\r\n             doubleLikeClicked: true\r\n         })\r\n         setTimeout(()=>{\r\n             this.setState({\r\n             doubleLikeClicked: false\r\n         })\r\n         },1100);\r\n        \r\n      }\r\n     setTimeout(()=>{\r\n        resetCounter();\r\n     },1000);\r\n    }\r\n\r\n    submitComment(v){\r\n        v.preventDefault();\r\n         const {index, id, userName, userAvatar , handleSubmittingComments, postId, postOwnerId, handleSubComments} = this.props;\r\n         if(this.state.insertedComment !== \"\"){//sub comment (nested comment)\r\n             if( this.state.replayData !== {}   && /^[@]/.test(this.state.insertedComment)){\r\n                 handleSubComments(this.state.replayData, this.state.insertedComment, userAvatar, true);\r\n             }else{ //regular comment\r\n                handleSubmittingComments(\"mine\",index, id, userName, this.state.insertedComment, userAvatar, new Date(), postId, postOwnerId);\r\n                 \r\n             }\r\n             this.setState({\r\n                    insertedComment: \"\",\r\n                    replayData: {}\r\n            })  \r\n         }  \r\n    }\r\n\r\n    replayFunc(postOwnerName,commentIndex, postIndex, postId, postOwnerId){\r\n        this.setState({\r\n            showInputForm: true,\r\n            replayData: {postOwnerName, commentIndex, postIndex, postId, postOwnerId},\r\n            insertedComment: `@${postOwnerName} `\r\n        })\r\n        if(this.state.showInputForm){\r\n             this.inputField.current.focus();\r\n        }\r\n    }\r\n    \r\n    render(){\r\n\r\n    const {userName,caption, contentType, contentURL,contentName, comments, likes, location, postDate, handleLikingComments, postOwnerId, isVerified , myName, userAvatar, id, handleUsersModal, deletePost, index, postId} = this.props;\r\n        return(\r\n            <Fragment>\r\n                <div id=\"post\" className=\"post--card--container\">\r\n                    <article className=\"post--card--article\">\r\n                            <div className=\"post--card--header flex-row\">\r\n                                <header className=\"post--header--avatar flex-row\">\r\n                                    <Avatar className=\"post__header__avatar\" src=\"\" alt=\"avatar\" />\r\n                                    <div className=\"post--header--user--info flex-column\">\r\n                                        <span tabIndex=\"0\" aria-disabled=\"false\" role=\"button\" >\r\n                                            <h5 className=\"flex-row\" ><Link to=\"/profile\"style={{whiteSpace: \"nowrap\",wordBreak:\"keep-all\", display:\"flex\",flexWrap:\"nowrap\"}} ><TruncateMarkup line={1} ellipsis=\"...\">{userName}</TruncateMarkup>{ isVerified ?  <GoVerified className=\"verified_icon\"/> : null} </Link> </h5>\r\n                                                              \r\n                                        </span>\r\n                                        <span tabIndex=\"0\" aria-disabled=\"false\" role=\"button\">\r\n                                            <p><TruncateMarkup line={1} ellipsis=\"...\">{location}</TruncateMarkup></p>\r\n                                        </span>\r\n                                    \r\n                                    </div>\r\n                                </header>\r\n                                <span className=\"post--header--options\" onClick={()=> this.setState({openOptionsModal: true})}><HiDotsHorizontal/></span>\r\n                            </div>\r\n                            <div className=\"post--card--body\">\r\n                            {\r\n                                contentType === \"image\" ?\r\n                                <div>\r\n                                    <img  onClick={()=> this.doubleClickEvent()} className=\"post__card__content\" src={contentURL} alt=\"post\" draggable=\"false\" />\r\n                                    {\r\n                                        this.state.doubleLikeClicked ?\r\n                                        <div>\r\n                                       \r\n                                            <div className=\"liked__double__click__layout\"></div>\r\n                                            <span className=\"liked__double__click\" style={{\r\n                                                            animation: this.state.doubleLikeClicked ? \"boundHeartOnDouble 0.9s forwards ease\" : null\r\n                                                        }}><FaHeart/></span>\r\n                                        </div>\r\n                                        : null\r\n                                    }\r\n                                </div>\r\n                                : contentType === \"video\" ?\r\n                                <div>\r\n                                  <video onClick={()=> this.doubleClickEvent()} className=\"post__card__content\" src={contentURL} draggable=\"false\" controls /> \r\n                                  <IoMdVideocam className=\"video__top__icon\"/> \r\n                                  \r\n                                </div>\r\n                                \r\n                                : null\r\n                            }\r\n                                \r\n\r\n                            </div>\r\n                            <div className=\"post--card--footer flex-column\">\r\n                                <div className=\"post--footer--upper--row flex-row\">\r\n                                    <div className=\" flex-row\">\r\n                                        {\r\n                                            !this.state.postLiked ?\r\n                                            <span onClick={()=> this.handleCurrLikes(true)}\r\n                                                ><FiHeart/></span>\r\n                                            :\r\n                                                <span onClick={()=> this.handleCurrLikes(false)} \r\n                                                    style={{\r\n                                                        animation: this.state.postLiked ?  \"boundHeart 0.5s forwards ease\" : null\r\n                                                    }}\r\n                                                className=\"liked__heart\"><FaHeart/></span>\r\n                                        }\r\n                                            <span onClick={()=> this.setState({showInputForm: !this.state.showInputForm})}><FaRegComment/></span>\r\n                                            <span><FiSend/></span>\r\n                                    </div>\r\n                                    <div className=\"bookmark__icon\"><RiBookmarkLine/></div> \r\n                                </div>\r\n                                {\r\n                                    likes.people?.length >=1 ?\r\n                                    <div className=\"likes__count\" onClick={()=> handleUsersModal(true, likes.people ,\"likes\" )}>{likes.people?.length.toLocaleString()} { likes.people?.length === 1  ? \"like\"  : \"likes\"}</div>\r\n                                    : null\r\n                                }\r\n                                <span className=\"post__caption flex-row\"><strong>{userName}</strong> { !this.state.viewFullCaption ? <p><TruncateMarkup line={4} ellipsis=\"...more\" style={{cursor:\"pointer\"}} onClick={()=> this.setState({viewFullCaption: true})}>{caption}</TruncateMarkup></p>: <p className=\"article__post\">{caption}</p> }</span>\r\n                                {\r\n                                    comments?.length >=1 ?\r\n                                    <div>\r\n                                        {\r\n                                            comments?.length > 1 ?\r\n                                                <h5 className=\"post__comments__count\" onClick={()=> this.setState({showFullComments: !this.state.showFullComments})}> { !this.state.showFullComments ? \"View all\" : \"Hide most\" }  {comments.length.toLocaleString()} comments</h5>\r\n                                            : \r\n                                                <h5 className=\"post__comments__count\">Comments</h5>\r\n                                        }\r\n                                        {\r\n                                            !this.state.showFullComments ?\r\n                                            comments?.slice(0,2).map((comment, i) =>{\r\n                                                return(\r\n                                                    <Comment key={(i)}\r\n                                                    comment={comment}\r\n                                                    handleLikingComments={handleLikingComments}\r\n                                                    postOwnerId={postOwnerId}\r\n                                                    commentIndex={i}\r\n                                                    replayFunc={this.replayFunc.bind(this)}\r\n                                                    postIndex={this.props.index}\r\n                                                    myName={myName}\r\n                                                    date={comment?.date}\r\n                                                    likes={likes}\r\n                                                    userAvatar={userAvatar}\r\n                                                    contentType={contentType}\r\n                                                    contentURL={contentURL}\r\n                                                    handleUsersModal={handleUsersModal}\r\n                                                    uid={id} />\r\n                                                )\r\n                                            })\r\n                                            : \r\n                                            comments?.map((comment, i) =>{\r\n                                                return(\r\n                                                    <Comment key={(i)}\r\n                                                    comment={comment}\r\n                                                    handleLikingComments={handleLikingComments}\r\n                                                    postOwnerId={postOwnerId}\r\n                                                    commentIndex={i}\r\n                                                    replayFunc={this.replayFunc.bind(this)}\r\n                                                    postIndex={this.props.index}\r\n                                                    myName={myName}\r\n                                                    date={comment?.date}\r\n                                                    likes={likes}\r\n                                                    userAvatar={userAvatar}\r\n                                                    contentType={contentType}\r\n                                                    contentURL={contentURL}\r\n                                                    handleUsersModal={handleUsersModal}\r\n                                                    uid={id} />\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                       \r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                                \r\n                                <small className=\"post__date\">{new Date(postDate?.seconds * 1000).toLocaleString()}</small>\r\n                             {\r\n                                 this.state.showInputForm ?\r\n                                 <form onSubmit={(e)=> this.submitComment(e)}  className=\"post--bottom--comment--adding\">\r\n                                    <input ref={this.inputField} value={this.state.insertedComment} onChange={(event)=> this.setState({insertedComment: event.target.value})} className=\"post__bottom__input\" type=\"text\" placeholder=\"Add a commment..\" />\r\n                                    <button type=\"submit\" disabled={this.state.insertedComment.length <  1} className={this.state.insertedComment.length >=1 ? \"post__bottom__button\" :\"disabled post__bottom__button\" }>Post</button>\r\n                                </form>\r\n                                : null\r\n                             }   \r\n                            </div>\r\n\r\n                    </article>\r\n                    {\r\n                        this.state.openOptionsModal ?\r\n                            <div className=\"optionsM--container\">\r\n                                <div className=\"optionsM--container--inner flex-column\">\r\n                                    <div className=\"modal--option\" onClick={()=> deletePost(postId, index, contentName)}> Delete</div>\r\n                                    <div className=\"modal--option\" onClick={()=> this.setState({openOptionsModal: false})}> Cancel</div>\r\n                                </div>\r\n                            </div>\r\n                        : null\r\n                    }\r\n                    <div style={{\r\n                        opacity: this.state.openOptionsModal ? \"1\" : \"0\",\r\n                        display: this.state.openOptionsModal ? \"block\" : \"none\",\r\n                        transition:\"all 0.4s ease\",\r\n                            }} className=\"backdrop \" onClick={()=> this.setState({openOptionsModal: false})}>    \r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        ) \r\n    }\r\n    \r\n}\r\nexport default Post;","import React, {useEffect, useState, Fragment} from \"react\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {GoVerified} from \"react-icons/go\";\r\n\r\nconst SuggestItem =(props)=>{\r\n    const [followingState, setFollowingState] = useState(false);\r\n    const {userName, isVerified, userUid, userAvatarUrl, browseUser, handleFollowing, receivedData} = props;\r\n   \r\n    useEffect(()=>{     \r\n        if(receivedData !== {} && receivedData){\r\n            setFollowingState(receivedData?.following.filter(item => item?.receiverUid  === userUid)[0] ? true : false); \r\n        }\r\n            \r\n       \r\n    },[receivedData?.following]);\r\n\r\n    return(\r\n        <Fragment>\r\n            <div className=\"suggest--item--container\">\r\n                <li className=\"suggestion--item flex-row\">\r\n                    <div onClick={()=> browseUser(userUid)} className=\"side--user--info flex-row\">\r\n                        <Avatar src={userAvatarUrl} alt={userName}/>\r\n                        <h5 className=\"flex-row\">{userName}{isVerified ?  <span><GoVerified className=\"verified_icon\"/></span> : null} </h5>                                    \r\n                    </div>\r\n                    <button className={followingState? \"profile__btn prof__btn__unfollowed\": \"profile__btn prof__btn__followed\"} color=\"primary\" onClick={()=> handleFollowing(followingState, userUid, userName, userAvatarUrl, receivedData?.uid, receivedData?.userName, receivedData?.userAvatarUrl)}>{!followingState ? \"Follow\": \"Unfollow\"}</button>\r\n                </li> \r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\nexport default SuggestItem;","import React , {useState, useContext} from \"react\";\r\nimport Auxiliary from \"../../Components/HOC/Auxiliary\";\r\nimport appleStore from \"../../Assets/get-app-apple.png\";\r\nimport gpStore from \"../../Assets/get-app-gp.png\";\r\n// import logo from \"../../Assets/logo.png\";\r\nimport {GrInstagram} from \"react-icons/gr\";\r\nimport {auth, db, googleProvider, twitterProvider, facebookProvider, phoneProvider} from \"../../Config/firebase\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\n// import firebase from \"firebase\";\r\n\r\n\r\nconst AuthPage =(props)=>{\r\n    var context = useContext(AppContext);\r\n    const [_,loading] = useAuthState(auth);\r\n    //----------- states----------------------\r\n    const [signUpState, switchToSignUp] = useState(false);\r\n    const [signUpEmail, setSignUpEmail] = useState(\"\");\r\n    const [signUpPassword, setSignUpPassword] = useState(\"\");\r\n    const [signUpUsername, setSignUpUsername] = useState(\"\");\r\n    const [loginEmail, setLoginEmail] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n    const [getPasswordMode, setPasswordMode] = useState(false);\r\n    // const [posts, setPosts] = useState([]);\r\n    //-----x------ states--------x--------------\r\n    // const loginSubmit=(event)=>{\r\n    //     event.preventDefault\r\n    // }\r\n    \r\n    const submitForm= async (event, authType)=>{\r\n        \r\n        event.preventDefault();\r\n        var {resetAllData, uid, updateSuggestionsList, isUserOnline, updateUID,receivedData, updatedReceivedData, updateUserState, suggestionsList} = context;\r\n        if(authType === \"signUp\"){\r\n            resetAllData();  //clears data before adding new one           \r\n            setTimeout(()=>{\r\n                if(!isUserOnline){  //avoids data overlapping\r\n                                auth.createUserWithEmailAndPassword(signUpEmail, signUpPassword).then(cred=>{\r\n                                        db.collection(\"users\").doc(cred.user.uid).set({\r\n                                                uid: cred.user.uid,\r\n                                                userName: signUpUsername,\r\n                                                posts: [],\r\n                                                followers: [],\r\n                                                following: [],\r\n                                                messages: [],\r\n                                                bio: \"\",\r\n                                                websiteUrl: \"\",\r\n                                                homePosts: [],\r\n                                                latestLikedPosts: [],\r\n                                                savedposts: [],\r\n                                                stories: [],\r\n                                                notifications: {isNewMsg: false,isUpdate: false, list: []},\r\n                                                isVerified: false,\r\n                                                userAvatarUrl: \"\" //auth.currentUser\r\n                                        }).then((res)=>{\r\n                                            setSignUpEmail(\"\");\r\n                                            setSignUpPassword(\"\");\r\n                                            setSignUpUsername(\"\");\r\n                                            props.history.push(\"/\");\r\n                                            \r\n                                        })\r\n                                        \r\n                                    }).catch((err)=>{\r\n                                        alert(err.message);\r\n                                    })\r\n                                }\r\n                        },1000);\r\n                            \r\n            }else if(authType ===  \"login\"){\r\n                        resetAllData(); \r\n                        setTimeout(()=>{\r\n                            if(!isUserOnline){ //avoids data overlapping\r\n                            \r\n                                auth.signInWithEmailAndPassword(loginEmail, loginPassword).then(res =>{\r\n                                        setLoginEmail(\"\");\r\n                                        setLoginPassword(\"\");\r\n                                        \r\n                                    auth.onAuthStateChanged( authUser =>{\r\n                                        db.collection(\"users\").get().then((query)=>{\r\n                                            query.forEach((user)=>{\r\n                                                    updateSuggestionsList(user.data());\r\n                                            })\r\n                                            updateUserState(true);\r\n                                            updateUID(authUser?.uid);\r\n                                            updatedReceivedData();\r\n                                           \r\n                                        });\r\n                                        \r\n                                    })\r\n                                    props.history.push(\"/\");\r\n                                }).catch((err)=>{\r\n                                        alert(err.message);\r\n                                })\r\n                            }\r\n                            \r\n                        },2000);\r\n                        \r\n            }\r\n       \r\n    }\r\n    const signInMethods=(method)=>{\r\n        switch(method){\r\n            case \"googleProvider\":\r\n                    auth.signInWithPopup(googleProvider).then(cred=>{\r\n                    //     db.collection(\"users\").doc(cred.user.uid).set({\r\n                    //         uid: cred.user.uid,\r\n                    //         userName: signUpUsername,\r\n                    //         posts: [],\r\n                    //         followers: [],\r\n                    //         following: [],\r\n                    //         messages: [],\r\n                    //         bio: \"\",\r\n                    //         homePosts: [],\r\n                    //         latestLikedPosts: [],\r\n                    //         savedposts: [],\r\n                    //         stories: [],\r\n                    //         notifications: {isNewMsg: false, isUpdate: false, list: []},\r\n                    //         isVerified: false,\r\n                    //         userAvatarUrl: \"\" //auth.currentUser\r\n                    // }).then((res)=>{\r\n                    //     console.log(res, \"successful\");\r\n                    //     setSignUpEmail(\"\");\r\n                    //     setSignUpPassword(\"\");\r\n                    //     setSignUpUsername(\"\");\r\n                    //     props.history.push(\"/\");\r\n                        \r\n                    // })\r\n                    \r\n                }).catch((err)=>{\r\n                    alert(err.message);\r\n                })\r\n            break;\r\n            case \"facebookProvider\":\r\n                    // auth.signInWithPopup(facebookProvider);\r\n            break;\r\n            case \"twitterProvider\":\r\n                    // auth.signInWithPopup(twitterProvider);\r\n            break;\r\n            case \"phoneProvider\":\r\n                    // auth.signInWithPopup(phoneProvider);\r\n            break;\r\n            default:\r\n                    auth.signInWithPopup(googleProvider);\r\n\r\n        }\r\n        \r\n    }\r\n    const resetEmail=()=>{\r\n        auth.sendPasswordResetEmail(loginEmail).then(res =>{\r\n            console.log(res);\r\n            alert(\"A password reset config has been send to your email\");\r\n        }).catch(err=>{\r\n            alert(\"Error has occurred\", err);\r\n        });\r\n    }\r\n    return(\r\n        <Auxiliary>\r\n             <section className=\"auth--main flex-column\">\r\n                <div className=\"auth flex-column\">\r\n                    <div className=\"auth--upper--card flex-column\">\r\n                        <div className=\"auth--logo flex-row\">\r\n                            <span className=\"mr-2\"><GrInstagram /></span>\r\n                            <h1 className=\"logoText\">Voxgram</h1>\r\n                        </div>\r\n                        \r\n                        {\r\n                            // log in state\r\n                            !signUpState ?\r\n                            <form onSubmit={(event) => submitForm(event, \"login\")} className=\"auth--input--form flex-column\">\r\n                                {\r\n                                   !getPasswordMode ?\r\n                                    <div className=\"flex-column\">\r\n                                        <input required autoFocus value={loginEmail} onChange={(e)=> setLoginEmail(e.target.value)} type=\"text\"  placeholder=\"Email\" />\r\n                                        <input required value={loginPassword} onChange={(e)=> setLoginPassword(e.target.value)} type=\"password\"  placeholder=\"Password\" /> \r\n                                        <input className={loading ? \"disabled\" : \"\"} type=\"submit\" value={loading ?\"Loading...\": \"Log In\"} />\r\n                                        <span onClick={()=> setPasswordMode(true)} className=\"forgot__pass\">Forgot password?</span>\r\n                                    </div>\r\n                                    : \r\n                                    <div>\r\n                                        <span onClick={()=> setPasswordMode(false)} className=\"back__Btn\">Back</span>\r\n                                        <input required autoFocus value={loginEmail} onChange={(e)=> setLoginEmail(e.target.value)} type=\"text\"  placeholder=\"Email\" />\r\n                                        <span onClick={()=> resetEmail()} className=\"resetPassBtn\">Resest password through email</span>\r\n                                    </div>\r\n                                    \r\n                                }\r\n                                {/* <div>\r\n                                     <span onClick={()=>signInMethods(\"googleProvider\")}>Sign in with Google</span>\r\n                                     <span onClick={()=> signInMethods(\"facebookProvider\")}>Sign in with Facebook</span>\r\n                                     <span onClick={()=> signInMethods(\"twitterProvider\")}>Sign in with Twitter</span>\r\n                                     <span onClick={()=>signInMethods(\"phoneProvider\")}>Sign in with a phone number</span>\r\n                                    </div> */}\r\n                            </form>\r\n                            // sign up state\r\n                            :\r\n                            <div>\r\n                                <h4 className=\"auth--signup--msg\">Sign up to see photos and videos from your friends.</h4>\r\n                               <form onSubmit={(event) => submitForm(event, \"signUp\")} className=\"auth--input--form flex-column\">\r\n                                    <input required autoFocus value={signUpEmail} onChange={(e)=> setSignUpEmail(e.target.value)} type=\"email\"  placeholder=\"Email\" />\r\n                                    <input required value={signUpUsername} onChange={(e)=> setSignUpUsername(e.target.value)} type=\"text\"  placeholder=\"Username\" />\r\n                                    <input required value={signUpPassword} onChange={(e)=> setSignUpPassword(e.target.value)} type=\"password\"  placeholder=\"Password\" />\r\n                                    <input required type=\"password\"  placeholder=\"Re-type Password\" />\r\n                                    <input className={loading ? \"disabled\" : \"\"}  type=\"submit\" value={loading ?\"Loading...\": \"Sign Up\"} />\r\n                                </form> \r\n                            </div>\r\n                            \r\n                        }\r\n                        \r\n                    </div>\r\n                    <div className=\"auth--bottom--card\">\r\n                        {\r\n                           !signUpState ?\r\n                           <span>Don't have an account? <h6 onClick={()=> switchToSignUp(!signUpState)}>Sign up</h6></span>\r\n                           :\r\n                           <span>Have an account? <h6 onClick={()=> switchToSignUp(!signUpState)}>Log in</h6></span>\r\n                        }\r\n                       \r\n\r\n                        \r\n                    </div>\r\n                    <p className=\"auth__get__app\">Get the app.</p>\r\n                    <div className=\"auth--available--stores\">\r\n                        <div className=\"auth--stores--inner flex-row\">\r\n                           <img src={appleStore} alt=\"apple store\" />\r\n                            <img src={gpStore} alt=\"google store\" /> \r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className=\"auth--footer--container flex-row\">\r\n                    <ul className=\"auth--footer--ul flex-row\">\r\n                        <li>ABOUT</li>\r\n                        <li>HELP</li>\r\n                        <li>PRESS</li>\r\n                        <li>API</li>\r\n                        <li>JOBS</li>\r\n                        <li>PRIVACY</li>\r\n                        <li>TERMS</li>\r\n                        <li>LOCATIONS</li>\r\n                        <li>TOP ACCOUNTS</li>\r\n                        <li>HASHTAGS</li>\r\n                        <li>LANGUAGE</li>\r\n                    </ul>\r\n                    <div className=\"auth--copyright\">\r\n                        <span>This app was made for personal use</span>\r\n                        <span>@2020 Instagram clone made by Mahmoud Farargy</span>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </section>\r\n        </Auxiliary>\r\n    )\r\n}\r\n\r\nexport default withRouter(AuthPage);","import React, {useContext} from \"react\";\r\nimport Auxiliary from \"../../Components/HOC/Auxiliary\";\r\nimport \"./Home.css\";\r\nimport Post from \"../../Components/Post/Post\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport SuggestItem from \"../../Components/SuggestItem/SuggestItem\";\r\nimport AuthPage from \"../../Pages/AuthPage/AuthPage\";\r\nimport {GoVerified} from \"react-icons/go\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";  //firebase hook\r\nimport {auth} from \"../../Config/firebase\"; \r\nimport {Skeleton} from \"@material-ui/lab\";\r\nimport InstagramEmbed from \"react-instagram-embed\";\r\nimport {BsPlusSquare} from \"react-icons/bs\";\r\n\r\nconst Home =(props)=>{\r\n    let {receivedData, handleMyLikes, handleSubmittingComments, isUserOnline, suggestionsList, getUsersProfile, uid, handleFollowing, deletePost, handleSubComments, handleLikingComments, handleUsersModal} = useContext(AppContext);\r\n    let posts = receivedData?.posts;\r\n    const browseUser=(specialUid)=>{\r\n        getUsersProfile(specialUid);\r\n        props.history.push(\"/user-profile\");\r\n    }  \r\n    \r\n    let [user, loading, error] = useAuthState(auth);\r\n    return(\r\n        <Auxiliary>\r\n            {\r\n                user ?\r\n            <section id=\"home\" className=\"main--home--container \">\r\n                 \r\n                <div className=\"main--home--inner desktop-comp\">\r\n                    <div className=\"home--posts--side flex-column\">\r\n                    {\r\n                        !loading && posts?.length >=1 ? \r\n                            posts?.map((post, i) =>{\r\n                                return(      \r\n                                            <Post key={post?.id}\r\n                                            userName={post?.userName}\r\n                                            myName = {receivedData?.userName}\r\n                                            caption={post?.caption}\r\n                                            contentType={post?.contentType}\r\n                                            contentURL ={post?.contentURL}\r\n                                            contentName ={post?.contentName}\r\n                                            comments={post?.comments}\r\n                                            likes={post?.likes}\r\n                                            postDate={post?.date}\r\n                                            id={uid}\r\n                                            location={post?.location}\r\n                                            index = {i}\r\n                                            postId = {post?.id}\r\n                                            postOwnerId = {post?.postOwnerId}\r\n                                            userAvatar = {receivedData?.userAvatarUrl}\r\n                                            handleMyLikes={handleMyLikes}\r\n                                            handleSubmittingComments= {handleSubmittingComments}\r\n                                            handleSubComments = {handleSubComments}\r\n                                            handleLikingComments = {handleLikingComments}\r\n                                            isVerified = {receivedData?.isVerified}\r\n                                            handleUsersModal = {handleUsersModal}\r\n                                            deletePost = {deletePost}\r\n                                            />\r\n                                )\r\n                            })\r\n                        : loading ?\r\n                            (<Skeleton variant=\"rect\" width=\"100%\">\r\n                                <div style={{ paddingTop: '57%' }} />\r\n                            </Skeleton>\r\n                          )\r\n                        : posts?.length <1 ?\r\n                            (\r\n                                <div className=\"empty--posts--container flex-column\">\r\n                                    <div className=\"empty--posts--inner flex-column\">\r\n                                        <div className=\"plus--icon--container flex-column \"><BsPlusSquare className=\"plus__icon\"/></div>\r\n                                        <h3>No posts have been made</h3>\r\n                                        <p>When you share photos and videos, they'll <br/> be appear on your posts page</p>\r\n\r\n                                        <span>Share your first photo or video</span>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        : null\r\n                    }\r\n                    </div>\r\n                    <aside className=\"home--sider\">\r\n                        {\r\n                            receivedData?.userName ?\r\n                                <div className=\"side--user--info flex-row\">\r\n                                    <Avatar />\r\n                                    <h5 className=\"flex-row\" onClick={()=> props.history.push(\"/profile\")}>{receivedData?.userName} { receivedData?.isVerified ? <GoVerified className=\"verified_icon\"/> : null}</h5>  \r\n                                </div>\r\n                                \r\n                            : null\r\n                        }\r\n                        {\r\n                            suggestionsList.length >=1 ?\r\n                            <div className=\"suggestions--home--container\">\r\n                                <div className=\"suggestions--header flex-row\">\r\n                                    <h6>Suggestions For you</h6>  \r\n                                    <button>See all</button>\r\n                                </div>\r\n                                <div className=\"suggestions--list flex-column\">\r\n                                    <ul className=\"flex-column\">\r\n                                        {\r\n                                            suggestionsList?.filter(item => item?.uid !== receivedData?.uid ).slice(0,5).map((user,i) =>{\r\n                                                return(\r\n                                                    loading ?\r\n                                                    (<Skeleton variant=\"circle\" width={40} height={40} />)\r\n                                                    :\r\n                                                    (<SuggestItem key={i} userName={user?.userName} isVerified={user?.isVerified} userUid={user?.uid} userAvatarUrl={user?.userAvatarUrl}   browseUser={browseUser} handleFollowing={handleFollowing} receivedData={receivedData} />)\r\n                                                    \r\n                                                )\r\n                                            })\r\n                                        } \r\n                                        \r\n                                    </ul>\r\n                                </div> \r\n                            </div>\r\n                            : null\r\n                        }\r\n                        <div className=\"instagram--embed--container\">\r\n                        <InstagramEmbed\r\n                            url=\"https://www.instagram.com/p/CGalYyrJNsX/\"\r\n                            // hideCaptions ={false}\r\n                            containerTagName =\"div\"\r\n                            className=\"instagram__embed\"\r\n                            // maxWidth={320}\r\n                         />\r\n                        </div>\r\n                        \r\n                        \r\n                        \r\n                    </aside>\r\n                    {/* footer */}\r\n                    <div id=\"userProfFooter\" className=\"userProfile--footer auth--footer--container desktop-only\">\r\n                    <ul className=\"auth--footer--ul flex-row\">\r\n                            <li>ABOUT</li>\r\n                            <li>HELP</li>\r\n                            <li>PRESS</li>\r\n                            <li>API</li>\r\n                            <li>JOBS</li>\r\n                            <li>PRIVACY</li>\r\n                            <li>TERMS</li>\r\n                            <li>LOCATIONS</li>\r\n                            <li>TOP ACCOUNTS</li>\r\n                            <li>HASHTAGS</li>\r\n                            <li>LANGUAGE</li>\r\n                        </ul>\r\n                        <div className=\"auth--copyright\">\r\n                            <span>This app was made for personal use</span>\r\n                            <span>@2020 Instagram clone made by Mahmoud Farargy</span>\r\n                        </div>\r\n                </div>\r\n                </div>\r\n            </section>\r\n            :\r\n            <AuthPage />\r\n        }\r\n        </Auxiliary>\r\n    )\r\n}\r\nexport default withRouter(Home);","import React,{PureComponent, Fragment} from \"react\";\r\n// http://localhost:3000/home\r\nimport {db, auth, storage} from \"../../Config/firebase\";\r\nimport {AppContext} from \"../../Context\";\r\nimport \"./AddNewPost.css\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Button, LinearProgress} from \"@material-ui/core\";\r\n// import Skeleton from '@material-ui/lab/Skeleton';  //npm install @material-ui/lab\r\n\r\nclass AddNewPost extends PureComponent{\r\n    \r\n    state={\r\n        posts: [{caption: \"\", id: \"\",contentType: \"\" , contentURL: \"\", comments: [], date: \"\", likes: [], userName: \"\", location: \"\" , uid: \"\"}],\r\n        insertedCaption: \"\",\r\n        progressBarPercentage: 0,\r\n        uploading: false,\r\n        postingPhase: true,\r\n        contentType: \"\",\r\n        contentURL: \"\",\r\n        contentName: \"\",\r\n        location: \"\"\r\n    }\r\n    static contextType = AppContext;\r\n    componentDidMount=()=>{\r\n      // this.unListen = this.props.listen\r\n      this.setState({\r\n        ...this.state,\r\n        postingPhase: true\r\n      })\r\n    }\r\n    componentDidUpdate=()=>{\r\n        const {receivedData} = this.context;\r\n        if(receivedData?.posts !== this.state.posts){\r\n            this.setState({\r\n              ...this.state,\r\n                posts:  receivedData?.posts\r\n            }) \r\n          \r\n        }\r\n        // console.log(this.props.location, this.props.history);\r\n        // if(this.props.location.pathname !== \"/add-post\" && this.state.postingPhase){\r\n        //   console.log(\"path has changed\");\r\n        // }\r\n        \r\n        // auth.onAuthStateChanged(user =>{\r\n        //     db.collection(\"users\").doc(user?.uid).get().then(data=>{\r\n        //               this.setState({\r\n        //                  ...this.state,\r\n        //                   posts:    data.data().posts\r\n        //               })\r\n        //              //  console.log(data.data().messages[randomId].message);\r\n        //     })\r\n        // });\r\n        \r\n    }\r\n    \r\n    \r\n    generateNewId =() =>{\r\n      \r\n        let char1 = \"G\";\r\n        let char2 = \"j\";\r\n        let char3 = \"k\";\r\n        let char4 = \"M\";\r\n        let char5 = \"N\";\r\n        let char6 = \"Z\";\r\n        var charRandom =()=>{\r\n          return Math.floor((Math.random() *6 )+1);\r\n        }\r\n        for(let i = 0; i<5 ; i++){\r\n          charRandom();//calls the \"charRandom\" function repeatedly 6 time, each time a new character will be created.\r\n          switch (charRandom()){ //determines which new char will be created for each variable\r\n            case 1:\r\n              char1 = \"A\";\r\n              break;\r\n            case 2:\r\n              char2 = \"B\"\r\n              break;\r\n            case 3:\r\n              char3 = \"C\"\r\n              break;\r\n            case 4:\r\n              char4 = \"D\"\r\n              break;\r\n            case 5:\r\n              char5 = \"E\"\r\n              break;\r\n            default:\r\n              char6 = \"F\"\r\n          }\r\n        };\r\n\r\n        const numRandom=()=>{\r\n          return char1 + char2 + char3 + Math.random() *9999 +1 + char4 + char5 + char6 ;\r\n        }\r\n        \r\n        return numRandom();\r\n    }  \r\n    resetState(){\r\n      this.setState({\r\n               ...this.state,\r\n              insertedCaption: \"\",\r\n              progressBarPercentage: 0,\r\n              uploading: false,\r\n              postingPhase: false,\r\n              contentType: \"\",\r\n              contentURL: \"\",\r\n              location: \"\",\r\n              contentName: \"\"\r\n        })\r\n    }\r\n\r\n    onCancel(){\r\n      this.context.deleteContentFromFB(this.state.contentName);\r\n      this.resetState();\r\n    }\r\n    onSubmitPost(x){\r\n        x.preventDefault();\r\n\r\n          let {isUserOnline, receivedData, updatedReceivedData , uid} = this.context;\r\n        \r\n          if(isUserOnline){//adds post\r\n              if(this.state.insertedCaption !== \"\"){\r\n                  if(this.state.contentName !== \"\"){\r\n                      this.state.posts.unshift({caption: this.state.insertedCaption, id: this.generateNewId(),contentType: this.state.contentType , contentURL: this.state.contentURL, comments: [] , date: new Date(), likes: {people : []}, userName: receivedData?.userName, location: this.state.location , postOwnerId: uid, userAvatarUrl: receivedData?.userAvatarUrl, contentName: this.state.contentName} );\r\n\r\n                    auth.onAuthStateChanged(user =>{\r\n                        db.collection(\"users\").doc(user?.uid).update({\r\n                                posts: this.state.posts\r\n                        }).then(()=>{\r\n                          updatedReceivedData();\r\n                          this.props.history.push(\"/\");\r\n                          this.resetState();\r\n                        })\r\n                    })\r\n                  }else{\r\n                    alert(\"Content should be inserted\");\r\n                  }\r\n                \r\n              }else{\r\n                alert(\"Caption should be included\");\r\n              }\r\n              \r\n          }\r\n          \r\n          \r\n      }\r\n    handleFileChange=(w)=>{\r\n      let {isUserOnline} = this.context;\r\n      let uploadedItem  = w.target.files[0];  \r\n      const metadata ={\r\n        contentType : uploadedItem !== \"\" ? uploadedItem?.type : null\r\n      }\r\n      if(/(image|video)/g.test(metadata.contentType) && uploadedItem.size <= 12378523){\r\n          const uploadContent = storage.ref(`content/${uploadedItem.name}`).put(uploadedItem, metadata);\r\n        uploadContent.on(\"state_changed\", (snapshot)=>{\r\n          //Progress function .. \r\n          const progress  = Math.round(snapshot.bytesTransferred /  snapshot.totalBytes ) * 100;\r\n          this.setState({\r\n            ...this.state,\r\n            uploading: true,\r\n            progressBarPercentage: progress\r\n          })\r\n          // console.log(uploadContent, progress, timestamp);\r\n        },(error) =>{\r\n          //Error function..\r\n          alert(error.message);\r\n          this.resetState();\r\n        },\r\n        ()=>{\r\n          // Complete function..\r\n          storage.ref(\"content\").child(uploadedItem.name).getDownloadURL().then( url =>{\r\n            //post content on db\r\n              this.setState({\r\n                ...this.state,\r\n                contentName: uploadedItem.name,\r\n                uploading: false,\r\n                progressBarPercentage: 0,\r\n                contentURL: url,\r\n                contentType: /image/g.test(metadata.contentType) ? \"image\" : \"video\"\r\n              })\r\n              uploadedItem =  \"\"; /*<<changed this (check..)*/\r\n          })\r\n        }\r\n        );\r\n      }else{\r\n        alert(\"Please choose an image or video that doesn't exceed the size of 12MB.\")\r\n      }\r\n      \r\n      \r\n    }\r\n\r\n    \r\n    render(){\r\n        return(\r\n            <Fragment>\r\n                <section id=\"upload\" className=\"post--uploading--container flex-column\">\r\n                <div className=\"desktop-comp post--uploading--inner flex-column\"> \r\n                  <h5 className=\"app__titles\">Add a Post</h5>\r\n                    <div className=\"post--uploading--card flex-column\">\r\n                          <div className=\"showing--upladed--content\">\r\n                              {\r\n                                this.state.uploading ?\r\n                                // <Skeleton variant=\"rect\" width={210} height={118} />\r\n                                  <div className=\"uploading__in__progress flex-column\">\r\n                                    <h4>Uploading...</h4>\r\n                                  </div>\r\n                                \r\n                                :\r\n                                this.state.contentType === \"image\" ?\r\n                                  <img src={this.state.contentURL} alt=\"\" />\r\n                                : this.state.contentType === \"video\" ?\r\n                                  <video src={this.state.contentURL} controls> </video>\r\n                                : null\r\n                              }\r\n                          </div>\r\n                          <form onSubmit={(x)=> this.onSubmitPost(x)} >\r\n                                {\r\n                                  this.state.uploading ?\r\n                                  <div className=\"my-4\">\r\n                                    <LinearProgress variant=\"buffer\" value={this.state.progressBarPercentage} valueBuffer={0} />\r\n                                  </div>\r\n                                    \r\n                                    : null\r\n                                }\r\n                                {  !this.state.uploading ?\r\n                                      <input type=\"file\" onChange={(w)=> this.handleFileChange(w)} />\r\n                                  : null\r\n                                } \r\n                                  \r\n                              {\r\n                                !this.state.uploading ?\r\n                                  <div>\r\n                                    <textarea required type=\"text\" placeholder=\"Enter a caption...\" value={this.state.insertedCaption} onChange={(e)=> this.setState({insertedCaption: e.target.value})} />\r\n                                    <input type=\"text\" placeholder=\"Location\" value={this.state.location} onChange={(e)=> this.setState({location: e.target.value})} />\r\n                                     {\r\n                                       this.state.contentType !== \"\" ?\r\n                                        <Button onClick={()=> this.onCancel()} variant=\"contained\" >Cancel</Button>\r\n                                       : null\r\n                                     } \r\n                                      <Button type=\"submit\" variant=\"contained\" color=\"primary\">Post</Button>\r\n                                  </div>\r\n                                : null\r\n                              }\r\n                            \r\n                                  \r\n                          </form>\r\n                      </div> \r\n                    </div>                \r\n                </section>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(AddNewPost);","import React, {useContext, Fragment, useState,useEffect} from \"react\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {auth} from '../../Config/firebase';\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {GoVerified } from \"react-icons/go\";\r\nimport {IoMdGrid} from \"react-icons/io\";\r\nimport {RiLayoutRowLine} from \"react-icons/ri\";\r\nimport {BsPlusSquare} from \"react-icons/bs\";\r\n\r\n\r\nconst UsersProfile =(props)=>{\r\n    const [_,loading] = useAuthState(auth);\r\n    const [isFollowed, setFollowingState] = useState(false);\r\n    const [grid, setGrid] = useState(true);\r\n    const context = useContext(AppContext);\r\n    const {usersProfileData , changeMainState, initializeChatDialog, uid, handleFollowing, receivedData,handleUsersModal,openUsersModal, igVideoImg} = context;\r\n\r\n    const redirectToPost=(i, id)=>{\r\n        changeMainState(\"currentPostIndex\", {index: i, id: id});\r\n        props.history.push(\"/browse-post\");\r\n    }\r\n    const message=(uid, username, avatarUrl)=>{\r\n        initializeChatDialog(uid, username, avatarUrl);\r\n        props.history.push(\"/messages\");\r\n    }\r\n    useEffect(()=>{\r\n        setFollowingState(receivedData?.following?.filter(item => item?.receiverUid  === usersProfileData?.uid)[0] ? true : false);\r\n    },[receivedData?.followers,usersProfileData?.followers]);\r\n    \r\n     return(\r\n        <Fragment>\r\n            <section id=\"usersProfile\" className=\"users--profile--container \">\r\n                {/* Header */}\r\n                {/* upper row */}\r\n                \r\n            <div className=\"desktop-comp\">\r\n                <div className=\"user--top--info flex-row\">\r\n                        <div className=\"user--pic--container flex-column\">\r\n                            <Avatar className=\"user__picture\" src={usersProfileData?.userAvatarUrl} alt={usersProfileData?.userName} />\r\n                        </div>\r\n                        <div className=\"desktop--inner--info flex-column\">\r\n                            <div className=\"users--action--row flex-row\">\r\n                                <h5 className=\"profile__display__name\">{usersProfileData?.userName}\r\n                               {\r\n                                   usersProfileData?.isVerified ?\r\n                                   <GoVerified className=\"verified_icon\"/>\r\n                                   : null\r\n                               }\r\n                                </h5>\r\n                                <div className=\"flex-row\">\r\n                                    <button disabled={!usersProfileData?.uid} className={ isFollowed ? \"profile__btn prof__btn__unfollowed\": \"profile__btn prof__btn__followed\" } onClick={()=> message(usersProfileData?.uid, usersProfileData?.userName , usersProfileData?.userAvatarUrl)}>Message</button>\r\n                                    <button disabled={!usersProfileData?.uid} onClick={()=> handleFollowing(isFollowed, usersProfileData?.uid, usersProfileData?.userName, usersProfileData?.userAvatarUrl, uid, receivedData?.userName, receivedData?.userAvatarUrl)} className={ !isFollowed ? \"profile__btn prof__btn__followed\" : \"profile__btn prof__btn__unfollowed\" }> {isFollowed ? \"unfollow\" : \"follow\"}</button>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div className=\"desktop--social--row flex-row\">\r\n                                <p><span>{usersProfileData?.posts?.length.toLocaleString()}</span> {usersProfileData?.posts?.length >1 ?\"posts\": \"post\"}</p>\r\n                                <p className=\"acc-action\" onClick={()=> handleUsersModal(true, usersProfileData?.followers, \"followers\")}><span>{usersProfileData?.followers?.length.toLocaleString()}</span> {usersProfileData?.followers?.length >1 ?\"followers\": \"follower\"}</p>\r\n                                <p className=\"acc-action\"  onClick={()=> handleUsersModal(true, usersProfileData?.following, \"following\")}><span>{usersProfileData?.following?.length.toLocaleString()}</span> following</p>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n                {/* bottom row */}\r\n                <div className=\"bottom--row--user-info flex-column\">\r\n                        <p>{usersProfileData?.bio}</p>\r\n                </div>\r\n                {/* body */}\r\n                <div className=\"users--profile--stripe flex-row\">\r\n                  {\r\n                      usersProfileData?.posts?.length >=1 ?\r\n                   <div className=\"profile--stripe--inner flex-row\">\r\n                        <span onClick={()=> setGrid(true)} style={{color: grid ? \"#1d8cd6\": \"#8e8e8e\", borderTop: grid ? \"2px solid #363636\" : \"none\"}}><IoMdGrid /></span>\r\n                        <span onClick={()=> setGrid(false)} style={{color: !grid ? \"#1d8cd6\": \"#8e8e8e\",borderTop: !grid ? \"2px solid #363636\" : \"none\"}}><RiLayoutRowLine/></span> \r\n                    </div>\r\n                    : null\r\n                } \r\n                    \r\n                </div>\r\n\r\n                    <div className={grid ? \"users--profile--posts\" : \"users--profile--rowLine flex-column\"}>\r\n                        {\r\n                            usersProfileData?.posts?.length >=1 && !loading  ?\r\n                                usersProfileData?.posts?.map((post, i)=>{\r\n                                        return (\r\n                                            <div key={post?.id+i}  className=\"profile--posts--container\">                                                    \r\n                                                    <img onClick={()=> redirectToPost(i, post?.id) } style={{width: grid ? \"100%\" : \"auto\"}} className=\"users__profile__image\" src={post?.contentType === \"image\" ? post?.contentURL : post?.contentType === \"video\" ? igVideoImg : null} alt={`post #${i}`} />\r\n                                            </div>\r\n                                        )\r\n                                })\r\n                            : loading ?\r\n                                (<CircularProgress\r\n                                    variant=\"determinate\"\r\n                                    size={40}\r\n                                    thickness={4}\r\n                                    {...props}\r\n                                    value={100}\r\n                                  />)\r\n                            :\r\n                            (\r\n                                <div className=\"empty--posts--container flex-column\">\r\n                                    <div className=\"empty--posts--inner flex-column\">\r\n                                        <div className=\"plus--icon--container flex-column\"><BsPlusSquare className=\"plus__icon\"/></div>\r\n                                        <h3>Profile</h3>\r\n                                        <p>When you share photos and videos, they'll <br/> be appear on your profile page</p>\r\n    \r\n                                        <span>Share your first photo or video</span>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    {/* <div style={{\r\n                        opacity: openUsersModal ? \"1\" : \"0\",\r\n                        display: openUsersModal ? \"block\" : \"none\",\r\n                        transition:\"all 0.4s ease\",\r\n                    }} className=\"backdrop\" onClick={()=> handleUsersModal(false,\"\")}></div> */}\r\n                </div>\r\n                {/* footer */}\r\n                <div id=\"userProfFooter\" className=\"userProfile--footer auth--footer--container desktop-only\">\r\n                    <ul className=\"auth--footer--ul flex-row\">\r\n                            <li>ABOUT</li>\r\n                            <li>HELP</li>\r\n                            <li>PRESS</li>\r\n                            <li>API</li>\r\n                            <li>JOBS</li>\r\n                            <li>PRIVACY</li>\r\n                            <li>TERMS</li>\r\n                            <li>LOCATIONS</li>\r\n                            <li>TOP ACCOUNTS</li>\r\n                            <li>HASHTAGS</li>\r\n                            <li>LANGUAGE</li>\r\n                        </ul>\r\n                        <div className=\"auth--copyright\">\r\n                            <span>This app was made for personal use</span>\r\n                            <span>@2020 Instagram clone made by Mahmoud Farargy</span>\r\n                        </div>\r\n                </div>\r\n            </section>\r\n            \r\n        </Fragment>\r\n    )\r\n}\r\nexport default withRouter(UsersProfile);","import React ,{Fragment, PureComponent} from \"react\";\r\nimport \"../../Components/Post/Post.css\";\r\nimport {HiDotsHorizontal} from \"react-icons/hi\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport TruncateMarkup from \"react-truncate\";\r\nimport {FiHeart, FiSend} from \"react-icons/fi\";\r\nimport {FaHeart} from \"react-icons/fa\";\r\nimport {FaRegComment} from \"react-icons/fa\";\r\nimport {IoMdVideocam} from \"react-icons/io\";\r\nimport {RiBookmarkLine} from \"react-icons/ri\";\r\nimport {AppContext} from \"../../Context\";\r\nimport Comment from \"../../Components/Comment/Comment\";\r\nimport {GoVerified } from \"react-icons/go\";\r\n\r\nclass PostPage extends PureComponent{\r\n    static contextType = AppContext;\r\n    constructor(props){\r\n        super(props);\r\n        this.inputField = React.createRef();\r\n        this.state= {\r\n        postLiked: false,\r\n        insertedComment: \"\",\r\n        currtData: {},\r\n        viewFullCaption: false,\r\n        btnClicks:0,\r\n        doubleLikeClicked: false,\r\n        replayData: {}\r\n        }\r\n    }\r\n    \r\n    // const convertSeconds=(s)=>{            \r\n    //         var sec = s % 60;\r\n    //         var secInMinutes = (s- sec) /60;\r\n    //         var min = secInMinutes %60;\r\n    //         var hr = (secInMinutes - min) /60;\r\n    //          if(sec<10){\r\n    //             return hr + \"h\" + \" \" + min + \"m\" + \" \"+ 0+sec + \"s\";\r\n    //          }\r\n    //          return hr + \"h\" + \" \"+ min + \"m\" +\" \"+ sec + \"s\";\r\n    // }\r\n    // console.log(new Date(803980830.toDate()));\r\n    componentDidMount(){\r\n        // this.likesCheck();  \r\n         const {usersProfileData} = this.context;\r\n        this.setState({\r\n            ...this.state,\r\n            currtData: usersProfileData\r\n        })\r\n        \r\n    }\r\n    \r\n    likesCheck(){\r\n        const {usersProfileData, currentPostIndex , uid} = this.context;\r\n        if(usersProfileData?.posts){\r\n            var {likes} = usersProfileData?.posts[currentPostIndex?.index];\r\n           return likes.people?.map(el =>  el.id).indexOf(uid) !== -1 ? true : false;\r\n            // this.setState({ //checks whether the user's post is liked or not\r\n            //         ...this.state,\r\n            //         postLiked: likes.people?.map(el =>  el.id).indexOf(uid) !== -1 ? true : false\r\n            // })\r\n        }\r\n          \r\n    }\r\n    handleCurrLikes=(boolean)=>{\r\n        const {usersProfileData, handlePeopleLikes,currentPostIndex, uid, receivedData } = this.context;\r\n        let postsData = usersProfileData?.posts;\r\n        if(postsData){\r\n            const {userName,likes, postOwnerId, contentURL, contentType } = postsData[currentPostIndex?.index];\r\n            handlePeopleLikes(boolean, currentPostIndex?.index, postOwnerId, receivedData?.userName , receivedData?.userAvatarUrl, uid, contentURL, contentType );\r\n        }\r\n        \r\n    }\r\n    doubleClickEvent=()=>{\r\n      let currCount = this.state.btnClicks;\r\n      this.setState(prevState =>({\r\n        btnClicks: prevState.btnClicks +1\r\n      }))\r\n      const resetCounter=()=>{\r\n        this.setState({\r\n            ...this.state,\r\n           btnClicks: 0\r\n         })\r\n      }\r\n      if(currCount === 1){\r\n        this.handleCurrLikes(true);\r\n         resetCounter();\r\n         this.setState({\r\n            ...this.state,\r\n             doubleLikeClicked: true\r\n         })\r\n         setTimeout(()=>{\r\n             this.setState({\r\n                ...this.state,\r\n             doubleLikeClicked: false\r\n         })\r\n         },1100);\r\n      }\r\n     setTimeout(()=>{\r\n        resetCounter();\r\n     },1000);\r\n    }\r\n    submitComment(v){\r\n        v.preventDefault();\r\n\r\n        const {usersProfileData , handleSubmittingComments , handleSubComments,  currentPostIndex, uid, receivedData, handleCommentsModal} = this.context;\r\n        let postsData = usersProfileData?.posts;\r\n        if(postsData){\r\n            const {id, postOwnerId, contentURL, contentType} = postsData[currentPostIndex?.index];\r\n            if(this.state.insertedComment !== \"\"){//subcomment\r\n                 if( this.state.replayData !== {}   && /^[@]/.test(this.state.insertedComment)){\r\n                 handleSubComments(this.state.replayData, this.state.insertedComment, receivedData?.userAvatarUrl, false, contentURL, contentType);\r\n                }else{//comment\r\n                    handleSubmittingComments(\"others\",currentPostIndex?.index, uid, receivedData?.userName, this.state.insertedComment, usersProfileData?.userAvatarUrl, new Date(), id, postOwnerId, contentURL, contentType);\r\n                }\r\n                this.setState({\r\n                    insertedComment: \"\",\r\n                    replayData: {}\r\n                }) \r\n            } \r\n        }\r\n         \r\n    }\r\n    replayFunc(postOwnerName,commentIndex, postIndex, postId, postOwnerId){\r\n        this.inputField.current.focus();\r\n        this.setState({\r\n            ...this.state,\r\n            replayData: {postOwnerName,commentIndex, postIndex, postId, postOwnerId},\r\n            insertedComment: `@${postOwnerName} `\r\n        })\r\n    }\r\n    render(){\r\n    var {usersProfileData , currentPostIndex, uid, receivedData, handleLikingComments, currentPostIndex, handleUsersModal, handleCommentsModal} = this.context;\r\n    if(usersProfileData?.posts){\r\n        var {userName,caption, contentType, contentURL, comments, likes, location, date, postOwnerId} = usersProfileData?.posts[currentPostIndex?.index];\r\n        var isVerified = usersProfileData?.isVerified;\r\n    }\r\n    \r\n        return(\r\n            <Fragment>\r\n               {\r\n                   usersProfileData?.posts ?\r\n\r\n                <div id=\"post\" className=\"post--card--container post--page\">\r\n                    <article className=\"post--card--article\">\r\n                            <div className=\"post--card--header flex-row\">\r\n                                <header className=\"post--header--avatar flex-row\">\r\n                                    <Avatar className=\"post__header__avatar\" src=\"\" alt=\"avatar\" />\r\n                                    <div className=\"post--header--user--info flex-column\">\r\n                                        <span tabIndex=\"0\" aria-disabled=\"false\" role=\"button\" className=\"flex-row\">\r\n                                            <h5 className=\"flex-row w-100\"><TruncateMarkup line={1} ellipsis=\"...\">{userName}</TruncateMarkup>{ isVerified ?  <span><GoVerified className=\"verified_icon\"/></span> : null} </h5>\r\n                                        </span>\r\n                                        <span tabIndex=\"0\" aria-disabled=\"false\" role=\"button\">\r\n                                            <p><TruncateMarkup line={1} ellipsis=\"...\">{location}</TruncateMarkup></p>\r\n                                        </span>\r\n                                    \r\n                                    </div>\r\n                                </header>\r\n                                <span className=\"post--header--options\"><HiDotsHorizontal/></span>\r\n                            </div>\r\n                            <div className=\"post--card--body\">\r\n                            {\r\n                                contentType === \"image\" ?\r\n                                <div>\r\n                                    <img  onClick={()=> this.doubleClickEvent()} className=\"post__card__content\" src={contentURL} alt=\"post\" draggable=\"false\" />\r\n                                    {\r\n                                        this.state.doubleLikeClicked ?\r\n                                        <div>\r\n                                       \r\n                                            <div className=\"liked__double__click__layout\"></div>\r\n                                            <span className=\"liked__double__click\" style={{\r\n                                                            animation: this.state.doubleLikeClicked ? \"boundHeartOnDouble 0.9s forwards ease\" : null\r\n                                                        }}><FaHeart/></span>\r\n                                        </div>\r\n                                        : null\r\n                                    }\r\n                                </div>\r\n                                : contentType === \"video\" ?\r\n                                <div>\r\n                                  <video className=\"post__card__content\" src={contentURL} draggable=\"false\" controls /> \r\n                                  <IoMdVideocam className=\"video__top__icon\"/> \r\n                                </div>\r\n                                \r\n                                : null\r\n                            }\r\n                                \r\n\r\n                            </div>\r\n                            <div className=\"post--card--footer flex-column\">\r\n                                <div className=\"post--footer--upper--row flex-row\">\r\n                                    <div className=\" flex-row\">\r\n                                        {\r\n                                            !this.likesCheck() ?\r\n                                            <span onClick={()=> this.handleCurrLikes(true)}\r\n                                                ><FiHeart/></span>\r\n                                            :\r\n                                                <span onClick={()=> this.handleCurrLikes(false)} \r\n                                                    style={{\r\n                                                        animation: this.likesCheck() ?  \"boundHeart 0.5s forwards ease\" : null\r\n                                                    }}\r\n                                                className=\"liked__heart\"><FaHeart/></span>\r\n                                        }\r\n                                            <span><FaRegComment/></span>\r\n                                            <span><FiSend/></span>\r\n                                    </div>\r\n                                    <div className=\"bookmark__icon\"><RiBookmarkLine/></div> \r\n                                </div>\r\n                                {\r\n                                    likes.people?.length >=1 ?\r\n                                    <div className=\"likes__count\" onClick={()=> handleUsersModal(true, likes?.people,\"likes\")}>{likes.people?.length.toLocaleString()} { likes.people?.length === 1  ? \"like\"  : \"likes\"}</div>\r\n                                    : null\r\n                                }\r\n                                 <span className=\"post__caption flex-row\"><strong>{userName}</strong> { !this.state.viewFullCaption ? <p><TruncateMarkup line={4} ellipsis=\"...more\" style={{cursor:\"pointer\"}} onClick={()=> this.setState({viewFullCaption: true})}>{caption}</TruncateMarkup></p>:  <p className=\"article__post\">{caption}</p> }</span>\r\n                                 {\r\n                                    comments?.length >=1 ?\r\n                                    <div className=\"post--comments--layout\">\r\n                                        {\r\n                                            comments?.length > 1 ?\r\n                                                <h5 className=\"post__comments__count\" onClick={()=> handleCommentsModal(true)}>View all {comments.length.toLocaleString()} comments</h5>\r\n                                            : \r\n                                                <h5 className=\"post__comments__count\">Comments</h5>\r\n                                        }\r\n                                        {\r\n                                            comments?.slice(0,3).map((comment, i) =>{\r\n                                                return(\r\n                                                    <Comment key={(i)}\r\n                                                    comment={comment}\r\n                                                    handleLikingComments={handleLikingComments}\r\n                                                    postOwnerId={postOwnerId}\r\n                                                    commentIndex={i}\r\n                                                    date={comment?.date}\r\n                                                    replayFunc={this.replayFunc.bind(this)}\r\n                                                    postIndex={currentPostIndex.index}\r\n                                                    myName={receivedData?.userName}\r\n                                                    likes={likes}\r\n                                                    userAvatar={receivedData?.userAvatarUrl}\r\n                                                    uid={uid}\r\n                                                    contentType={contentType}\r\n                                                    contentURL={contentURL}\r\n                                                    handleUsersModal={handleUsersModal}/>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                       \r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                                \r\n                                <small className=\"post__date\">{new Date(date.seconds* 1000).toLocaleString()}</small>\r\n                                <form onSubmit={(e)=> this.submitComment(e)} className=\"post--bottom--comment--adding\">\r\n                                    <input ref={this.inputField} value={this.state.insertedComment} onChange={(event)=> this.setState({insertedComment: event.target.value})} className=\"post__bottom__input\" type=\"text\" placeholder=\"Add a commment..\" />\r\n                                    <button type=\"submit\" disabled={this.state.insertedComment.length <  1} className={this.state.insertedComment.length >=1 ? \"post__bottom__button\" :\"disabled post__bottom__button\" }>Post</button>\r\n                                </form>\r\n                            </div>\r\n\r\n                    </article>\r\n                    \r\n                </div>\r\n                : <h3>Sorry, page is not found.</h3>\r\n                }\r\n            </Fragment>\r\n        ) \r\n    }\r\n    \r\n}\r\nexport default PostPage;","import React, {Component} from \"react\";\r\nimport Auxiliary from \"../../Components/HOC/Auxiliary\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {BsPencilSquare} from \"react-icons/bs\";\r\nimport TruncateMarkup from \"react-truncate\";\r\nimport {FiSend,FiInfo} from \"react-icons/fi\";\r\nimport {VscSmiley} from \"react-icons/vsc\";\r\nimport {RiMenu4Fill} from \"react-icons/ri\";\r\nimport {MdClose} from \"react-icons/md\";\r\nimport $ from \"jquery\";\r\n\r\nclass Messages extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.autoScroll = React.createRef();\r\n        this.state={\r\n            inputValue: \"\",\r\n            loadedChatLog: [],\r\n            currentUserIndex: 0,\r\n            openSidedrawer: false,\r\n            showEmojis: false\r\n        }\r\n        \r\n    }\r\n    \r\n    static contextType = AppContext;\r\n    \r\n    componentDidMount=()=>{\r\n        $(document).ready(()=>{\r\n            $(\"#messagesUL li\").on(\"click\", function(){\r\n                $(\"#messagesUL li\").each((i, item)=>{\r\n                    $(item).removeClass(\"active-msg\");\r\n                })\r\n                $(this).addClass(\"active-msg\");\r\n            });           \r\n        });\r\n         \r\n            \r\n    }\r\n    componentDidUpdate=(prevProps,prevState)=>{\r\n        if(prevProps.messages !== this.props.messages){\r\n            \r\n            if(this.autoScroll.scrollIntoView){\r\n               this.autoScroll.scrollIntoView({ behavior: \"smooth\" }); \r\n            }\r\n            \r\n        }\r\n    }\r\n    submitMessage(v){\r\n        v.preventDefault();\r\n        \r\n        const {handleSendingMessage, receivedData} = this.context;\r\n        const currUser = receivedData?.messages[this.state.currentUserIndex];\r\n        \r\n        handleSendingMessage(this.state.inputValue, currUser?.uid, \"text\");\r\n        \r\n        this.setState({\r\n            ...this.state,\r\n            inputValue: \"\"\r\n        })\r\n    }\r\n    viewUsersMessages(currentUID, loadedIndex){\r\n       const {receivedData} = this.context;\r\n       const {messages} = receivedData;\r\n        // const getUserById=()=>{\r\n        //     let currIndex;\r\n        //     messages.filter((item,i)=>{\r\n        //         currIndex = i;\r\n        //         console.log(item);\r\n        //         return item.uid === currentUID;\r\n        //     });\r\n        //     return currIndex;\r\n        // }\r\n       \r\n       this.setState({\r\n           ...this.state,\r\n           loadedChatLog: messages[loadedIndex], \r\n           currentUserIndex: loadedIndex\r\n       })\r\n   }\r\n   selectEmoji=(emojiText)=>{\r\n        this.setState({\r\n            ...this.state,\r\n            inputValue: this.state.inputValue + emojiText\r\n        })\r\n   }\r\n    render(){\r\n        const {receivedData} = this.context;\r\n        const {messages} = receivedData;\r\n        const msg = messages ? messages[this.state.currentUserIndex] : \"\";\r\n        return(\r\n            <Auxiliary>\r\n            <section id=\"messages\" className=\"messages--container\">\r\n                <div className=\"desktop-comp\">\r\n\r\n                        <div className=\"messages--desktop--card flex-row\">\r\n                            {/* users side */}\r\n                            <div className=\"messages--users--side desktop-only flex-column\">\r\n                                <div className=\"users--side--header flex-row\">\r\n                                    <span className=\"space__between\">\r\n                                        <h4>Direct</h4>\r\n                                        <BsPencilSquare className=\"pen__logo\"/>\r\n                                    </span>\r\n                                    \r\n                                </div>\r\n                                <div className=\"messages--top--nav flex-row\">\r\n                                    <div className=\"space__between\">\r\n                                        <h5>private</h5>\r\n                                        <h5>general</h5>\r\n                                    </div>\r\n                                    \r\n                                    \r\n                                </div>\r\n                                <div className=\"messages--view--users\">\r\n                                    <ul id=\"messagesUL\">\r\n                                    {\r\n                                        messages?.length >=1 ?\r\n                                        messages?.map((user,index)=>{\r\n                                            return(\r\n                                                //Desktop\r\n                                                <li className=\"messages--user  flex-row\" key={user.uid +index} onClick={()=> {this.viewUsersMessages(user?.uid, index); this.setState({currentUserIndex: index})}} >\r\n                                                    <Avatar src={user?.receiversAvatarUrl} />\r\n                                                    <div className=\"messages--user--info space__between\">\r\n                                                        <div style={{flex:1,width:\"100%\"}}>\r\n                                                            <p><TruncateMarkup line={1} ellipsis=\"..\">{user?.userName}</TruncateMarkup> </p>\r\n                                                            <span className=\"last__message\"><TruncateMarkup line={1} ellipsis=\"..\">{user.chatLog.length >=1 ?  user.chatLog[user.chatLog?.length-1].textMsg : null}</TruncateMarkup></span>\r\n                                                        </div>\r\n                                                        <p className=\"messages__user__date\">{user.chatLog.length >=1 ?  new Date(user.chatLog[user.chatLog?.length-1].date.seconds* 1000).toLocaleString() : null}</p>\r\n                                                    </div>\r\n                                                </li>\r\n                                            )\r\n                                        })\r\n                                        :\r\n                                        <h4 style={{fontSize:\"14px\", fontWeight:\"600\", textAlign:\"center\"}}>Start messaging people from the pen button above. Users will be here</h4>\r\n\r\n                                    }\r\n                                        \r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                            {/* messages side */}\r\n                        <div className=\"messages--side\">\r\n                            <div className=\"mobile--msgs--menu mobile-only\" >\r\n                              {\r\n                                  !this.state.openSidedrawer ?\r\n                                  <RiMenu4Fill onClick={()=> this.setState({openSidedrawer: true})}/>\r\n                                  : \r\n                                  <MdClose onClick={()=> this.setState({openSidedrawer: false})}/>\r\n                              }  \r\n                                \r\n                            </div>\r\n                           {\r\n                               this.state.openSidedrawer ?\r\n                                <div className=\"backdrop mobile-only\" onClick={()=> this.setState({openSidedrawer: false})}></div>\r\n                            : null\r\n                           }\r\n                        \r\n                           <div style={{\r\n                               transform: this.state.openSidedrawer ? \"translate(0)\":\"translate(200vw)\",\r\n                               transition: \"all 0.5s linear\",\r\n                               opacity: this.state.openSidedrawer ? \"1\" :\"0\"\r\n                           }} id=\"mobileChat\" className=\"mobile--users--sidedrawer\"> {/*mobile */}\r\n                                    <div className=\"messages--users--side mobile-only flex-column\">\r\n                                        <div className=\"users--side--header flex-row\">\r\n                                            <span className=\"space__between\">\r\n                                                <h4>Direct</h4>\r\n                                            </span>\r\n                                            \r\n                                        </div>\r\n                                        <div className=\"messages--top--nav flex-row\">\r\n                                            <div className=\"space__between\">\r\n                                                <h5>private</h5>\r\n                                                <h5>general</h5>\r\n                                            </div>\r\n                                            \r\n                                            \r\n                                        </div>\r\n                                        <div className=\"messages--view--users\">\r\n                                            <ul id=\"messagesUL\">\r\n                                            {\r\n                                                messages?.length >=1 ?\r\n                                                messages?.map((user,index)=>{\r\n                                                    return(\r\n                                                        <li className=\"messages--user  flex-row\" key={user.uid +index} onClick={()=> {this.viewUsersMessages(user?.uid, index); this.setState({currentUserIndex: index, openSidedrawer: false})}} >\r\n                                                            <Avatar src={user?.receiversAvatarUrl} />\r\n                                                            <div className=\"messages--user--info space__between\">\r\n                                                                <div style={{flex:1,width:\"100%\"}}>\r\n                                                                    <p><TruncateMarkup line={1} ellipsis=\"..\">{user?.userName}</TruncateMarkup> </p>\r\n                                                                    <span className=\"last__message\"><TruncateMarkup line={1} ellipsis=\"..\">{user.chatLog.length >=1 ?  user.chatLog[user.chatLog?.length-1].textMsg : null}</TruncateMarkup></span>\r\n                                                                </div>\r\n                                                                <p className=\"messages__user__date\">{user.chatLog.length >=1 ?  new Date(user.chatLog[user.chatLog?.length-1].date.seconds* 1000).toLocaleString() : null}</p>\r\n                                                            </div>\r\n                                                        </li>                                            \r\n                                                    )\r\n                                                })\r\n                                                :\r\n                                                <h4 style={{fontSize:\"14px\", fontWeight:\"600\", textAlign:\"center\"}}>Start messaging people from the pen button above. Users will be here</h4>\r\n\r\n                                            }\r\n                                                \r\n                                            </ul>\r\n                                        </div>\r\n                            </div>\r\n                            </div>\r\n                            \r\n                          {\r\n                             this.state.loadedChatLog < 1  ?\r\n                                   <div className=\"messages--empty--container flex-column\">\r\n                                        {/* if there is no messages */} {/* when loading messages */}\r\n                                           \r\n                                                <div className=\"messages--side--inner flex-column\">\r\n                                                    <div><FiSend className=\"messages__send__logo\"/></div>\r\n                                                    <h3>Your Messages</h3>\r\n                                                    <p>Send private photos and messages to a friend or group.</p>\r\n                                                    <button>Send message</button>\r\n                                                </div>\r\n                                        </div>\r\n                                    :\r\n                                    <div className=\"messages--chatlog--container\">\r\n                                        <div className=\"messages--chatbox--header flex-row\">\r\n                                        {/* -- header */}\r\n                                            <Avatar src={msg?.userAvatarUrl} />\r\n                                            <div className=\"messages--user--info space__between\">\r\n                                                            <p><TruncateMarkup line={1} ellipsis=\"..\">{msg?.userName}</TruncateMarkup> </p>\r\n                                                            <div className=\"desktop-only\"><FiInfo /></div>\r\n                                            </div>\r\n                                        {/* -- */}\r\n                                        </div>\r\n                                        <div className=\"messages--chatbox--body\">\r\n                                            {\r\n                                                msg?.chatLog?.map((message, index) => {\r\n                                                    return(\r\n                                                        <div key={message?.uid + index} className=\"message--outer\">\r\n                                                            <span ref={(el)=> this.autoScroll = el}></span>\r\n                                                            <div className={message?.uid === receivedData?.uid ? \"sender flex-column\" : \"receiver\"}>\r\n                                                                <div className=\"message--text\">\r\n                                                                    <span>{message?.textMsg}</span>\r\n                                                                   \r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        \r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                {\r\n                                    this.state.showEmojis ?\r\n                                       <div style={{\r\n                                           opacity: this.state.showEmojis ? \"1\" :\"0\",\r\n                                           transition: 'all 0.5s ease'\r\n                                       }} className=\"chat--emojis--box flex-row\">\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                            <span onClick={()=> this.selectEmoji(\" \")}></span>\r\n                                        </div>\r\n                                        : null\r\n                                } \r\n                                        <div className=\"messages--bottom--form flex-row\">\r\n                                             <form onSubmit={(v)=> this.submitMessage(v)} className=\"flex-row\">\r\n                                                 <VscSmiley onClick={()=> this.setState({showEmojis: !this.state.showEmojis})} className=\"smiley__icon\" />\r\n                                                <input onChange={(e) => this.setState({inputValue: e.target.value})} value={this.state.inputValue} className=\"message__input\" placeholder=\"Message...\" />\r\n                                                {\r\n                                                    this.state.inputValue ?\r\n                                                    <input type=\"submit\" value=\"Send\" /> \r\n                                                    : null\r\n                                                }\r\n                                            </form>\r\n                                        </div>\r\n                                    </div>\r\n                                        \r\n                                } \r\n                                </div>\r\n                              \r\n                        </div>\r\n                    </div>\r\n                </section>\r\n           </Auxiliary>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Messages;","import React,{useContext, useState} from \"react\";\r\nimport Auxiliary from \"../HOC/Auxiliary\";\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport \"../Header/Header.css\";\r\nimport {HiHome} from \"react-icons/hi\";\r\nimport {RiSendPlaneFill} from \"react-icons/ri\";\r\nimport {FaHeart} from \"react-icons/fa\";\r\nimport {BsFillPlusCircleFill} from \"react-icons/bs\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {auth} from '../../Config/firebase';\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\nconst MobileNav =(props)=>{\r\n    const context = useContext(AppContext);\r\n    const {receivedData, closeNotificationAlert} = context;\r\n    const [user] = useAuthState(auth);\r\n    const reverseNotiState=(type)=>{\r\n        const notiUpdate = receivedData?.notifications?.isUpdate;\r\n        const notiMsg = receivedData?.notifications?.isNewMsg;\r\n          if(type === \"isUpdate\" && notiUpdate){\r\n              closeNotificationAlert(type);\r\n          }else if(type === \"isNewMsg\" && notiMsg){\r\n              closeNotificationAlert(type);\r\n          }\r\n      }\r\n    return(\r\n        <Auxiliary>\r\n            <header id=\"mobNav\" className=\"mobile--nav flex-row\">\r\n                    <nav className=\"header--nav\">\r\n                        <ul className=\"header--ul flex-row\">\r\n                            <li><NavLink exact to=\"/\" activeClassName=\"active-nav-link\"><HiHome style={{fontSize:\"26px\"}}/></NavLink></li>\r\n                            {/* hides if user is not logged in */}\r\n                                { user ? <li className=\"like__icon__item\"><NavLink  onClick={()=> reverseNotiState(\"isNewMsg\")}   to=\"/messages\" activeClassName=\"active-nav-link\"><RiSendPlaneFill/>\r\n                                    {\r\n                                      receivedData?.notifications?.isNewMsg && props.location.pathname !== \"/messages\" ?\r\n                                        <div className=\"like__noti__dot\"></div>\r\n                                            : null\r\n                                    } </NavLink></li> : null}\r\n                                { user ? <li ><NavLink  to=\"/add-post\" activeClassName=\"active-nav-link\"><BsFillPlusCircleFill/></NavLink></li> : null}\r\n                                { user ? <li className=\"like__icon__item\" onClick={()=> reverseNotiState(\"isUpdate\")}><NavLink to=\"/notifications\" activeClassName=\"active-nav-link\">\r\n                                    <FaHeart />\r\n                                    {\r\n                                      receivedData?.notifications?.isUpdate && receivedData.notifications?.list?.length>=1 ?\r\n                                        <div className=\"like__noti__dot\"></div>\r\n                                            : null\r\n                                    } \r\n                                    </NavLink></li> : null}\r\n                                { user ? <li><NavLink  to=\"/profile\" activeClassName=\"active-nav-link\"><Avatar src=\"\" alt=\"\" className=\"header__user__avatar flex-column\"/></NavLink></li> : null}                            \r\n                        </ul>\r\n                    </nav>\r\n            </header>\r\n        </Auxiliary>\r\n    )\r\n}\r\nexport default withRouter(MobileNav);","import React from 'react';\r\nimport Auxiliary from \"../../Components/HOC/Auxiliary\";\r\nimport NotificationOutput from \"../../Components/NotificationsOutput/NotificationsOutput\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {auth} from \"../../Config/firebase\";\r\n\r\nconst MobileNotifications =(props)=>{\r\n    const {_, loading} = useAuthState(auth);\r\n    const {igVideoImg, handleFollowing, getUsersProfile, changeMainState, receivedData } = props.context;\r\n    return(\r\n        <Auxiliary>\r\n          {\r\n              !loading ?\r\n            <div className=\"mob--notifications--container noti--popup--inner desktop-comp\">\r\n                <div className=\"mob--noti--title\">\r\n                    <h4>Activity</h4>\r\n                </div>\r\n               {\r\n                   receivedData?.notifications?.list.length >=1  ?\r\n\r\n                    <ul id=\"mobNotifications\" className=\"noti--popup--ul mob--notifications flex-column\">\r\n                        {\r\n                            receivedData?.notifications?.list?.map( (notification, i) =>{\r\n                                return(\r\n                                    <div key={notification?.notiId}>   \r\n                                            <NotificationOutput  notification={notification} igVideoImg={igVideoImg} myData={receivedData} handleFollowing={handleFollowing} getUsersProfile={getUsersProfile} changeMainState={changeMainState} postIndex={i} /> \r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </ul>\r\n                    :\r\n                    (<div><h4 style={{textAlign:\"center\"}}>No notifications available right now</h4></div>)\r\n               } \r\n                \r\n            </div>\r\n            : <h3>Loading...</h3>\r\n            }\r\n        </Auxiliary>\r\n    )\r\n}\r\nexport default MobileNotifications;","import React, {useEffect, useState} from \"react\";\r\nimport Auxiliary from \"../../HOC/Auxiliary\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nconst ModalListItem =(props)=>{\r\n    const [isFollowed, setFollowingState] = useState(false);\r\n    const {uid, userName, avatarUrl, date , receivedData, handleFollowing, getUsersProfile, handleUsersModal} = props;\r\n\r\n    useEffect(()=>{\r\n        setFollowingState(receivedData?.following.filter(user  => user.receiverUid === uid)[0] ? true : false);\r\n    },[receivedData?.following]);\r\n    const browseUser=()=>{\r\n        getUsersProfile(uid);\r\n        handleUsersModal(false, \"\",\"\");\r\n        props.history.push(\"/user-profile\");\r\n        \r\n    }\r\n    return(\r\n        <Auxiliary>\r\n            <div className=\"modal--user--item flex-row\">\r\n                <div className=\"modal--item--inner flex-row acc-action\" >\r\n                   <Avatar src={avatarUrl} alt={userName} />\r\n                    <div className=\"modal--user--info flex-column\" onClick={()=> browseUser()}>\r\n                        <h3>{userName}</h3>\r\n                        {/* <span>{date}</span> */}\r\n                    </div> \r\n                </div>\r\n              {\r\n                  uid !== receivedData.uid ?\r\n                    <button disabled={!uid} onClick={()=> handleFollowing(isFollowed, uid ,userName, avatarUrl, receivedData?.uid, receivedData?.userName, receivedData?.userAvatarUrl) } className={ isFollowed ? \"profile__btn prof__btn__unfollowed\": \"profile__btn prof__btn__followed\"}> {isFollowed ? \"unfollow\"  : \"follow\"}</button>\r\n                : null\r\n              }\r\n            </div>\r\n        </Auxiliary>\r\n    )\r\n}\r\n\r\nexport default withRouter(ModalListItem);","import React, {Fragment, useContext, useEffect} from \"react\";\r\nimport {AppContext} from \"../../Context\";\r\nimport ModalListItem from \"./ModalListItem/ModalListItem\";\r\n// import $ from \"jquery\";\r\n\r\nconst UsersModal =(props)=>{\r\n    const {handleUsersModal,openUsersModal, usersModalList, receivedData, handleFollowing, getUsersProfile} = useContext(AppContext);\r\n    let output;\r\n    // useEffect(()=>{\r\n    //     $(document).ready(()=>{\r\n    //         if(openUsersModal){\r\n    //             $(\"body\").css(\"overflow\",\"hidden\");\r\n    //         }else{\r\n    //             $(\"body\").css(\"overflow\",\"auto\");\r\n    //         }\r\n    //     });\r\n        \r\n        \r\n    // },[openUsersModal]);\r\n    switch(usersModalList?.type){\r\n        \r\n        case \"followers\":\r\n           output =  usersModalList?.list.map((user, i) =>{\r\n                    return(\r\n                        <ModalListItem key={user?.senderUid + i} uid={user?.senderUid} userName={user?.senderName} avatarUrl={user?.senderAvatarUrl} date={user?.date} receivedData={receivedData} handleFollowing={handleFollowing} getUsersProfile={getUsersProfile} handleUsersModal={handleUsersModal}/>\r\n                    )\r\n                })\r\n        break;\r\n        case \"following\":\r\n            output = usersModalList?.list.map((user, i) =>{\r\n                            return(\r\n                                <ModalListItem key={user?.receiverUid + i} uid={user?.receiverUid} userName={user?.receiverName} avatarUrl={user?.receiverAvatarUrl} date={user?.date} receivedData={receivedData} handleFollowing={handleFollowing} getUsersProfile={getUsersProfile} handleUsersModal={handleUsersModal}/>\r\n                            )\r\n                })\r\n        break;\r\n        case \"likes\":\r\n              output = usersModalList?.list.map((user, i) =>{\r\n                            return(\r\n                                <ModalListItem key={user?.id + i} uid ={user?.id} userName={user?.userName} avatarUrl={user?.userAvatarUrl} date={\"\"}  receivedData={receivedData} handleFollowing={handleFollowing} getUsersProfile={getUsersProfile} handleUsersModal={handleUsersModal}/>\r\n                            )\r\n                })\r\n        // default :\r\n            // output =  usersModalList?.list.map((user, i) =>{\r\n            //     return(\r\n            //         <ModalListItem key={user?.senderUid + i} uid={user?.senderUid} userName={user?.senderName} avatarUrl={user?.senderAvatarUrl} date={user?.date} />\r\n            //     )\r\n            // })\r\n\r\n            // : usersModalList?.type === \"following\" ?\r\n            //     usersModalList?.list.map((user, i) =>{\r\n            //         return(\r\n            //             <ModalListItem key={user?.receiverUid + i} uid={user?.receiverUid} userName={user?.receiverName} avatarUrl={user?.receiverAvatarUrl} date={user?.date} />\r\n            //         )\r\n            //     })\r\n            // : usersModalList?.type === \"likes\" ?\r\n            //     usersModalList?.list.map((user, i) =>{\r\n            //         return(\r\n            //             <ModalListItem key={user?.uid + i} uid ={user?.uid} userName={user?.userName} avatarUrl={user?.userAvatarUrl} date={\"\"} />\r\n            //         )\r\n            //     })\r\n            // : null\r\n    }\r\n    return(\r\n        <Fragment>\r\n            <section>\r\n          {\r\n              openUsersModal ?\r\n                <div\r\n                className=\"usersModal--container flex-column\">\r\n                    <div className=\"usersModal--inner flex-column\">\r\n                        <div style={{\r\n                                transform: openUsersModal ? \"translate(0)\" : \"translate(-150%)\"\r\n                            }} className=\"usersModal--card\">\r\n                            <div className=\"userModal--card--header flex-row\">\r\n                                    <h1>{usersModalList?.type}</h1>\r\n                                    <h4 className=\"userModal__close\" onClick={()=> handleUsersModal(false,\"\", \"\")}>&times;</h4>\r\n                            </div>\r\n                            <div className=\"userModal--card--body\">\r\n                                    {\r\n                                        usersModalList?.list.length >=1 ?\r\n                                            output\r\n                                        :\r\n                                        <div className=\"useModal--empty--users flex-column\">\r\n                                            <h3>No users available</h3>\r\n                                        </div>\r\n                                    }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                : null\r\n        }\r\n            <div style={{\r\n                        opacity: openUsersModal ? \"1\" : \"0\",\r\n                        display: openUsersModal ? \"block\" : \"none\",\r\n                        transition:\"all 0.4s ease\",\r\n                    }} className=\"backdrop \" onClick={()=> handleUsersModal(false,\"\")}>    \r\n            </div>\r\n            </section>\r\n        </Fragment>\r\n    )\r\n}\r\nexport default UsersModal;","import React, {useContext, Fragment, useState,useEffect} from \"react\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {auth} from '../../Config/firebase';\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {GoVerified } from \"react-icons/go\";\r\nimport {IoMdGrid} from \"react-icons/io\";\r\nimport {RiLayoutRowLine} from \"react-icons/ri\";\r\nimport {BsPlusSquare} from \"react-icons/bs\";\r\n\r\nconst MyProfile =(props)=>{\r\n    const [_,loading] = useAuthState(auth);\r\n    const [grid, setGrid] = useState(true);\r\n    const context = useContext(AppContext);\r\n    const {receivedData,handleUsersModal, igVideoImg, authLogout} = context;\r\n    const redirectToPost=(i, id)=>{\r\n        // changeMainState(\"usersProfileData\", receivedData);\r\n        // changeMainState(\"currentPostIndex\", {index: i, id: id});\r\n        // props.history.push(\"/browse-post\");\r\n    }\r\n    \r\n    \r\n     return(\r\n        <Fragment>\r\n            <section id=\"usersProfile\" className=\"users--profile--container \">\r\n                {/* Header */}\r\n                {/* upper row */}\r\n                \r\n            <div className=\"desktop-comp\">\r\n                <div className=\"user--top--info flex-row\">\r\n                        <div className=\"user--pic--container flex-column\">\r\n                            <Avatar className=\"user__picture\" src={receivedData?.userAvatarUrl} alt={receivedData?.userName} />\r\n                        </div>\r\n                        <div className=\"desktop--inner--info flex-column\">\r\n                            <div className=\"users--action--row flex-row\">\r\n                                <h5 className=\"profile__display__name\">{receivedData?.userName}\r\n                               {\r\n                                   receivedData?.isVerified ?\r\n                                   <GoVerified className=\"verified_icon\"/>\r\n                                   : null\r\n                               }\r\n                                </h5>\r\n                                <div className=\"flex-row\">\r\n                                <button className=\"edit__btn mr-1\">Edit profile</button>\r\n                                <button className=\"mobile-only\" onClick={()=> {authLogout(); window.location.reload()}}>Log out</button>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div className=\"desktop--social--row flex-row\">\r\n                                <p><span>{receivedData?.posts?.length.toLocaleString()}</span> {receivedData?.posts?.length >1 ?\"posts\": \"post\"}</p>\r\n                                <p className=\"acc-action\" onClick={()=> handleUsersModal(true, receivedData?.followers, \"followers\")}><span>{receivedData?.followers?.length.toLocaleString()}</span> {receivedData?.followers?.length >1 ?\"followers\": \"follower\"}</p>\r\n                                <p className=\"acc-action\"  onClick={()=> handleUsersModal(true, receivedData?.following, \"following\")}><span>{receivedData?.following?.length.toLocaleString()}</span> following</p>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n                {/* bottom row */}\r\n                <div className=\"bottom--row--user-info flex-column\">\r\n                        <p>{receivedData?.bio}</p>\r\n                </div>\r\n                {/* body */}\r\n                <div className=\"users--profile--stripe flex-row\">\r\n                  {\r\n                      receivedData?.posts?.length >=1 ?\r\n                   <div className=\"profile--stripe--inner flex-row\">\r\n                        <span onClick={()=> setGrid(true)} style={{color: grid ? \"#1d8cd6\": \"#8e8e8e\", borderTop: grid ? \"2px solid #363636\" : \"none\"}}><IoMdGrid /></span>\r\n                        <span onClick={()=> setGrid(false)} style={{color: !grid ? \"#1d8cd6\": \"#8e8e8e\",borderTop: !grid ? \"2px solid #363636\" : \"none\"}}><RiLayoutRowLine/></span> \r\n                    </div>\r\n                    : null\r\n                } \r\n                    \r\n                </div>\r\n                {\r\n                 receivedData?.posts?.length >=1 ?\r\n                    <div className={grid ? \"users--profile--posts\" : \"users--profile--rowLine flex-column\"}>\r\n                        {\r\n                                !loading  ?\r\n                                receivedData?.posts?.map((post, i)=>{\r\n                                        return (\r\n                                            <div key={post?.id+i}  className=\"profile--posts--container\">                                                    \r\n                                                    <img onClick={()=> redirectToPost(i, post?.id) } style={{width: grid ? \"100%\" : \"auto\"}} className=\"users__profile__image\" src={post?.contentType === \"image\" ? post?.contentURL : post?.contentType === \"video\" ? igVideoImg : null} alt={`post #${i}`} />\r\n                                            </div>\r\n                                        )\r\n                                })\r\n                            : loading ?\r\n                                (<CircularProgress\r\n                                    variant=\"determinate\"\r\n                                    size={40}\r\n                                    thickness={4}\r\n                                    {...props}\r\n                                    value={100}\r\n                                  />)\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                        :\r\n                        (\r\n                            <div className=\"empty--posts--container flex-column\">\r\n                                <div className=\"empty--posts--inner flex-column\">\r\n                                    <div className=\"plus--icon--container flex-column\"><BsPlusSquare className=\"plus__icon\"/></div>\r\n                                    <h3>Profile</h3>\r\n                                    <p>When you share photos and videos, they'll <br/> be appear on your profile page</p>\r\n\r\n                                    <span>Share your first photo or video</span>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {/* <div style={{\r\n                        opacity: openUsersModal ? \"1\" : \"0\",\r\n                        display: openUsersModal ? \"block\" : \"none\",\r\n                        transition:\"all 0.4s ease\",\r\n                    }} className=\"backdrop\" onClick={()=> handleUsersModal(false,\"\")}></div> */}\r\n                </div>\r\n                {/* footer */}\r\n                <div id=\"userProfFooter\" className=\"userProfile--footer auth--footer--container desktop-only\">\r\n                    <ul className=\"auth--footer--ul flex-row\">\r\n                            <li>ABOUT</li>\r\n                            <li>HELP</li>\r\n                            <li>PRESS</li>\r\n                            <li>API</li>\r\n                            <li>JOBS</li>\r\n                            <li>PRIVACY</li>\r\n                            <li>TERMS</li>\r\n                            <li>LOCATIONS</li>\r\n                            <li>TOP ACCOUNTS</li>\r\n                            <li>HASHTAGS</li>\r\n                            <li>LANGUAGE</li>\r\n                        </ul>\r\n                        <div className=\"auth--copyright\">\r\n                            <span>This app was made for personal use</span>\r\n                            <span>@2020 Instagram clone made by Mahmoud Farargy</span>\r\n                        </div>\r\n                </div>\r\n            </section>\r\n            \r\n        </Fragment>\r\n    )\r\n}\r\nexport default withRouter(MyProfile);","import React, {PureComponent} from \"react\";\r\nimport Auxiliary from \"../HOC/Auxiliary\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport $ from \"jquery\";\r\n\r\nclass CommentsModal extends PureComponent{\r\n    constructor(props){\r\n        super(props);\r\n        this.inputField = React.createRef();\r\n        this.autoScroll = React.createRef();\r\n        this.state={\r\n            insertedComment: \"\",\r\n            replayData: {}\r\n        }\r\n    }\r\n    // componentDidMount=()=>{\r\n    //   var  openComments =  this.props.context?.openCommentsModal;\r\n    //     $(document).ready(()=>{\r\n    //         if(openComments){\r\n    //             $(\"body\").css(\"overflow\",\"hidden\");\r\n    //         }else{\r\n    //             $(\"body\").css(\"overflow\",\"auto\");\r\n    //         }\r\n    //     });\r\n    // };\r\n    replayFunc(postOwnerName,commentIndex, postIndex, postId, postOwnerId){\r\n        if(this.inputField.current){\r\n             this.inputField.current.focus();\r\n        }\r\n        this.setState({\r\n            ...this.state,\r\n            replayData: {postOwnerName,commentIndex, postIndex, postId, postOwnerId},\r\n            insertedComment: `@${postOwnerName} `\r\n        })\r\n    }\r\n    submitComment(v){\r\n        v.preventDefault();\r\n        if(this.autoScroll?.scrollIntoView){\r\n            this.autoScroll.scrollIntoView({behavior:\"smooth\"});\r\n        }\r\n        const {usersProfileData , handleSubmittingComments , handleSubComments,  currentPostIndex, uid, receivedData} = this.props.context;\r\n        let postsData = usersProfileData?.posts;\r\n        if(postsData){\r\n            const {id, postOwnerId, contentURL, contentType} = postsData[currentPostIndex?.index];\r\n            if(this.state.insertedComment !== \"\"){//subcomment\r\n                 if( this.state.replayData !== {}   && /^[@]/.test(this.state.insertedComment)){\r\n                 handleSubComments(this.state.replayData, this.state.insertedComment, receivedData?.userAvatarUrl, false, contentURL, contentType);\r\n                }else{//comment\r\n                    handleSubmittingComments(\"others\",currentPostIndex?.index, uid, receivedData?.userName, this.state.insertedComment, usersProfileData?.userAvatarUrl, new Date(), id, postOwnerId, contentURL, contentType);\r\n                }\r\n                this.setState({\r\n                    insertedComment: \"\",\r\n                    replayData: {}\r\n                }) \r\n            } \r\n        }\r\n         \r\n    }\r\n    render(){\r\n        const {context} = this.props;\r\n        const {handleLikingComments, receivedData, uid, handleUsersModal , openCommentsModal,usersProfileData,currentPostIndex, handleCommentsModal} = context;\r\n        if(usersProfileData?.posts){\r\n            var {contentType, contentURL, comments, likes, postOwnerId} = usersProfileData?.posts[currentPostIndex?.index];\r\n        }\r\n\r\n        return(\r\n            <Auxiliary>\r\n                <section>            \r\n            {\r\n                context?.openCommentsModal ?\r\n                <div id=\"commentsModal\" className=\"comments--modal--container flex-column\">\r\n                    \r\n                    <div className=\"comments--modal--header\">\r\n                            <h4>Comments</h4>\r\n                            <span className=\"comments__close__modal\" onClick={()=> handleCommentsModal(false)}>&times;</span>\r\n                    </div>  \r\n                    <div className=\"comments--modal--card\">\r\n                        <div  className=\"comments--modal--inner\" style={{\r\n                                        transform: openCommentsModal ? \"translate(0)\" : \"translate(-150vw)\"\r\n                                    }} >\r\n                            {\r\n                                comments?.map((comment, i) =>{\r\n                                    return(\r\n                                        <Comment key={(i)}\r\n                                        comment={comment}\r\n                                        handleLikingComments={handleLikingComments}\r\n                                        postOwnerId={postOwnerId}\r\n                                        commentIndex={i}\r\n                                        date={comment?.date}\r\n                                        replayFunc={this.replayFunc.bind(this)}\r\n                                        postIndex={currentPostIndex.index}\r\n                                        myName={receivedData?.userName}\r\n                                        likes={likes}\r\n                                        userAvatar={receivedData?.userAvatarUrl}\r\n                                        uid={uid}\r\n                                        contentType= {contentType}\r\n                                        contentURL= {contentURL}\r\n                                        handleUsersModal={handleUsersModal}/>\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                        </div>\r\n                        <form onSubmit={(e)=> this.submitComment(e)} className=\"post--bottom--comment--adding\">\r\n                                <input ref={this.inputField} value={this.state.insertedComment} onChange={(event)=> this.setState({insertedComment: event.target.value})} className=\"post__bottom__input\" type=\"text\" placeholder=\"Add a commment..\" />\r\n                                <button type=\"submit\" disabled={this.state.insertedComment.length <  1} className={this.state.insertedComment.length >=1 ? \"post__bottom__button\" :\"disabled post__bottom__button\" }>Post</button>\r\n                        </form>\r\n                        <span ref={(el)=> this.autoScroll = el}></span>\r\n                    </div>\r\n                </div>\r\n                : null\r\n            }   \r\n            <div style={{\r\n                    opacity: openCommentsModal ? \"1\" : \"0\",\r\n                    display: openCommentsModal ? \"block\" : \"none\",\r\n                    transition:\"all 0.4s ease\",\r\n                }} className=\"backdrop \" onClick={()=> handleCommentsModal(false)}>    \r\n            </div>\r\n            \r\n            </section>\r\n            </Auxiliary>\r\n        )\r\n    }\r\n}\r\nexport default CommentsModal;","import React ,{Fragment, useEffect, useContext} from \"react\";\r\nimport {Switch, Route} from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport Home from \"../../Pages/Home/Home\";\r\nimport AuthPage from \"../../Pages/AuthPage/AuthPage\";\r\nimport AddNewPost from \"../../Pages/AddNewPost/AddNewPost\";\r\nimport {AppContext} from \"../../Context\";\r\nimport {db, auth} from \"../../Config/firebase\";\r\n// import {useAuthState} from \"react-firebase-hooks/auth\";  //install react-firebase-hooks\r\nimport UsersProfile from \"../../Pages/UsersProfile/UsersProfile\";\r\nimport PostPage from \"../../Pages/PostPage/PostPage\";\r\nimport Messages from \"../../Pages/Messages/Messages\";\r\nimport MobileNav from \"../MobileNav/MobileNav\";\r\nimport MobileNotifications from \"../../Pages/MobileNotifications/MobileNotifications\";\r\nimport UsersModal from \"../../Components/UsersModal/UsersModal\";\r\nimport MyProfile from \"../../Pages/MyProfile/MyProfile\";\r\nimport CommentsModal from \"../../Components/CommentsModal/CommentsModal\";\r\nimport $ from \"jquery\";\r\n\r\nconst App = (props)=>{\r\n    \r\n    const context = useContext(AppContext);\r\n    const {updatedReceivedData,updateUserState, updateUID, receivedData , updateSuggestionsList} = context;\r\n    // -------------\r\n    // const test=()=>{ //resembles the functionality of adding posts to the followers\r\n    //     const myArr={\r\n    //         item1: [],\r\n    //         item2: [],\r\n    //         item3: []\r\n    //     }\r\n    //     Object.keys(myArr).map(el=>{\r\n    //         return myArr[el].push(\"123\")\r\n    //     })\r\n    //     console.log(myArr);\r\n    // }\r\n    // test()\r\n    //-----------------------\r\n   \r\n        // const [user, loading, error] = useAuthState(auth);\r\n\r\n    useEffect(()=>{\r\n        \r\n      const unsubscribe =  auth.onAuthStateChanged(authUser =>{\r\n            // User logged in \r\n            \r\n            // db.collection(\"users\").doc(\"ukfQUwmvUGRy7sezEmsISuadjEh2\").collection(\"followers\").get().then((query)=>{\r\n            //     query.forEach((user)=>{\r\n            //         console.log(user.data());\r\n            //     })\r\n                \r\n            // });\r\n\r\n            if(authUser){\r\n                \r\n                db.collection(\"users\").get().then((query)=>{\r\n                    query.forEach((user)=>{\r\n                            updateSuggestionsList(user.data());\r\n                    })\r\n                });\r\n                updateUserState(true);\r\n                updateUID(authUser?.uid)\r\n                updatedReceivedData(); \r\n                \r\n            //   db.collection(\"users\").doc(authUser?.uid).get().then(data=>{\r\n                        \r\n                        //  console.log(data.data().messages[randomId].message);\r\n                        // if(authUser.displayName){\r\n                        //     //don't update username\r\n                        // }else{\r\n                        //     // update it\r\n                        //     return authUser.updateProfile({\r\n                        //         displayName: data.data().userName\r\n                        //     });\r\n                            \r\n                        // }\r\n                // })\r\n            }else{\r\n                // user logged out\r\n                updateUserState(false);\r\n            }\r\n            \r\n        });\r\n        // ----------------------\r\n        \r\n        return () =>{\r\n            //perform some clearn up actions\r\n            unsubscribe();\r\n        }\r\n\r\n    },[])\r\n    useEffect(()=>{\r\n        $(document).ready(()=>{\r\n            if(context?.openUsersModal || context?.openCommentsModal){\r\n                $(\"body\").css(\"overflow\",\"hidden\");\r\n            }else{\r\n                $(\"body\").css(\"overflow\",\"auto\");\r\n            }\r\n        });        \r\n    },[context?.openUsersModal, context?.openCommentsModal ]);\r\n\r\n    return(\r\n        <Fragment>\r\n            <main>\r\n                {/* Modals */}\r\n              {\r\n                  context?.openUsersModal ?\r\n                  <UsersModal/>\r\n                  : null\r\n              } \r\n              {\r\n                  context?.openCommentsModal ?\r\n                  <CommentsModal context={context}/>\r\n                  : null\r\n              } \r\n               {/* Routes */}\r\n                <Switch>\r\n                    <Route exact path=\"/auth\" component={AuthPage}  />\r\n                    <Route exact path=\"/\" >\r\n                        <Header />\r\n                        <Home />\r\n                        <MobileNav />\r\n                    </Route>\r\n                    <Route exact path=\"/messages\">\r\n                        <Header />\r\n                        <Messages messages={receivedData?.messages} />\r\n                        <MobileNav />\r\n                    </Route>\r\n                    <Route exact path=\"/add-post\">\r\n                        <Header />\r\n                        <AddNewPost  />\r\n                        <MobileNav />\r\n                    </Route>\r\n                    <Route exact path=\"/notifications\">\r\n                        <Header />\r\n                        <MobileNotifications context={context}/>\r\n                        <MobileNav />\r\n                    </Route>\r\n                    <Route exact path=\"/profile\">\r\n                        <Header />\r\n                        <MyProfile />\r\n                        <MobileNav />\r\n                    </Route>\r\n                    <Route exact path=\"/user-profile\">\r\n                        <Header />\r\n                        <UsersProfile />\r\n                        <MobileNav />\r\n                    </Route>\r\n                    <Route exact path=\"/browse-post\">\r\n                        <Header />\r\n                        <PostPage />\r\n                        <MobileNav />\r\n                    </Route >\r\n                </Switch>\r\n            </main>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./Components/App/App\";\r\nimport {AppProvider} from \"./Context\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nconst mainApp=(\r\n        <AppProvider>\r\n            <BrowserRouter> \r\n                <App /> \r\n            </BrowserRouter>\r\n        </AppProvider>\r\n   \r\n)\r\n\r\nReactDOM.render(mainApp, document.getElementById(\"app\"));","module.exports = __webpack_public_path__ + \"static/media/instagram-video.2d93770d.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATIAAABaCAMAAAAMyCp0AAABjFBMVEUAAACmpqampqalpaWmpqampqampqampqalpaWkpKSkpKSkpKSmpqalpaWmpqanp6enp6empqagoKBjY2MuLi4PDw8AAAACAgISEhI3NzdtbW2mpqalpaWlpaVycnIdHR2Dg4NcXFwFBQWJiYmmpqYpKSmAgIBLS0sfHx8yMjKQkJDW1tb7+/tAQEAMDAwXFxckJCTAwMD///9iYmKenp6cnJyMjIxra2swMDBgYGDf39+Ghob9/f1GRkazs7PT09Ojo6NbW1tQUFBoaGj39/e/v7+tra2Tk5MiIiLQ0NA6Ojr6+voICAhZWVlwcHA1NTUnJyeXl5cgICB7e3sUFBR+fn7m5ubKyspISEiZmZlWVlbz8/PIyMj19fXh4eF5eXn5+fnNzc3Z2dn+/v69vb3j4+Pu7u6wsLBTU1N1dXUaGhrr6+u5ubm2trbo6Oh4eHjb29s5OTmvr69NTU1fX19mZmaPj4/Gxsbx8fElJSWpqanDw8Pd3d08PDxCQkIrKys0NDQ+Pj67u7uCgoKanivpAAAAJXRSTlMALIrN9//ww30gAB+v/58WAEj////////////oOAD///////8AbE8sHgAADKhJREFUeAHs00uugkAUhOEDdHEFQeR1QLFR8XXd/wbt6FhpZw7qS2oDf1LyEoSRAX0Q/y2S9ElSZ5mB5uWrYu2IWxmjqptW6b2u32xzDDtrrVhbGoy90qz9AcY1E5vEOKoPmkYMhTtmhlHJz3RCdpYAVa+e6AIEEqJWb3RFKBEa9UY3RGLQqjdqYARQf/QP/H4yJmOyjsm+cn+0d29PaauNHsfffeF7s/fas0flF/VCNC5hoUTkVxWpZ6WiJaBYxFM9V0TwtJZWsVptu//x9yEkEEA0DHbVNcPnDp/x6fBteBJiJunpddvwM9kUpQ/P8yiKjOr1K61/bzKXl8LzyeQ3jp6BwSGfC9VTyGE8z0/aUL0evv07k0kjoxTcEp5jo6537NUkk35BMnmcmglYSTY5NT0zGSDbX0eyN+8Gf0GyWeYELSXzQ5jr5Wjrq0g2z8a/P1kbde+tJ0N/iLPIUsM9gw4XBE8kMgdgITIGoCUSsQNTkUX1TTQ4VpzM3h6N+jzQLLZHBx3NyFn6MNjVWpJM7RTz534vFvFhbnlg2Y687kicK5FILJdstWctLEEjrwcHlud+UjLPBnM+oopkmOWmDGB4i1mDMqBuchvAOHsBrHPHBuxyeY+Cw5wsEqKwsQ7Byax9H7I6AxQ+FSVbOGBWVAIwTHaGSCaGYfBTM6wlW6NwKGl1dykEkj8n2RB1SlXJjsg5IJVmr3MhSA5psY4BNUAuAWs8AeBl6PQsck52F5JNkQOtYyt0/wkg9tfF3MIsQykALjd7L9c/0ZzMnuD86kKUHAGwRIY+fb5y87p0K/NkkzEzMrNCrgOQrvmpOzXETfvPSKZmmBNFVcn8WoArbtgBNDDkAT4zI+GCW/QB5/ysJXOLWDfkdj6ZtKXFbEnz2DTppbbdnrYA8oo5WZQZjzYUaNGSeSVghPQ8tpbRCfQl+AXANNM2ABNc/hnJVplzq1aXzEf2A3dsgPCVnALspAtrPBJN/uC+R0u2AiHOaD5ZK3mRixFSIfT7go3ubFJpg10QIuZkpxyAcE9Oa8lmAIyRC48ly0A41jbBAXoV4YTjPyOZg5oTG6pLFqVbBfbpgOAhzwDMM4J4pm8zoPp5DS3ZofG2jGRhclHf6fwB2L5Q4wBiZLh0j6nm5oWdjGjJpnNLmlJxjznJeQC31Hl/RrJBCptnEqpLJsd5C0hkh/6W2gF0sOGBsxinMsCjyske9LUwBcwyfZmS39KhZe+E8KY42QcI/eSMtWSNWrJrrjg04Z+RrJHc6koBVSZzkE0AznNNnOQqgFbetbETPjp6OVch2Td9Y5pkQkKMfAPgIJtM3mQPhA5TMjHSACFJKtUkm+Snn3hctvh9Sa/RfOOxmsw2lFuJ0UX3AyDdMq0CkE557bbBzo+jE6iQTHrLXRm4CXAQeCDXgW5mk+GQGzdALG5OFmRoEZA/Mi5XSPaJ1+XJ1snVl0xm+9xwHuDGytB7GNTk5AGF0O7QwnPJbnuix5uk1wYhdsDTSPgH2WlsssdaInZUSoZp0hv2HTCd0nbX55eReC6Zy83EVddW2rxD9Jwy7gt/IpOokOyKnI2qJckkL0e/RI6CP14kWSoYoOH8QwrCt2iGBbdfn0ym2b/ulKBZnKCQaYImSc7kPluuisngz1CY6IYQdpP0jjOovdggmR4jl5D30Esh0YlKyZbSJGMlyYzdyk7sBZJ1Zmg2enu1tscSQRWVSPfrfn/yu838k/azdeO1mjslFlO+QzOsPED4piyaz5e1hLcj3/XkN5GzMalfGwc8TdvhPklRVBTIYv6kzZg9m6BPUWwoiDW1T6n582WLyjdo5joj/jEbak/WQyuubfWzsoZBWuOV68lyjmjVVD2ZptlNawKdqCfTXNOaTQX1ZJpVWrO/inqynENaM4J6spwWNy3Zk+vJdOu0xo96Ml2QlmRUPE+yafByZFfTkWPZd7H0mpJ5ackhLGhi1mgLXsjcYIa6c4fn1SQ7oCXLsOCEmia8jPYdmiivJlng5ZYy2w41x3gRVzRLyMiT5F+ajNYk8bxO5uzYUDNjNvePK8fV7B05CV3f9MCp8k9I1mTxioRxCp2onRyncGyHpjvoRE5kh+SvTbZPSxx4Vl+A5P1pthtqd0FhXkapHv7yZGlaYqFCkmRAnSQZ6EPNOih8xmtMNkFLNlQ85wtJLy4phPEIyd78h1RpQEaJNQqrVpPFFh9SeIzUv6jCIN+4hlO1J/uL1nTiGeoGSQdSFGaR5/R6veMAkscBkpuz76FbFQMnAKb1ga8oEqXQVtrL6z2gMO8VfEaV5GyCwsZJWDZP/kWUDGbIaeSsa/8Q4z32GpON0Jpe2cri8x2YKN4m/ST3pdgPGoJyYYByyzENa3LZec872xPH3T3QLEwwr/dP5IRJZtC/RRrJlq5p2LysLVmSFp3haY0k05K+CCVhuKSwOMGCcQlZyfIBc7NuZu3+8Vyy5A5NQlPQTJMMqb3MJ2tO06SppmQeWhRS8BQ5QXIQwDCF32CYprBCMvPOm6ZmpNLAUPlFlJv/70HBeCajFdrICNo0924K6Wj72ZcQBfc9shQKH5hP5jmg0Ogcdq6Nkgw91JIME7Qo8x1PGKPghHBX9C1+mpoNnwzI4QQFdzcEpz7QJgaksBZttBkFnjg1gcGHysu/LV642GbxnEK8L58sQ8aD7dsPev+QE1ljbpInNSUbolWhGVQWzYfqonBRlJKBVmgeMhQmIShFAzfaQANMbg6oO/lWKVkXhXkVmpsNCsuFydmoj7RS8JlX7/5akrXSuh8uVCCl8+94gcIAdAqztqGLUNhUywd8LDugi81Stz/Y92gyNVEU0EEhDuE9s95JyGkgeWe8SO2TPKslGe5oXUbC476bFv0tkgnZnCxkg07NGG/SRcHdUjwwhiL319Tt2R9LtkphAgbPKAWXsaCyFTnyBskOGM5JztaU7AOtG0QFQdM2MkRh1ZxsvuQ4sM14VxPFR8JsR4lvA5t6M9sjyUZK/iihFf5sTH4A3YI29bBhl+RETck8IVrW+tRpt3RjjpdC1JzsEHnLFDqMdzVe8j83gjItjgCz1szJzJnDJV8Zlo2N/uSJk/UHNSXDAK26tb4gpqXHk/koBI1kpoHPRugyN70UQp7yZF7zC6HDmFyhMAndDMvEa0vW76ZFq1Xsdu+fSNZTVTLYMxQ6y5O9K0nmMCZXKDQ+cQXF3t90Gct1NbuQYHky0+evPNkZha4nTtB2lCebpTBd8sW0oyxZG4UzxWy4xmSeDK3YX0AFLgq3S4YwhbhUSHaCvC9FK/Qx8n6jMINHhSn0lCfTEm0j75aCvyxZ0upJUuvJMEMrep4+uRWBQc5Q+FpIdlcYSlP4ZiTbgkGKU/gTj/JTWC5P9pnCp5I/Y3eXJbuh0PCyyXDM5+2pqGSPwhLyJikMGcm0RrpwftcwzKJGSQoJCY9qoHCJrC7zZ9G+T3L0puizfY6yZHhLMmB/2WSeUz7HvYBKuilMlJ4e2TIlu5ahadmi0IN8shV9wPaWQhB5nmnk3Y9my6QKa+EQdCfmI5VUgkL7I8kcFH7IL5oMY6N8xjYqWi49pFIDFBYKyTjeAuFml0LAXkjGk1hhYMeOvEvutuUi2c4Cpg9WkkKmGTnfRgs7jZYVCm/VR5LZtJgfjd+Sx14iGY74tHEJFc2XHeXOUugyJWOm8cwxvsPCIf6wMTC57TjMDZyVfhbj3sPD3dxYOmX+UrRzfHjtKpwhvX7TqhzFKbgVlCUzQpPXXW0z4hr2DXa/RDJ08SkfVVQ0V9hBGjrzi75C4dzNgkYUku2ZByZLv+abJFrLLu7S4ki/0Wx0Co8mQxuLNL1IMizTcNd10W2/uf8wT8N4Hyo7K//2aQtRaM4fl70ZpWFIMiU77Cw0uzJHj/XS7N0cDHNx5jgL9wwwHNyjQjI44zQZfJlkuNcSBSYVGFxrCQp7l3jKcUZwoshfGeEsnwzvb5k1evweuuGigf3jrygiJb8kmJNoGIOJ/XCfgtv4YfPkBjV7R33Qfc0IUZj1tX3U42ZOfLGakxlcU35FhZk87HR2owZ6MsA+7Q/ftwAlyYDUhXnALPV1OnzxdQ6lWsbWne/7kCcvhP3+1RSe0+danb7/M/Xa7/ljJDMzJ/v16snqyerJ6snqyerJ6sn+kckeDoVtlFvSBl5psvpNUqu+SWr9VrxV34q3fsPnqm/4LG4rHkOdRQ8Nv/3Xv37/n4Yj1FmjDjX87+//+v2//93gR50V8lHuEQn/Jx7EcRTDs+qWRvQHcYiHl/y7YXLG1SKhriI59r49/7gXof5QoWofKiRYf3RV/dFV/wFmLeQQ9PrLsgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/get-app-gp.f06b9089.png\";"],"sourceRoot":""}