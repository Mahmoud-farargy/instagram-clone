(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),i=a(42),o=a.n(i),s=a(11),r=a(6),c=function(e){return e.children},u=a(8),d=(a(56),a(37)),m=a(21),v=a(16),p=a(27),f=a(122),h=a(41),E=a(4),g=a(25),N=a(26),b=a(30),k=a(29),w=a(36),y=a.n(w),C=y.a.initializeApp({apiKey:"AIzaSyCsDXcBqUkFzP7a_YLfSi1bUFV4zYv9Ipk",authDomain:"instagram-clone-21d9b.firebaseapp.com",databaseURL:"https://instagram-clone-21d9b.firebaseio.com",projectId:"instagram-clone-21d9b",storageBucket:"instagram-clone-21d9b.appspot.com",messagingSenderId:"766234567722",appId:"1:766234567722:web:6715c7b7dcae914e950f53",measurementId:"G-770BEE44CM"});y.a.analytics();var _=C.firestore(),S=y.a.auth(),x=y.a.storage(),O=x.ref(),U=(new y.a.auth.GoogleAuthProvider,new y.a.auth.PhoneAuthProvider,new y.a.auth.FacebookAuthProvider,new y.a.auth.TwitterAuthProvider,a(60)),j=a.n(U),A=(a(93),l.a.createContext()),L=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).updatedReceivedData=function(e){_.collection("users").doc(n.state.uid).onSnapshot((function(e){n.setState(Object(E.a)(Object(E.a)({},n.state),{},{receivedData:e.data()}))}))},n.updateParts=function(e,t,a,l,i){var o;""===i?_.collection("users").doc(e).update(Object(h.a)({},t,a)).then((function(){var t;!0!==l&&e!==(null===(t=n.state.receivedData)||void 0===t?void 0:t.uid)||n.updatedReceivedData()})):_.collection("users").doc(e).update((o={},Object(h.a)(o,t,a),Object(h.a)(o,"notifications",i),o)).then((function(){var t;!0!==l&&e!==(null===(t=n.state.receivedData)||void 0===t?void 0:t.uid)||n.updatedReceivedData()}))},n.handleMyLikes=function(e,t,a,l,i){var o,s=JSON.parse(JSON.stringify(null===(o=n.state.receivedData)||void 0===o?void 0:o.posts)),r=s[t].likes;e?r.people.push({id:a,userName:l,userAvatarUrl:i,date:new Date}):r.people.splice(function(){var e;return r.people.find((function(t,n){return e=n,t.id===a})),e}(),1),r.people=Array.from(new Set(r.people.map((function(e){return e.id})))).map((function(e){return r.people.find((function(t){return t.id===e}))})),n.updateParts(a,"posts",s,!0,"")},n.handlePeopleLikes=function(e,t,a,l,i,o,s,r){_.collection("users").doc(a).get().then((function(c){var u=c.data().posts,d=c.data().notifications,m=JSON.parse(JSON.stringify(u)),v=JSON.parse(JSON.stringify(d)),p=m[t].likes;if(e){v.isUpdate=!0;var f=n.generateNewId();p.people.push({id:o,userName:l,notiId:f,userAvatarUrl:i,date:new Date}),v.list.unshift({uid:o,userName:a===o?"You":l,userAvatarUrl:i,notiId:f,date:new Date,contentType:r,contentURL:s,type:"like",notiText:"liked your ".concat(r," post")})}else if(!e){var h,E;p.people.splice(function(){var e;return p.people.find((function(t,a){return e=a,t.id===o})),e}(),1);var g=null===(h=v.list)||void 0===h?void 0:h.map((function(e){return e.notiId})).indexOf(null===(E=p.people)||void 0===E?void 0:E.notiId);-1!==g&&v.list.splice(g,1)}p.people=Array.from(new Set(p.people.map((function(e){return e.id})))).map((function(e){return p.people.find((function(t){return t.id===e}))})),v.list=Array.from(new Set(v.list.map((function(e){return e.uid})))).map((function(e){return v.list.find((function(t){return t.uid===e}))})),n.updateParts(a,"posts",m,!1,v)}))},n.updateUserState=function(e){n.setState(Object(E.a)(Object(E.a)({},n.state),{},{isUserOnline:e}))},n.updateUID=function(e){n.setState(Object(E.a)(Object(E.a)({},n.state),{},{uid:e}))},n.changeMainState=function(e,t){n.setState(Object(E.a)(Object(E.a)({},n.state),{},Object(h.a)({},e,t)))},n.handleSubComments=function(e,t,a,l,i,o){var s=e.commentIndex,r=e.postIndex,c=e.postId,u=e.postOwnerId;_.collection("users").doc(u).get().then((function(e){var d=e.data().posts,m=e.data().notifications,v=JSON.parse(JSON.stringify(d)),p=JSON.parse(JSON.stringify(m)),f=v.map((function(e){return e.id})).indexOf(c);if(r===f){var h,E,g,N=n.generateNewId();if(v[r].comments[s].subComments.push({commentText:t,postId:c,postOwnerId:u,senderName:null===(h=n.state.receivedData)||void 0===h?void 0:h.userName,userAvatarUrl:a,notiId:N,date:new Date}),u!==n.state.uid)p.isUpdate=!0,p.list.unshift({uid:n.state.uid,userName:u===n.state.uid?"You":null===(E=n.state.receivedData)||void 0===E?void 0:E.userName,notiId:N,contentURL:i,contentType:o,userAvatarUrl:null===(g=n.state.receivedData)||void 0===g?void 0:g.userAvatarUrl,date:new Date,notiText:"mentioned you in a comment: ".concat(t),type:"sub-comment"});n.updateParts(u,"posts",v,l,p)}else alert("Error has occurred. Please try again later.")}))},n.closeNotificationAlert=function(e){var t,a=JSON.parse(JSON.stringify(null===(t=n.state.receivedData)||void 0===t?void 0:t.notifications));a[e]=!1,n.updateParts(n.state.uid,"notifications",a,!0,"")},n.handleLikingComments=function(e,t,a,l,i,o,s,r,c,u){_.collection("users").doc(a).get().then((function(d){var m,v,p=null===(m=d.data())||void 0===m?void 0:m.posts,f=null===(v=d.data())||void 0===v?void 0:v.notifications,h=JSON.parse(JSON.stringify(p)),E=JSON.parse(JSON.stringify(f)),g=h[t].comments[s];if(p&&g){if(e){var N,b=n.generateNewId();g.likes.push({id:o,userName:l,userAvatarUrl:i,notiId:b,date:new Date}),E.isUpdate=!0,E.list.unshift({uid:o,notiId:b,userName:a===o?"You":l,date:new Date,userAvatarUrl:null===(N=n.state.receivedData)||void 0===N?void 0:N.userAvatarUrl,notiText:"liked your comment: ".concat(r),type:"like-comment",contentURL:c,contentType:u})}else{var k,w=null===(k=g.likes)||void 0===k?void 0:k.map((function(e){return e.id})).indexOf(o);if(-1!==w){var y,C,_=null===(y=E.list)||void 0===y?void 0:y.map((function(e){return console.log(e.notiId,g.likes),e.notiId})).indexOf(null===(C=g.likes)||void 0===C?void 0:C.notiId);-1!==_&&E.list.splice(_,1),g.likes.splice(w,1)}else alert("context 310 err")}g.likes=Array.from(new Set(g.likes.map((function(e){return e.id})))).map((function(e){return g.likes.find((function(t){return t.id===e}))})),n.updateParts(a,"posts",h,!1,E)}}))},n.generateNewId=function(){for(var e="G",t="j",a="k",n="M",l="N",i="Z",o=function(){return Math.floor(6*Math.random()+1)},s=0;s<5;s++)switch(o(),o()){case 1:e="A";break;case 2:t="B";break;case 3:a="C";break;case 4:n="D";break;case 5:l="E";break;default:i="F"}return e+t+a+9999*Math.random()+1+n+l+i},n.state={receivedData:{},uid:"",suggestionsList:[],initialSuggestions:[],isUserOnline:!1,usersProfileData:[],currentPostIndex:{},openUsersModal:!1,usersModalList:[],igVideoImg:j.a,openCommentsModal:!1},n}return Object(N.a)(a,[{key:"updateSuggestionsList",value:function(e){var t=this.state.initialSuggestions;t.unshift(e);var a=Array.from(new Set(null===t||void 0===t?void 0:t.map((function(e){return e.uid})))).map((function(e){return null===t||void 0===t?void 0:t.find((function(t){return t.uid===e}))}));this.setState(Object(E.a)(Object(E.a)({},this.state),{},{suggestionsList:a}))}},{key:"resetAllData",value:function(){this.setState(Object(E.a)(Object(E.a)({},this.state),{},{receivedData:{},uid:"",suggestionsList:[],isUserOnline:!1,usersProfileData:[],currentPostIndex:{}}))}},{key:"handleSubmittingComments",value:function(e,t,a,n,l,i,o,s,r,c,u){var d=this;if("mine"===e){var m=JSON.parse(JSON.stringify(this.state.receivedData.posts));m[t].comments.push({comment:l,uid:a,userAvatarUrl:i,userName:n,postDate:new Date,postId:s,ownerId:r,likes:[],subComments:[]}),this.updateParts(a,"posts",m,!0,"")}else"others"===e&&_.collection("users").doc(r).get().then((function(e){var o,m=e.data().posts,v=e.data().notifications,p=JSON.parse(JSON.stringify(m)),f=JSON.parse(JSON.stringify(v)),h=d.generateNewId();p[t].comments.push({comment:l,uid:a,userAvatarUrl:i,userName:n,postDate:new Date,postId:s,ownerId:r,likes:[],subComments:[],notiId:h}),f.isUpdate=!0,f.list.unshift({uid:a,userName:r===a?"You":n,userAvatarUrl:null===(o=d.state.receivedData)||void 0===o?void 0:o.userAvatarUrl,date:new Date,notiId:h,contentURL:c,contentType:u,notiText:"commented on your ".concat(u," post: ").concat(l," "),type:"comment"}),d.updateParts(r,"posts",p,!1,f)}))}},{key:"deleteContentFromFB",value:function(e){O.child("content/".concat(e)).delete()}},{key:"getUsersProfile",value:function(e){var t=this;_.collection("users").doc(e).onSnapshot((function(e){t.setState(Object(E.a)(Object(E.a)({},t.state),{},{usersProfileData:e.data()}))}))}},{key:"authLogout",value:function(){S.signOut(),this.resetAllData()}},{key:"handleFollowing",value:function(e,t,a,n,l,i,o){var s=this;_.collection("users").doc(t).get().then((function(r){var c,u,d,m=null===(c=r.data())||void 0===c?void 0:c.followers,v=null===(u=s.state.receivedData)||void 0===u?void 0:u.following,p=null===(d=r.data())||void 0===d?void 0:d.notifications,f=JSON.parse(JSON.stringify(m)),h=JSON.parse(JSON.stringify(v)),E=JSON.parse(JSON.stringify(p));if(e){if(e){var g=null===m||void 0===m?void 0:m.map((function(e){return e.senderUid})).indexOf(l);if(-1!==g){var N,b=null===(N=E.list)||void 0===N?void 0:N.map((function(e){return e.notiId})).indexOf(m[g].notiId);f.splice(g,1),-1!==b&&E.list.splice(b,1),s.updateParts(t,"followers",f,!1,E)}else alert("aborted");var k=null===v||void 0===v?void 0:v.map((function(e){return e.receiverUid})).indexOf(t);h.splice(k,1),s.updateParts(l,"following",h,!0,"")}}else if(t!==l){var w=s.generateNewId();f.push({senderUid:l,senderName:i,senderAvatarUrl:o,notiId:w,date:new Date});var y=Array.from(new Set(f.map((function(e){return e.senderUid})))).map((function(e){return f.find((function(t){return t.senderUid===e}))}));E.isUpdate=!0,E.list.unshift({notiId:w,userName:i,uid:l,date:new Date,type:"follow",userAvatarUrl:o,notiText:"started following you"}),s.updateParts(t,"followers",y,!1,E),h.push({receiverUid:t,receiverName:a,receiverAvatarUrl:n,date:new Date});var C=Array.from(new Set(h.map((function(e){return e.receiverUid})))).map((function(e){return h.find((function(t){return t.receiverUid===e}))}));s.updateParts(l,"following",C,!0,"")}else alert("Following yourself is not allowed")}))}},{key:"handleSendingMessage",value:function(e,t,a){var n=this,l=this.state.uid;if(t!==l){var i,o=this.state.receivedData,s=null===(i=this.state.receivedData)||void 0===i?void 0:i.messages,r=JSON.parse(JSON.stringify(s)),c=r.map((function(e){return null===e||void 0===e?void 0:e.uid})).indexOf(t);r[c].chatLog.push({textMsg:e,uid:l,userName:null===o||void 0===o?void 0:o.userName,userAvatarUrl:null===o||void 0===o?void 0:o.userAvatarUrl,date:new Date,type:a}),this.updateParts(l,"messages",r,!0,""),_.collection("users").doc(t).get().then((function(i){var s,r,c=null===(s=i.data())||void 0===s?void 0:s.messages,u=null===(r=i.data())||void 0===r?void 0:r.notifications,d=JSON.parse(JSON.stringify(c)),m=JSON.parse(JSON.stringify(u)),v=null===d||void 0===d?void 0:d.map((function(e){return e.uid})).indexOf(l);m.isNewMsg=!0,d[v].chatLog.push({textMsg:e,uid:l,userName:null===o||void 0===o?void 0:o.userName,userAvatarUrl:null===o||void 0===o?void 0:o.userAvatarUrl,date:new Date,type:a}),n.updateParts(t,"messages",d,!1,m)}))}else alert("Sending messages to yourself is not allowed")}},{key:"initializeChatDialog",value:function(e,t,a){var n,l=this;if(!(null===(n=this.state.receivedData)||void 0===n?void 0:n.messages.filter((function(t){return t.uid===e}))[0])){var i,o=null===(i=this.state.receivedData)||void 0===i?void 0:i.messages,s=JSON.parse(JSON.stringify(o));s.push({uid:e,userName:t,userAvatarUrl:a,date:new Date,chatLog:[]});var r=Array.from(new Set(s.map((function(e){return e.uid})))).map((function(e){return s.find((function(t){return t.uid===e}))}));this.updateParts(this.state.uid,"messages",r,!0,""),_.collection("users").doc(e).get().then((function(t){var a,n,i=t.data().messages,o=JSON.parse(JSON.stringify(i));o.push({uid:l.state.uid,userName:null===(a=l.state.receivedData)||void 0===a?void 0:a.userName,userAvatarUrl:null===(n=l.state.receivedData)||void 0===n?void 0:n.userAvatarUrl,date:new Date,chatLog:[]});var s=Array.from(new Set(o.map((function(e){return e.uid})))).map((function(e){return o.find((function(t){return t.uid===e}))}));l.updateParts(e,"messages",s,!1,"")}))}}},{key:"handleUsersModal",value:function(e,t,a){this.setState(Object(E.a)(Object(E.a)({},this.state),{},{openUsersModal:e,usersModalList:e?{type:a,list:t}:null}))}},{key:"handleCommentsModal",value:function(e){this.setState(Object(E.a)(Object(E.a)({},this.state),{},{openCommentsModal:e}))}},{key:"deletePost",value:function(e,t,a){var n,l=null===(n=this.state.receivedData)||void 0===n?void 0:n.posts,i=JSON.parse(JSON.stringify(l));(null===l||void 0===l?void 0:l.map((function(e){return e.id})).indexOf(e))===t&&(i.splice(t,1),a&&this.deleteContentFromFB(a),this.updateParts(this.state.uid,"posts",i,!0,""),this.setState(Object(E.a)(Object(E.a)({},this.state),{},{openCommentsModal:!1})),alert("Post deleted"))}},{key:"render",value:function(){return l.a.createElement(A.Provider,{value:{receivedData:this.state.receivedData,uid:this.state.uid,suggestionsList:this.state.suggestionsList,usersProfileData:this.state.usersProfileData,currentPostIndex:this.state.currentPostIndex,openUsersModal:this.state.openUsersModal,usersModalList:this.state.usersModalList,igVideoImg:this.state.igVideoImg,openCommentsModal:this.state.openCommentsModal,isUserOnline:this.state.isUserOnline,updatedReceivedData:this.updatedReceivedData.bind(this),updateUserState:this.updateUserState.bind(this),updateUID:this.updateUID.bind(this),handleMyLikes:this.handleMyLikes.bind(this),deleteContentFromFB:this.deleteContentFromFB.bind(this),handleSubmittingComments:this.handleSubmittingComments.bind(this),updateSuggestionsList:this.updateSuggestionsList.bind(this),getUsersProfile:this.getUsersProfile.bind(this),changeMainState:this.changeMainState.bind(this),handlePeopleLikes:this.handlePeopleLikes.bind(this),updateParts:this.updateParts.bind(this),resetAllData:this.resetAllData.bind(this),handleSubComments:this.handleSubComments.bind(this),handleLikingComments:this.handleLikingComments.bind(this),authLogout:this.authLogout.bind(this),handleFollowing:this.handleFollowing.bind(this),handleSendingMessage:this.handleSendingMessage.bind(this),initializeChatDialog:this.initializeChatDialog.bind(this),closeNotificationAlert:this.closeNotificationAlert.bind(this),handleUsersModal:this.handleUsersModal.bind(this),handleCommentsModal:this.handleCommentsModal.bind(this),deletePost:this.deletePost.bind(this)}},this.props.children)}}]),a}(n.PureComponent),I=(A.Consumer,a(20)),D=a(65),M=a(64),P=a(12),F=Object(s.f)((function(e){var t,a=Object(n.useState)(!1),i=Object(r.a)(a,2),o=i[0],s=i[1],u=e.notification,d=e.igVideoImg,m=e.myData,v=e.handleFollowing,p=e.getUsersProfile;e.changeMainState,e.postIndex;Object(n.useEffect)((function(){"follow"===(null===u||void 0===u?void 0:u.type)&&s(!!(null===m||void 0===m?void 0:m.following.filter((function(e){return(null===e||void 0===e?void 0:e.receiverUid)===(null===u||void 0===u?void 0:u.uid)}))[0]))}),[null===m||void 0===m?void 0:m.following]);return l.a.createElement(c,null,l.a.createElement("li",{key:null===u||void 0===u?void 0:u.notiId,className:"space__between noti--popup-item"},l.a.createElement("div",{className:"flex-row noti--row"},l.a.createElement("div",null,l.a.createElement(f.a,{className:"noti__user__img",src:null===u||void 0===u?void 0:u.userAvatarUrl})),l.a.createElement("div",{className:"flex-column noti--user--info",onClick:function(){return p(u.uid),void e.history.push("/user-profile")}},l.a.createElement("h6",null,null===u||void 0===u?void 0:u.userName),l.a.createElement("p",{className:"noti__text"},l.a.createElement(P.a,{line:2,ellipsis:".."},null===u||void 0===u?void 0:u.notiText),"  ",l.a.createElement("time",{dateTime:"date",style:{textOverflow:"ellipsis"}},new Date(1e3*(null===u||void 0===u||null===(t=u.date)||void 0===t?void 0:t.seconds)).toLocaleString())))),l.a.createElement("div",{className:"noti--action"},"follow"===(null===u||void 0===u?void 0:u.type)&&(null===u||void 0===u?void 0:u.uid)!==m.uid?l.a.createElement("button",{disabled:!(null===u||void 0===u?void 0:u.uid),onClick:function(){return v(o,null===u||void 0===u?void 0:u.uid,null===u||void 0===u?void 0:u.userName,null===u||void 0===u?void 0:u.userAvatarUrl,null===m||void 0===m?void 0:m.uid,null===m||void 0===m?void 0:m.userName,null===m||void 0===m?void 0:m.userAvatarUrl)},className:o?"profile__btn prof__btn__unfollowed":"profile__btn prof__btn__followed"}," ",o?"unfollow":"follow"):null,"follow"!==(null===u||void 0===u?void 0:u.type)?l.a.createElement("img",{className:"noti__bar__img",src:"image"===(null===u||void 0===u?void 0:u.contentType)?null===u||void 0===u?void 0:u.contentURL:"video"===(null===u||void 0===u?void 0:u.contentType)?d:null}):null)))})),T=Object(s.f)((function(e){var t,a,i,o,s,h,E,g=Object(n.useContext)(A),N=Object(n.useState)(!1),b=Object(r.a)(N,2),k=b[0],w=b[1],y=Object(n.useState)(!1),C=Object(r.a)(y,2),_=C[0],x=C[1],O=Object(I.a)(S),U=Object(r.a)(O,1)[0],j=g.receivedData,L=g.closeNotificationAlert,P=g.authLogout,T=g.igVideoImg,J=g.handleFollowing,R=g.getUsersProfile,V=g.changeMainState,B=function(e){var t,a,n=null===j||void 0===j||null===(t=j.notifications)||void 0===t?void 0:t.isUpdate,l=null===j||void 0===j||null===(a=j.notifications)||void 0===a?void 0:a.isNewMsg;("isUpdate"===e&&n||"isNewMsg"===e&&l)&&L(e)};return l.a.createElement(c,null,l.a.createElement("header",{id:"header",className:"main--header flex-row"},l.a.createElement("div",{className:"header--inner flex-row"},l.a.createElement(u.b,{to:"/"},l.a.createElement("h1",{className:"logoText"},"Voxgram")),l.a.createElement("nav",{className:"header--nav flex-row"},l.a.createElement("ul",{className:"header--ul flex-row"},l.a.createElement("li",null,l.a.createElement(u.c,{exact:!0,to:"/",activeClassName:k?"":"active-nav-link"},l.a.createElement(d.b,{style:{fontSize:"26px"}}))),U?l.a.createElement("div",{className:"flex-row",style:{alignItems:"center"}},l.a.createElement("li",{className:"like__icon__item"},l.a.createElement(u.c,{onClick:function(){return B("isNewMsg")},to:"/messages",activeClassName:k?"":"active-nav-link"},l.a.createElement(m.d,null),(null===j||void 0===j||null===(t=j.notifications)||void 0===t?void 0:t.isNewMsg)&&"/messages"!==e.location.pathname?l.a.createElement("div",{className:"like__noti__dot"}):null)),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/add-post",activeClassName:k?"":"active-nav-link"},l.a.createElement(p.a,null))),l.a.createElement("li",{className:"noti--parent--container",onClick:function(){w(!0),B("isUpdate")}},l.a.createElement("span",{className:"like__icon__item"},l.a.createElement(v.a,{style:{color:k?"#0095f6":"#363636"}}),(null===j||void 0===j||null===(a=j.notifications)||void 0===a?void 0:a.isUpdate)&&(null===(i=j.notifications)||void 0===i||null===(o=i.list)||void 0===o?void 0:o.length)>=1?l.a.createElement("div",{className:"like__noti__dot"}):null),l.a.createElement("div",{style:{display:k?"flex":"none",transition:"all 0.4s ease",opacity:k?"1":"0"},className:"noti--popup--window"},l.a.createElement("div",{className:"noti--popup--inner"},l.a.createElement("div",{className:"noti--popup--arrow"}," "),(null===j||void 0===j||null===(s=j.notifications)||void 0===s?void 0:s.list.length)>=1?l.a.createElement("ul",{className:"noti--popup--ul flex-column"},null===j||void 0===j||null===(h=j.notifications)||void 0===h||null===(E=h.list)||void 0===E?void 0:E.map((function(e,t){return l.a.createElement("div",{key:null===e||void 0===e?void 0:e.notiId},l.a.createElement(F,{onClick:function(){return w(!1)},notification:e,igVideoImg:T,myData:j,handleFollowing:J,getUsersProfile:R,changeMainState:V,postIndex:t}))}))):l.a.createElement("div",null,l.a.createElement("h4",{style:{textAlign:"center"}},"No notifications available right now")),l.a.createElement("div",{className:"noti__transparent"})))),l.a.createElement("li",null,l.a.createElement("span",{onClick:function(){return x(!0)}},l.a.createElement(f.a,{src:"",alt:"",className:"header__user__avatar flex-column"})),l.a.createElement("div",{style:{display:_?"flex":"none",transition:"all 0.4s ease",opacity:_?"1":"0"},id:"profilePopup",className:"noti--popup--window"},l.a.createElement("div",{className:"noti--popup--inner"},l.a.createElement("div",{className:"noti--popup--arrow"}," "),l.a.createElement("ul",{className:"prof--popup--ul flex-column"},l.a.createElement("li",{onClick:function(){return x(!1)}},l.a.createElement(u.b,{to:"/profile"},l.a.createElement(M.a,{className:"prof__popup"})," Profile")),l.a.createElement("li",{onClick:function(){P(),x(!1),window.location.reload()}},l.a.createElement(u.b,{to:"/auth"},l.a.createElement(D.a,{className:"prof__popup"})," Log Out"))),l.a.createElement("div",{className:"noti__transparent"}))))):null),_||k?l.a.createElement("div",{className:"hidden--backdrop",onClick:function(){x(!1),w(!1)}}):null))))})),J=(a(98),a(59),a(33)),R=a(38),V=function(e){var t,a,i,o,s,c,u=e.comment,d=e.replayFunc,m=e.postIndex,p=e.commentIndex,f=e.handleLikingComments,h=e.postOwnerId,E=e.myName,g=e.uid,N=e.userAvatar,b=e.handleUsersModal,k=(e.date,e.contentURL),w=e.contentType,y=Object(n.useState)(!1),C=Object(r.a)(y,2),_=C[0],S=C[1],x=Object(n.useState)(!1),O=Object(r.a)(x,2),U=O[0],j=O[1];return Object(n.useEffect)((function(){j(null===u||void 0===u?void 0:u.likes.filter((function(e){return e.id===g}))[0])}),[null===u||void 0===u?void 0:u.likes]),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"post--comment--item"},l.a.createElement("div",{className:"flex-row post--comment--row"},l.a.createElement("span",{className:"post__top__comment flex-row"},l.a.createElement("strong",null,null===u||void 0===u?void 0:u.userName)," ",l.a.createElement("p",{className:"comment__text w-100"},l.a.createElement(P.a,{className:"w-100",line:1,ellipsis:"..."},null===u||void 0===u?void 0:u.comment))),U?l.a.createElement("span",{onClick:function(){return f(!1,m,h,E,N,g,p,null===u||void 0===u?void 0:u.comment,k,w)},style:{animation:"boundHeart 0.5s forwards ease"},className:"liked__heart"},l.a.createElement(v.a,null)):l.a.createElement("span",{onClick:function(){return f(!0,m,h,E,N,g,p,null===u||void 0===u?void 0:u.comment,k,w)}},l.a.createElement(J.a,null))),l.a.createElement("div",{className:"post--comment--actions flex-row"},(null===(t=u.likes)||void 0===t?void 0:t.length)>=1?l.a.createElement("span",{className:"acc-action",onClick:function(){return b(!0,null===u||void 0===u?void 0:u.likes,"likes")}},null===(a=u.likes)||void 0===a?void 0:a.length.toLocaleString()," ",(null===(i=u.likes)||void 0===i?void 0:i.length)>1?"likes":"like"):null,l.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){d(null===u||void 0===u?void 0:u.userName,p,m,null===u||void 0===u?void 0:u.postId,null===u||void 0===u?void 0:u.ownerId),S(!0)}}," Replay")),(null===(o=u.subComments)||void 0===o?void 0:o.length)>=1?l.a.createElement("div",null,l.a.createElement("span",{className:"post__view__replies__btn",onClick:function(){return S(!_)}}," \u2014 ",_?"Hide":"View"," replies (",null===(s=u.subComments)||void 0===s?void 0:s.length,")"),_?l.a.createElement("ul",{className:"sub--comments--nav"},null===(c=u.subComments)||void 0===c?void 0:c.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("strong",null,null===e||void 0===e?void 0:e.senderName)," ",l.a.createElement("span",null," ",null===e||void 0===e?void 0:e.commentText))}))):null):null))},B=a(28),Q=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleCurrLikes=function(e){var t=n.props,a=t.index;(0,t.handleMyLikes)(e,a,t.id,t.userName,t.userAvatar,!0)},n.doubleClickEvent=function(){var e=n.state.btnClicks;n.setState((function(e){return{btnClicks:e.btnClicks+1}}));var t=function(){n.setState({btnClicks:0})};1===e&&(n.handleCurrLikes(!0),t(),n.setState({doubleLikeClicked:!0}),setTimeout((function(){n.setState({doubleLikeClicked:!1})}),1100)),setTimeout((function(){t()}),1e3)},n.inputField=l.a.createRef(),n.state={postLiked:!1,insertedComment:"",btnClicks:0,viewFullCaption:!1,doubleLikeClicked:!1,showFullComments:!1,openOptionsModal:!1,showInputForm:!1,replayData:{}},n}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.likesCheck()}},{key:"componentDidUpdate",value:function(e){e.likes!==this.props.likes&&this.likesCheck()}},{key:"likesCheck",value:function(){var e,t=this.props,a=t.likes,n=t.id;this.setState({postLiked:!!(null===(e=a.people)||void 0===e?void 0:e.filter((function(e){return e.id===n}))[0])})}},{key:"submitComment",value:function(e){e.preventDefault();var t=this.props,a=t.index,n=t.id,l=t.userName,i=t.userAvatar,o=t.handleSubmittingComments,s=t.postId,r=t.postOwnerId,c=t.handleSubComments;""!==this.state.insertedComment&&(this.state.replayData!=={}&&/^[@]/.test(this.state.insertedComment)?c(this.state.replayData,this.state.insertedComment,i,!0):o("mine",a,n,l,this.state.insertedComment,i,new Date,s,r),this.setState({insertedComment:"",replayData:{}}))}},{key:"replayFunc",value:function(e,t,a,n,l){this.setState({showInputForm:!0,replayData:{postOwnerName:e,commentIndex:t,postIndex:a,postId:n,postOwnerId:l},insertedComment:"@".concat(e," ")}),this.state.showInputForm&&this.inputField.current.focus()}},{key:"render",value:function(){var e,t,a,i=this,o=this.props,s=o.userName,r=o.caption,c=o.contentType,p=o.contentURL,h=o.contentName,E=o.comments,g=o.likes,N=o.location,b=o.postDate,k=o.handleLikingComments,w=o.postOwnerId,y=o.isVerified,C=o.myName,_=o.userAvatar,S=o.id,x=o.handleUsersModal,O=o.deletePost,U=o.index,j=o.postId;return l.a.createElement(n.Fragment,null,l.a.createElement("div",{id:"post",className:"post--card--container"},l.a.createElement("article",{className:"post--card--article"},l.a.createElement("div",{className:"post--card--header flex-row"},l.a.createElement("header",{className:"post--header--avatar flex-row"},l.a.createElement(f.a,{className:"post__header__avatar",src:"",alt:"avatar"}),l.a.createElement("div",{className:"post--header--user--info flex-column"},l.a.createElement("span",{tabIndex:"0","aria-disabled":"false",role:"button"},l.a.createElement("h5",{className:"flex-row"},l.a.createElement(u.b,{to:"/profile",style:{whiteSpace:"nowrap",wordBreak:"keep-all",display:"flex",flexWrap:"nowrap"}},l.a.createElement(P.a,{line:1,ellipsis:"..."},s),y?l.a.createElement(B.a,{className:"verified_icon"}):null," ")," ")),l.a.createElement("span",{tabIndex:"0","aria-disabled":"false",role:"button"},l.a.createElement("p",null,l.a.createElement(P.a,{line:1,ellipsis:"..."},N))))),l.a.createElement("span",{className:"post--header--options",onClick:function(){return i.setState({openOptionsModal:!0})}},l.a.createElement(d.a,null))),l.a.createElement("div",{className:"post--card--body"},"image"===c?l.a.createElement("div",null,l.a.createElement("img",{onClick:function(){return i.doubleClickEvent()},className:"post__card__content",src:p,alt:"post",draggable:"false"}),this.state.doubleLikeClicked?l.a.createElement("div",null,l.a.createElement("div",{className:"liked__double__click__layout"}),l.a.createElement("span",{className:"liked__double__click",style:{animation:this.state.doubleLikeClicked?"boundHeartOnDouble 0.9s forwards ease":null}},l.a.createElement(v.a,null))):null):"video"===c?l.a.createElement("div",null,l.a.createElement("video",{onClick:function(){return i.doubleClickEvent()},className:"post__card__content",src:p,draggable:"false",controls:!0}),l.a.createElement(R.b,{className:"video__top__icon"})):null),l.a.createElement("div",{className:"post--card--footer flex-column"},l.a.createElement("div",{className:"post--footer--upper--row flex-row"},l.a.createElement("div",{className:" flex-row"},this.state.postLiked?l.a.createElement("span",{onClick:function(){return i.handleCurrLikes(!1)},style:{animation:this.state.postLiked?"boundHeart 0.5s forwards ease":null},className:"liked__heart"},l.a.createElement(v.a,null)):l.a.createElement("span",{onClick:function(){return i.handleCurrLikes(!0)}},l.a.createElement(J.a,null)),l.a.createElement("span",{onClick:function(){return i.setState({showInputForm:!i.state.showInputForm})}},l.a.createElement(v.b,null)),l.a.createElement("span",null,l.a.createElement(J.c,null))),l.a.createElement("div",{className:"bookmark__icon"},l.a.createElement(m.a,null))),(null===(e=g.people)||void 0===e?void 0:e.length)>=1?l.a.createElement("div",{className:"likes__count",onClick:function(){return x(!0,g.people,"likes")}},null===(t=g.people)||void 0===t?void 0:t.length.toLocaleString()," ",1===(null===(a=g.people)||void 0===a?void 0:a.length)?"like":"likes"):null,l.a.createElement("span",{className:"post__caption flex-row"},l.a.createElement("strong",null,s)," ",this.state.viewFullCaption?l.a.createElement("p",{className:"article__post"},r):l.a.createElement("p",null,l.a.createElement(P.a,{line:4,ellipsis:"...more",style:{cursor:"pointer"},onClick:function(){return i.setState({viewFullCaption:!0})}},r))),(null===E||void 0===E?void 0:E.length)>=1?l.a.createElement("div",null,(null===E||void 0===E?void 0:E.length)>1?l.a.createElement("h5",{className:"post__comments__count",onClick:function(){return i.setState({showFullComments:!i.state.showFullComments})}}," ",this.state.showFullComments?"Hide most":"View all","  ",E.length.toLocaleString()," comments"):l.a.createElement("h5",{className:"post__comments__count"},"Comments"),this.state.showFullComments?null===E||void 0===E?void 0:E.map((function(e,t){return l.a.createElement(V,{key:t,comment:e,handleLikingComments:k,postOwnerId:w,commentIndex:t,replayFunc:i.replayFunc.bind(i),postIndex:i.props.index,myName:C,date:null===e||void 0===e?void 0:e.date,likes:g,userAvatar:_,contentType:c,contentURL:p,handleUsersModal:x,uid:S})})):null===E||void 0===E?void 0:E.slice(0,2).map((function(e,t){return l.a.createElement(V,{key:t,comment:e,handleLikingComments:k,postOwnerId:w,commentIndex:t,replayFunc:i.replayFunc.bind(i),postIndex:i.props.index,myName:C,date:null===e||void 0===e?void 0:e.date,likes:g,userAvatar:_,contentType:c,contentURL:p,handleUsersModal:x,uid:S})}))):null,l.a.createElement("small",{className:"post__date"},new Date(1e3*(null===b||void 0===b?void 0:b.seconds)).toLocaleString()),this.state.showInputForm?l.a.createElement("form",{onSubmit:function(e){return i.submitComment(e)},className:"post--bottom--comment--adding"},l.a.createElement("input",{ref:this.inputField,value:this.state.insertedComment,onChange:function(e){return i.setState({insertedComment:e.target.value})},className:"post__bottom__input",type:"text",placeholder:"Add a commment.."}),l.a.createElement("button",{type:"submit",disabled:this.state.insertedComment.length<1,className:this.state.insertedComment.length>=1?"post__bottom__button":"disabled post__bottom__button"},"Post")):null)),this.state.openOptionsModal?l.a.createElement("div",{className:"optionsM--container"},l.a.createElement("div",{className:"optionsM--container--inner flex-column"},l.a.createElement("div",{className:"modal--option",onClick:function(){return O(j,U,h)}}," Delete"),l.a.createElement("div",{className:"modal--option",onClick:function(){return i.setState({openOptionsModal:!1})}}," Cancel"))):null,l.a.createElement("div",{style:{opacity:this.state.openOptionsModal?"1":"0",display:this.state.openOptionsModal?"block":"none",transition:"all 0.4s ease"},className:"backdrop ",onClick:function(){return i.setState({openOptionsModal:!1})}})))}}]),a}(n.PureComponent),G=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=a[0],o=a[1],s=e.userName,c=e.isVerified,u=e.userUid,d=e.userAvatarUrl,m=e.browseUser,v=e.handleFollowing,p=e.receivedData;return Object(n.useEffect)((function(){p!=={}&&p&&o(!!(null===p||void 0===p?void 0:p.following.filter((function(e){return(null===e||void 0===e?void 0:e.receiverUid)===u}))[0]))}),[null===p||void 0===p?void 0:p.following]),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"suggest--item--container"},l.a.createElement("li",{className:"suggestion--item flex-row"},l.a.createElement("div",{onClick:function(){return m(u)},className:"side--user--info flex-row"},l.a.createElement(f.a,{src:d,alt:s}),l.a.createElement("h5",{className:"flex-row"},s,c?l.a.createElement("span",null,l.a.createElement(B.a,{className:"verified_icon"})):null," ")),l.a.createElement("button",{className:i?"profile__btn prof__btn__unfollowed":"profile__btn prof__btn__followed",color:"primary",onClick:function(){return v(i,u,s,d,null===p||void 0===p?void 0:p.uid,null===p||void 0===p?void 0:p.userName,null===p||void 0===p?void 0:p.userAvatarUrl)}},i?"Unfollow":"Follow"))))},z=a(55),W=a.n(z),Y=a(66),H=a(67),Z=a.n(H),X=a(68),K=a.n(X),q=a(69),$=Object(s.f)((function(e){var t=Object(n.useContext)(A),a=Object(I.a)(S),i=Object(r.a)(a,2),o=(i[0],i[1]),s=Object(n.useState)(!1),u=Object(r.a)(s,2),d=u[0],m=u[1],v=Object(n.useState)(""),p=Object(r.a)(v,2),f=p[0],h=p[1],E=Object(n.useState)(""),g=Object(r.a)(E,2),N=g[0],b=g[1],k=Object(n.useState)(""),w=Object(r.a)(k,2),y=w[0],C=w[1],x=Object(n.useState)(""),O=Object(r.a)(x,2),U=O[0],j=O[1],L=Object(n.useState)(""),D=Object(r.a)(L,2),M=D[0],P=D[1],F=Object(n.useState)(!1),T=Object(r.a)(F,2),J=T[0],R=T[1],V=function(){var a=Object(Y.a)(W.a.mark((function a(n,l){var i,o,s,r,c,u;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),i=t.resetAllData,t.uid,o=t.updateSuggestionsList,s=t.isUserOnline,r=t.updateUID,t.receivedData,c=t.updatedReceivedData,u=t.updateUserState,t.suggestionsList,"signUp"===l?(i(),setTimeout((function(){s||S.createUserWithEmailAndPassword(f,N).then((function(t){_.collection("users").doc(t.user.uid).set({uid:t.user.uid,userName:y,posts:[],followers:[],following:[],messages:[],bio:"",websiteUrl:"",homePosts:[],latestLikedPosts:[],savedposts:[],stories:[],notifications:{isNewMsg:!1,isUpdate:!1,list:[]},isVerified:!1,userAvatarUrl:""}).then((function(t){h(""),b(""),C(""),e.history.push("/")}))})).catch((function(e){alert(e.message)}))}),1e3)):"login"===l&&(i(),setTimeout((function(){s||S.signInWithEmailAndPassword(U,M).then((function(t){j(""),P(""),S.onAuthStateChanged((function(e){_.collection("users").get().then((function(t){t.forEach((function(e){o(e.data())})),u(!0),r(null===e||void 0===e?void 0:e.uid),c()}))})),e.history.push("/")})).catch((function(e){alert(e.message)}))}),2e3));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return l.a.createElement(c,null,l.a.createElement("section",{className:"auth--main flex-column"},l.a.createElement("div",{className:"auth flex-column"},l.a.createElement("div",{className:"auth--upper--card flex-column"},l.a.createElement("div",{className:"auth--logo flex-row"},l.a.createElement("span",{className:"mr-2"},l.a.createElement(q.a,null)),l.a.createElement("h1",{className:"logoText"},"Voxgram")),d?l.a.createElement("div",null,l.a.createElement("h4",{className:"auth--signup--msg"},"Sign up to see photos and videos from your friends."),l.a.createElement("form",{onSubmit:function(e){return V(e,"signUp")},className:"auth--input--form flex-column"},l.a.createElement("input",{required:!0,autoFocus:!0,value:f,onChange:function(e){return h(e.target.value)},type:"email",placeholder:"Email"}),l.a.createElement("input",{required:!0,value:y,onChange:function(e){return C(e.target.value)},type:"text",placeholder:"Username"}),l.a.createElement("input",{required:!0,value:N,onChange:function(e){return b(e.target.value)},type:"password",placeholder:"Password"}),l.a.createElement("input",{required:!0,type:"password",placeholder:"Re-type Password"}),l.a.createElement("input",{className:o?"disabled":"",type:"submit",value:o?"Loading...":"Sign Up"}))):l.a.createElement("form",{onSubmit:function(e){return V(e,"login")},className:"auth--input--form flex-column"},J?l.a.createElement("div",null,l.a.createElement("span",{onClick:function(){return R(!1)},className:"back__Btn"},"Back"),l.a.createElement("input",{required:!0,autoFocus:!0,value:U,onChange:function(e){return j(e.target.value)},type:"text",placeholder:"Email"}),l.a.createElement("span",{onClick:function(){S.sendPasswordResetEmail(U).then((function(e){console.log(e),alert("A password reset config has been send to your email")})).catch((function(e){alert("Error has occurred",e)}))},className:"resetPassBtn"},"Resest password through email")):l.a.createElement("div",{className:"flex-column"},l.a.createElement("input",{required:!0,autoFocus:!0,value:U,onChange:function(e){return j(e.target.value)},type:"text",placeholder:"Email"}),l.a.createElement("input",{required:!0,value:M,onChange:function(e){return P(e.target.value)},type:"password",placeholder:"Password"}),l.a.createElement("input",{className:o?"disabled":"",type:"submit",value:o?"Loading...":"Log In"}),l.a.createElement("span",{onClick:function(){return R(!0)},className:"forgot__pass"},"Forgot password?")))),l.a.createElement("div",{className:"auth--bottom--card"},d?l.a.createElement("span",null,"Have an account? ",l.a.createElement("h6",{onClick:function(){return m(!d)}},"Log in")):l.a.createElement("span",null,"Don't have an account? ",l.a.createElement("h6",{onClick:function(){return m(!d)}},"Sign up"))),l.a.createElement("p",{className:"auth__get__app"},"Get the app."),l.a.createElement("div",{className:"auth--available--stores"},l.a.createElement("div",{className:"auth--stores--inner flex-row"},l.a.createElement("img",{src:Z.a,alt:"apple store"}),l.a.createElement("img",{src:K.a,alt:"google store"})))),l.a.createElement("div",{className:"auth--footer--container flex-row"},l.a.createElement("ul",{className:"auth--footer--ul flex-row"},l.a.createElement("li",null,"ABOUT"),l.a.createElement("li",null,"HELP"),l.a.createElement("li",null,"PRESS"),l.a.createElement("li",null,"API"),l.a.createElement("li",null,"JOBS"),l.a.createElement("li",null,"PRIVACY"),l.a.createElement("li",null,"TERMS"),l.a.createElement("li",null,"LOCATIONS"),l.a.createElement("li",null,"TOP ACCOUNTS"),l.a.createElement("li",null,"HASHTAGS"),l.a.createElement("li",null,"LANGUAGE")),l.a.createElement("div",{className:"auth--copyright"},l.a.createElement("span",null,"This app was made for personal use"),l.a.createElement("span",null,"@2020 Instagram clone made by Mahmoud Farargy")))))})),ee=a(119),te=a(70),ae=Object(s.f)((function(e){var t=Object(n.useContext)(A),a=t.receivedData,i=t.handleMyLikes,o=t.handleSubmittingComments,s=(t.isUserOnline,t.suggestionsList),u=t.getUsersProfile,d=t.uid,m=t.handleFollowing,v=t.deletePost,h=t.handleSubComments,E=t.handleLikingComments,g=t.handleUsersModal,N=null===a||void 0===a?void 0:a.posts,b=function(t){u(t),e.history.push("/user-profile")},k=Object(I.a)(S),w=Object(r.a)(k,3),y=w[0],C=w[1];w[2];return l.a.createElement(c,null,y?l.a.createElement("section",{id:"home",className:"main--home--container "},l.a.createElement("div",{className:"main--home--inner desktop-comp"},l.a.createElement("div",{className:"home--posts--side flex-column"},!C&&(null===N||void 0===N?void 0:N.length)>=1?null===N||void 0===N?void 0:N.map((function(e,t){return l.a.createElement(Q,{key:null===e||void 0===e?void 0:e.id,userName:null===e||void 0===e?void 0:e.userName,myName:null===a||void 0===a?void 0:a.userName,caption:null===e||void 0===e?void 0:e.caption,contentType:null===e||void 0===e?void 0:e.contentType,contentURL:null===e||void 0===e?void 0:e.contentURL,contentName:null===e||void 0===e?void 0:e.contentName,comments:null===e||void 0===e?void 0:e.comments,likes:null===e||void 0===e?void 0:e.likes,postDate:null===e||void 0===e?void 0:e.date,id:d,location:null===e||void 0===e?void 0:e.location,index:t,postId:null===e||void 0===e?void 0:e.id,postOwnerId:null===e||void 0===e?void 0:e.postOwnerId,userAvatar:null===a||void 0===a?void 0:a.userAvatarUrl,handleMyLikes:i,handleSubmittingComments:o,handleSubComments:h,handleLikingComments:E,isVerified:null===a||void 0===a?void 0:a.isVerified,handleUsersModal:g,deletePost:v})})):C?l.a.createElement(ee.a,{variant:"rect",width:"100%"},l.a.createElement("div",{style:{paddingTop:"57%"}})):(null===N||void 0===N?void 0:N.length)<1?l.a.createElement("div",{className:"empty--posts--container flex-column"},l.a.createElement("div",{className:"empty--posts--inner flex-column"},l.a.createElement("div",{className:"plus--icon--container flex-column "},l.a.createElement(p.c,{className:"plus__icon"})),l.a.createElement("h3",null,"No posts have been made"),l.a.createElement("p",null,"When you share photos and videos, they'll ",l.a.createElement("br",null)," be appear on your posts page"),l.a.createElement("span",null,"Share your first photo or video"))):null),l.a.createElement("aside",{className:"home--sider"},(null===a||void 0===a?void 0:a.userName)?l.a.createElement("div",{className:"side--user--info flex-row"},l.a.createElement(f.a,null),l.a.createElement("h5",{className:"flex-row",onClick:function(){return e.history.push("/profile")}},null===a||void 0===a?void 0:a.userName," ",(null===a||void 0===a?void 0:a.isVerified)?l.a.createElement(B.a,{className:"verified_icon"}):null)):null,s.length>=1?l.a.createElement("div",{className:"suggestions--home--container"},l.a.createElement("div",{className:"suggestions--header flex-row"},l.a.createElement("h6",null,"Suggestions For you"),l.a.createElement("button",null,"See all")),l.a.createElement("div",{className:"suggestions--list flex-column"},l.a.createElement("ul",{className:"flex-column"},null===s||void 0===s?void 0:s.filter((function(e){return(null===e||void 0===e?void 0:e.uid)!==(null===a||void 0===a?void 0:a.uid)})).slice(0,5).map((function(e,t){return C?l.a.createElement(ee.a,{variant:"circle",width:40,height:40}):l.a.createElement(G,{key:t,userName:null===e||void 0===e?void 0:e.userName,isVerified:null===e||void 0===e?void 0:e.isVerified,userUid:null===e||void 0===e?void 0:e.uid,userAvatarUrl:null===e||void 0===e?void 0:e.userAvatarUrl,browseUser:b,handleFollowing:m,receivedData:a})}))))):null,l.a.createElement("div",{className:"instagram--embed--container"},l.a.createElement(te.a,{url:"https://www.instagram.com/p/CGalYyrJNsX/",containerTagName:"div",className:"instagram__embed"}))),l.a.createElement("div",{id:"userProfFooter",className:"userProfile--footer auth--footer--container desktop-only"},l.a.createElement("ul",{className:"auth--footer--ul flex-row"},l.a.createElement("li",null,"ABOUT"),l.a.createElement("li",null,"HELP"),l.a.createElement("li",null,"PRESS"),l.a.createElement("li",null,"API"),l.a.createElement("li",null,"JOBS"),l.a.createElement("li",null,"PRIVACY"),l.a.createElement("li",null,"TERMS"),l.a.createElement("li",null,"LOCATIONS"),l.a.createElement("li",null,"TOP ACCOUNTS"),l.a.createElement("li",null,"HASHTAGS"),l.a.createElement("li",null,"LANGUAGE")),l.a.createElement("div",{className:"auth--copyright"},l.a.createElement("span",null,"This app was made for personal use"),l.a.createElement("span",null,"@2020 Instagram clone made by Mahmoud Farargy"))))):l.a.createElement($,null))})),ne=(a(102),a(123)),le=a(121),ie=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={posts:[{caption:"",id:"",contentType:"",contentURL:"",comments:[],date:"",likes:[],userName:"",location:"",uid:""}],insertedCaption:"",progressBarPercentage:0,uploading:!1,postingPhase:!0,contentType:"",contentURL:"",contentName:"",location:""},e.componentDidMount=function(){e.setState(Object(E.a)(Object(E.a)({},e.state),{},{postingPhase:!0}))},e.componentDidUpdate=function(){var t=e.context.receivedData;(null===t||void 0===t?void 0:t.posts)!==e.state.posts&&e.setState(Object(E.a)(Object(E.a)({},e.state),{},{posts:null===t||void 0===t?void 0:t.posts}))},e.generateNewId=function(){for(var e="G",t="j",a="k",n="M",l="N",i="Z",o=function(){return Math.floor(6*Math.random()+1)},s=0;s<5;s++)switch(o(),o()){case 1:e="A";break;case 2:t="B";break;case 3:a="C";break;case 4:n="D";break;case 5:l="E";break;default:i="F"}return e+t+a+9999*Math.random()+1+n+l+i},e.handleFileChange=function(t){e.context.isUserOnline;var a,n=t.target.files[0],l={contentType:""!==n?null===(a=n)||void 0===a?void 0:a.type:null};/(image|video)/g.test(l.contentType)&&n.size<=12378523?x.ref("content/".concat(n.name)).put(n,l).on("state_changed",(function(t){var a=100*Math.round(t.bytesTransferred/t.totalBytes);e.setState(Object(E.a)(Object(E.a)({},e.state),{},{uploading:!0,progressBarPercentage:a}))}),(function(t){alert(t.message),e.resetState()}),(function(){x.ref("content").child(n.name).getDownloadURL().then((function(t){e.setState(Object(E.a)(Object(E.a)({},e.state),{},{contentName:n.name,uploading:!1,progressBarPercentage:0,contentURL:t,contentType:/image/g.test(l.contentType)?"image":"video"})),n=""}))})):alert("Please choose an image or video that doesn't exceed the size of 12MB.")},e}return Object(N.a)(a,[{key:"resetState",value:function(){this.setState(Object(E.a)(Object(E.a)({},this.state),{},{insertedCaption:"",progressBarPercentage:0,uploading:!1,postingPhase:!1,contentType:"",contentURL:"",location:"",contentName:""}))}},{key:"onCancel",value:function(){this.context.deleteContentFromFB(this.state.contentName),this.resetState()}},{key:"onSubmitPost",value:function(e){var t=this;e.preventDefault();var a=this.context,n=a.isUserOnline,l=a.receivedData,i=a.updatedReceivedData,o=a.uid;n&&(""!==this.state.insertedCaption?""!==this.state.contentName?(this.state.posts.unshift({caption:this.state.insertedCaption,id:this.generateNewId(),contentType:this.state.contentType,contentURL:this.state.contentURL,comments:[],date:new Date,likes:{people:[]},userName:null===l||void 0===l?void 0:l.userName,location:this.state.location,postOwnerId:o,userAvatarUrl:null===l||void 0===l?void 0:l.userAvatarUrl,contentName:this.state.contentName}),S.onAuthStateChanged((function(e){_.collection("users").doc(null===e||void 0===e?void 0:e.uid).update({posts:t.state.posts}).then((function(){i(),t.props.history.push("/"),t.resetState()}))}))):alert("Content should be inserted"):alert("Caption should be included"))}},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement("section",{id:"upload",className:"post--uploading--container flex-column"},l.a.createElement("div",{className:"desktop-comp post--uploading--inner flex-column"},l.a.createElement("h5",{className:"app__titles"},"Add a Post"),l.a.createElement("div",{className:"post--uploading--card flex-column"},l.a.createElement("div",{className:"showing--upladed--content"},this.state.uploading?l.a.createElement("div",{className:"uploading__in__progress flex-column"},l.a.createElement("h4",null,"Uploading...")):"image"===this.state.contentType?l.a.createElement("img",{src:this.state.contentURL,alt:""}):"video"===this.state.contentType?l.a.createElement("video",{src:this.state.contentURL,controls:!0}," "):null),l.a.createElement("form",{onSubmit:function(t){return e.onSubmitPost(t)}},this.state.uploading?l.a.createElement("div",{className:"my-4"},l.a.createElement(ne.a,{variant:"buffer",value:this.state.progressBarPercentage,valueBuffer:0})):null,this.state.uploading?null:l.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileChange(t)}}),this.state.uploading?null:l.a.createElement("div",null,l.a.createElement("textarea",{required:!0,type:"text",placeholder:"Enter a caption...",value:this.state.insertedCaption,onChange:function(t){return e.setState({insertedCaption:t.target.value})}}),l.a.createElement("input",{type:"text",placeholder:"Location",value:this.state.location,onChange:function(t){return e.setState({location:t.target.value})}}),""!==this.state.contentType?l.a.createElement(le.a,{onClick:function(){return e.onCancel()},variant:"contained"},"Cancel"):null,l.a.createElement(le.a,{type:"submit",variant:"contained",color:"primary"},"Post")))))))}}]),a}(n.PureComponent);ie.contextType=A;var oe=Object(s.f)(ie),se=a(120),re=Object(s.f)((function(e){var t,a,i,o,s,c,u,d,v=Object(I.a)(S),h=Object(r.a)(v,2),E=(h[0],h[1]),g=Object(n.useState)(!1),N=Object(r.a)(g,2),b=N[0],k=N[1],w=Object(n.useState)(!0),y=Object(r.a)(w,2),C=y[0],_=y[1],x=Object(n.useContext)(A),O=x.usersProfileData,U=x.changeMainState,j=x.initializeChatDialog,L=x.uid,D=x.handleFollowing,M=x.receivedData,P=x.handleUsersModal,F=(x.openUsersModal,x.igVideoImg);return Object(n.useEffect)((function(){var e;k(!!(null===M||void 0===M||null===(e=M.following)||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.receiverUid)===(null===O||void 0===O?void 0:O.uid)}))[0]))}),[null===M||void 0===M?void 0:M.followers,null===O||void 0===O?void 0:O.followers]),l.a.createElement(n.Fragment,null,l.a.createElement("section",{id:"usersProfile",className:"users--profile--container "},l.a.createElement("div",{className:"desktop-comp"},l.a.createElement("div",{className:"user--top--info flex-row"},l.a.createElement("div",{className:"user--pic--container flex-column"},l.a.createElement(f.a,{className:"user__picture",src:null===O||void 0===O?void 0:O.userAvatarUrl,alt:null===O||void 0===O?void 0:O.userName})),l.a.createElement("div",{className:"desktop--inner--info flex-column"},l.a.createElement("div",{className:"users--action--row flex-row"},l.a.createElement("h5",{className:"profile__display__name"},null===O||void 0===O?void 0:O.userName,(null===O||void 0===O?void 0:O.isVerified)?l.a.createElement(B.a,{className:"verified_icon"}):null),l.a.createElement("div",{className:"flex-row"},l.a.createElement("button",{disabled:!(null===O||void 0===O?void 0:O.uid),className:b?"profile__btn prof__btn__unfollowed":"profile__btn prof__btn__followed",onClick:function(){return function(t,a,n){j(t,a,n),e.history.push("/messages")}(null===O||void 0===O?void 0:O.uid,null===O||void 0===O?void 0:O.userName,null===O||void 0===O?void 0:O.userAvatarUrl)}},"Message"),l.a.createElement("button",{disabled:!(null===O||void 0===O?void 0:O.uid),onClick:function(){return D(b,null===O||void 0===O?void 0:O.uid,null===O||void 0===O?void 0:O.userName,null===O||void 0===O?void 0:O.userAvatarUrl,L,null===M||void 0===M?void 0:M.userName,null===M||void 0===M?void 0:M.userAvatarUrl)},className:b?"profile__btn prof__btn__unfollowed":"profile__btn prof__btn__followed"}," ",b?"unfollow":"follow"))),l.a.createElement("div",{className:"desktop--social--row flex-row"},l.a.createElement("p",null,l.a.createElement("span",null,null===O||void 0===O||null===(t=O.posts)||void 0===t?void 0:t.length.toLocaleString())," ",(null===O||void 0===O||null===(a=O.posts)||void 0===a?void 0:a.length)>1?"posts":"post"),l.a.createElement("p",{className:"acc-action",onClick:function(){return P(!0,null===O||void 0===O?void 0:O.followers,"followers")}},l.a.createElement("span",null,null===O||void 0===O||null===(i=O.followers)||void 0===i?void 0:i.length.toLocaleString())," ",(null===O||void 0===O||null===(o=O.followers)||void 0===o?void 0:o.length)>1?"followers":"follower"),l.a.createElement("p",{className:"acc-action",onClick:function(){return P(!0,null===O||void 0===O?void 0:O.following,"following")}},l.a.createElement("span",null,null===O||void 0===O||null===(s=O.following)||void 0===s?void 0:s.length.toLocaleString())," following")))),l.a.createElement("div",{className:"bottom--row--user-info flex-column"},l.a.createElement("p",null,null===O||void 0===O?void 0:O.bio)),l.a.createElement("div",{className:"users--profile--stripe flex-row"},(null===O||void 0===O||null===(c=O.posts)||void 0===c?void 0:c.length)>=1?l.a.createElement("div",{className:"profile--stripe--inner flex-row"},l.a.createElement("span",{onClick:function(){return _(!0)},style:{color:C?"#1d8cd6":"#8e8e8e",borderTop:C?"2px solid #363636":"none"}},l.a.createElement(R.a,null)),l.a.createElement("span",{onClick:function(){return _(!1)},style:{color:C?"#8e8e8e":"#1d8cd6",borderTop:C?"none":"2px solid #363636"}},l.a.createElement(m.b,null))):null),l.a.createElement("div",{className:C?"users--profile--posts":"users--profile--rowLine flex-column"},(null===O||void 0===O||null===(u=O.posts)||void 0===u?void 0:u.length)>=1&&!E?null===O||void 0===O||null===(d=O.posts)||void 0===d?void 0:d.map((function(t,a){return l.a.createElement("div",{key:(null===t||void 0===t?void 0:t.id)+a,className:"profile--posts--container"},l.a.createElement("img",{onClick:function(){return function(t,a){U("currentPostIndex",{index:t,id:a}),e.history.push("/browse-post")}(a,null===t||void 0===t?void 0:t.id)},style:{width:C?"100%":"auto"},className:"users__profile__image",src:"image"===(null===t||void 0===t?void 0:t.contentType)?null===t||void 0===t?void 0:t.contentURL:"video"===(null===t||void 0===t?void 0:t.contentType)?F:null,alt:"post #".concat(a)}))})):E?l.a.createElement(se.a,Object.assign({variant:"determinate",size:40,thickness:4},e,{value:100})):l.a.createElement("div",{className:"empty--posts--container flex-column"},l.a.createElement("div",{className:"empty--posts--inner flex-column"},l.a.createElement("div",{className:"plus--icon--container flex-column"},l.a.createElement(p.c,{className:"plus__icon"})),l.a.createElement("h3",null,"Profile"),l.a.createElement("p",null,"When you share photos and videos, they'll ",l.a.createElement("br",null)," be appear on your profile page"),l.a.createElement("span",null,"Share your first photo or video"))))),l.a.createElement("div",{id:"userProfFooter",className:"userProfile--footer auth--footer--container desktop-only"},l.a.createElement("ul",{className:"auth--footer--ul flex-row"},l.a.createElement("li",null,"ABOUT"),l.a.createElement("li",null,"HELP"),l.a.createElement("li",null,"PRESS"),l.a.createElement("li",null,"API"),l.a.createElement("li",null,"JOBS"),l.a.createElement("li",null,"PRIVACY"),l.a.createElement("li",null,"TERMS"),l.a.createElement("li",null,"LOCATIONS"),l.a.createElement("li",null,"TOP ACCOUNTS"),l.a.createElement("li",null,"HASHTAGS"),l.a.createElement("li",null,"LANGUAGE")),l.a.createElement("div",{className:"auth--copyright"},l.a.createElement("span",null,"This app was made for personal use"),l.a.createElement("span",null,"@2020 Instagram clone made by Mahmoud Farargy")))))})),ce=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleCurrLikes=function(e){var t=n.context,a=t.usersProfileData,l=t.handlePeopleLikes,i=t.currentPostIndex,o=t.uid,s=t.receivedData,r=null===a||void 0===a?void 0:a.posts;if(r){var c=r[null===i||void 0===i?void 0:i.index],u=(c.userName,c.likes,c.postOwnerId),d=c.contentURL,m=c.contentType;l(e,null===i||void 0===i?void 0:i.index,u,null===s||void 0===s?void 0:s.userName,null===s||void 0===s?void 0:s.userAvatarUrl,o,d,m)}},n.doubleClickEvent=function(){var e=n.state.btnClicks;n.setState((function(e){return{btnClicks:e.btnClicks+1}}));var t=function(){n.setState(Object(E.a)(Object(E.a)({},n.state),{},{btnClicks:0}))};1===e&&(n.handleCurrLikes(!0),t(),n.setState(Object(E.a)(Object(E.a)({},n.state),{},{doubleLikeClicked:!0})),setTimeout((function(){n.setState(Object(E.a)(Object(E.a)({},n.state),{},{doubleLikeClicked:!1}))}),1100)),setTimeout((function(){t()}),1e3)},n.inputField=l.a.createRef(),n.state={postLiked:!1,insertedComment:"",currtData:{},viewFullCaption:!1,btnClicks:0,doubleLikeClicked:!1,replayData:{}},n}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.usersProfileData;this.setState(Object(E.a)(Object(E.a)({},this.state),{},{currtData:e}))}},{key:"likesCheck",value:function(){var e,t=this.context,a=t.usersProfileData,n=t.currentPostIndex,l=t.uid;if(null===a||void 0===a?void 0:a.posts)return-1!==(null===(e=(null===a||void 0===a?void 0:a.posts[null===n||void 0===n?void 0:n.index]).likes.people)||void 0===e?void 0:e.map((function(e){return e.id})).indexOf(l))}},{key:"submitComment",value:function(e){e.preventDefault();var t=this.context,a=t.usersProfileData,n=t.handleSubmittingComments,l=t.handleSubComments,i=t.currentPostIndex,o=t.uid,s=t.receivedData,r=(t.handleCommentsModal,null===a||void 0===a?void 0:a.posts);if(r){var c=r[null===i||void 0===i?void 0:i.index],u=c.id,d=c.postOwnerId,m=c.contentURL,v=c.contentType;""!==this.state.insertedComment&&(this.state.replayData!=={}&&/^[@]/.test(this.state.insertedComment)?l(this.state.replayData,this.state.insertedComment,null===s||void 0===s?void 0:s.userAvatarUrl,!1,m,v):n("others",null===i||void 0===i?void 0:i.index,o,null===s||void 0===s?void 0:s.userName,this.state.insertedComment,null===a||void 0===a?void 0:a.userAvatarUrl,new Date,u,d,m,v),this.setState({insertedComment:"",replayData:{}}))}}},{key:"replayFunc",value:function(e,t,a,n,l){this.inputField.current.focus(),this.setState(Object(E.a)(Object(E.a)({},this.state),{},{replayData:{postOwnerName:e,commentIndex:t,postIndex:a,postId:n,postOwnerId:l},insertedComment:"@".concat(e," ")}))}},{key:"render",value:function(){var e,t,a,i,o,s=this,r=this.context,c=r.usersProfileData,u=r.currentPostIndex,p=r.uid,h=r.receivedData,E=r.handleLikingComments,g=(u=r.currentPostIndex,r.handleUsersModal),N=r.handleCommentsModal;if(null===(e=c)||void 0===e?void 0:e.posts)var b,k,w,y=null===(b=c)||void 0===b?void 0:b.posts[null===(k=u)||void 0===k?void 0:k.index],C=y.userName,_=y.caption,S=y.contentType,x=y.contentURL,O=y.comments,U=y.likes,j=y.location,A=y.date,L=y.postOwnerId,I=null===(w=c)||void 0===w?void 0:w.isVerified;return l.a.createElement(n.Fragment,null,(null===(t=c)||void 0===t?void 0:t.posts)?l.a.createElement("div",{id:"post",className:"post--card--container post--page"},l.a.createElement("article",{className:"post--card--article"},l.a.createElement("div",{className:"post--card--header flex-row"},l.a.createElement("header",{className:"post--header--avatar flex-row"},l.a.createElement(f.a,{className:"post__header__avatar",src:"",alt:"avatar"}),l.a.createElement("div",{className:"post--header--user--info flex-column"},l.a.createElement("span",{tabIndex:"0","aria-disabled":"false",role:"button",className:"flex-row"},l.a.createElement("h5",{className:"flex-row w-100"},l.a.createElement(P.a,{line:1,ellipsis:"..."},C),I?l.a.createElement("span",null,l.a.createElement(B.a,{className:"verified_icon"})):null," ")),l.a.createElement("span",{tabIndex:"0","aria-disabled":"false",role:"button"},l.a.createElement("p",null,l.a.createElement(P.a,{line:1,ellipsis:"..."},j))))),l.a.createElement("span",{className:"post--header--options"},l.a.createElement(d.a,null))),l.a.createElement("div",{className:"post--card--body"},"image"===S?l.a.createElement("div",null,l.a.createElement("img",{onClick:function(){return s.doubleClickEvent()},className:"post__card__content",src:x,alt:"post",draggable:"false"}),this.state.doubleLikeClicked?l.a.createElement("div",null,l.a.createElement("div",{className:"liked__double__click__layout"}),l.a.createElement("span",{className:"liked__double__click",style:{animation:this.state.doubleLikeClicked?"boundHeartOnDouble 0.9s forwards ease":null}},l.a.createElement(v.a,null))):null):"video"===S?l.a.createElement("div",null,l.a.createElement("video",{className:"post__card__content",src:x,draggable:"false",controls:!0}),l.a.createElement(R.b,{className:"video__top__icon"})):null),l.a.createElement("div",{className:"post--card--footer flex-column"},l.a.createElement("div",{className:"post--footer--upper--row flex-row"},l.a.createElement("div",{className:" flex-row"},this.likesCheck()?l.a.createElement("span",{onClick:function(){return s.handleCurrLikes(!1)},style:{animation:this.likesCheck()?"boundHeart 0.5s forwards ease":null},className:"liked__heart"},l.a.createElement(v.a,null)):l.a.createElement("span",{onClick:function(){return s.handleCurrLikes(!0)}},l.a.createElement(J.a,null)),l.a.createElement("span",null,l.a.createElement(v.b,null)),l.a.createElement("span",null,l.a.createElement(J.c,null))),l.a.createElement("div",{className:"bookmark__icon"},l.a.createElement(m.a,null))),(null===(a=U.people)||void 0===a?void 0:a.length)>=1?l.a.createElement("div",{className:"likes__count",onClick:function(){return g(!0,null===U||void 0===U?void 0:U.people,"likes")}},null===(i=U.people)||void 0===i?void 0:i.length.toLocaleString()," ",1===(null===(o=U.people)||void 0===o?void 0:o.length)?"like":"likes"):null,l.a.createElement("span",{className:"post__caption flex-row"},l.a.createElement("strong",null,C)," ",this.state.viewFullCaption?l.a.createElement("p",{className:"article__post"},_):l.a.createElement("p",null,l.a.createElement(P.a,{line:4,ellipsis:"...more",style:{cursor:"pointer"},onClick:function(){return s.setState({viewFullCaption:!0})}},_))),(null===O||void 0===O?void 0:O.length)>=1?l.a.createElement("div",{className:"post--comments--layout"},(null===O||void 0===O?void 0:O.length)>1?l.a.createElement("h5",{className:"post__comments__count",onClick:function(){return N(!0)}},"View all ",O.length.toLocaleString()," comments"):l.a.createElement("h5",{className:"post__comments__count"},"Comments"),null===O||void 0===O?void 0:O.slice(0,3).map((function(e,t){var a,n;return l.a.createElement(V,{key:t,comment:e,handleLikingComments:E,postOwnerId:L,commentIndex:t,date:null===e||void 0===e?void 0:e.date,replayFunc:s.replayFunc.bind(s),postIndex:u.index,myName:null===(a=h)||void 0===a?void 0:a.userName,likes:U,userAvatar:null===(n=h)||void 0===n?void 0:n.userAvatarUrl,uid:p,contentType:S,contentURL:x,handleUsersModal:g})}))):null,l.a.createElement("small",{className:"post__date"},new Date(1e3*A.seconds).toLocaleString()),l.a.createElement("form",{onSubmit:function(e){return s.submitComment(e)},className:"post--bottom--comment--adding"},l.a.createElement("input",{ref:this.inputField,value:this.state.insertedComment,onChange:function(e){return s.setState({insertedComment:e.target.value})},className:"post__bottom__input",type:"text",placeholder:"Add a commment.."}),l.a.createElement("button",{type:"submit",disabled:this.state.insertedComment.length<1,className:this.state.insertedComment.length>=1?"post__bottom__button":"disabled post__bottom__button"},"Post"))))):l.a.createElement("h3",null,"Sorry, page is not found."))}}]),a}(n.PureComponent);ce.contextType=A;var ue=ce,de=a(73),me=a(72),ve=a(34),pe=a.n(ve),fe=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){pe()(document).ready((function(){pe()("#messagesUL li").on("click",(function(){pe()("#messagesUL li").each((function(e,t){pe()(t).removeClass("active-msg")})),pe()(this).addClass("active-msg")}))}))},n.componentDidUpdate=function(e,t){e.messages!==n.props.messages&&n.autoScroll.scrollIntoView&&n.autoScroll.scrollIntoView({behavior:"smooth"})},n.selectEmoji=function(e){n.setState(Object(E.a)(Object(E.a)({},n.state),{},{inputValue:n.state.inputValue+e}))},n.autoScroll=l.a.createRef(),n.state={inputValue:"",loadedChatLog:[],currentUserIndex:0,openSidedrawer:!1,showEmojis:!1},n}return Object(N.a)(a,[{key:"submitMessage",value:function(e){e.preventDefault();var t=this.context,a=t.handleSendingMessage,n=t.receivedData,l=null===n||void 0===n?void 0:n.messages[this.state.currentUserIndex];a(this.state.inputValue,null===l||void 0===l?void 0:l.uid,"text"),this.setState(Object(E.a)(Object(E.a)({},this.state),{},{inputValue:""}))}},{key:"viewUsersMessages",value:function(e,t){var a=this.context.receivedData.messages;this.setState(Object(E.a)(Object(E.a)({},this.state),{},{loadedChatLog:a[t],currentUserIndex:t}))}},{key:"render",value:function(){var e,t=this,a=this.context.receivedData,n=a.messages,i=n?n[this.state.currentUserIndex]:"";return l.a.createElement(c,null,l.a.createElement("section",{id:"messages",className:"messages--container"},l.a.createElement("div",{className:"desktop-comp"},l.a.createElement("div",{className:"messages--desktop--card flex-row"},l.a.createElement("div",{className:"messages--users--side desktop-only flex-column"},l.a.createElement("div",{className:"users--side--header flex-row"},l.a.createElement("span",{className:"space__between"},l.a.createElement("h4",null,"Direct"),l.a.createElement(p.b,{className:"pen__logo"}))),l.a.createElement("div",{className:"messages--top--nav flex-row"},l.a.createElement("div",{className:"space__between"},l.a.createElement("h5",null,"private"),l.a.createElement("h5",null,"general"))),l.a.createElement("div",{className:"messages--view--users"},l.a.createElement("ul",{id:"messagesUL"},(null===n||void 0===n?void 0:n.length)>=1?null===n||void 0===n?void 0:n.map((function(e,a){var n,i;return l.a.createElement("li",{className:"messages--user  flex-row",key:e.uid+a,onClick:function(){t.viewUsersMessages(null===e||void 0===e?void 0:e.uid,a),t.setState({currentUserIndex:a})}},l.a.createElement(f.a,{src:null===e||void 0===e?void 0:e.receiversAvatarUrl}),l.a.createElement("div",{className:"messages--user--info space__between"},l.a.createElement("div",{style:{flex:1,width:"100%"}},l.a.createElement("p",null,l.a.createElement(P.a,{line:1,ellipsis:".."},null===e||void 0===e?void 0:e.userName)," "),l.a.createElement("span",{className:"last__message"},l.a.createElement(P.a,{line:1,ellipsis:".."},e.chatLog.length>=1?e.chatLog[(null===(n=e.chatLog)||void 0===n?void 0:n.length)-1].textMsg:null))),l.a.createElement("p",{className:"messages__user__date"},e.chatLog.length>=1?new Date(1e3*e.chatLog[(null===(i=e.chatLog)||void 0===i?void 0:i.length)-1].date.seconds).toLocaleString():null)))})):l.a.createElement("h4",{style:{fontSize:"14px",fontWeight:"600",textAlign:"center"}},"Start messaging people from the pen button above. Users will be here")))),l.a.createElement("div",{className:"messages--side"},l.a.createElement("div",{className:"mobile--msgs--menu mobile-only"},this.state.openSidedrawer?l.a.createElement(me.a,{onClick:function(){return t.setState({openSidedrawer:!1})}}):l.a.createElement(m.c,{onClick:function(){return t.setState({openSidedrawer:!0})}})),this.state.openSidedrawer?l.a.createElement("div",{className:"backdrop mobile-only",onClick:function(){return t.setState({openSidedrawer:!1})}}):null,l.a.createElement("div",{style:{transform:this.state.openSidedrawer?"translate(0)":"translate(200vw)",transition:"all 0.5s linear",opacity:this.state.openSidedrawer?"1":"0"},id:"mobileChat",className:"mobile--users--sidedrawer"}," ",l.a.createElement("div",{className:"messages--users--side mobile-only flex-column"},l.a.createElement("div",{className:"users--side--header flex-row"},l.a.createElement("span",{className:"space__between"},l.a.createElement("h4",null,"Direct"))),l.a.createElement("div",{className:"messages--top--nav flex-row"},l.a.createElement("div",{className:"space__between"},l.a.createElement("h5",null,"private"),l.a.createElement("h5",null,"general"))),l.a.createElement("div",{className:"messages--view--users"},l.a.createElement("ul",{id:"messagesUL"},(null===n||void 0===n?void 0:n.length)>=1?null===n||void 0===n?void 0:n.map((function(e,a){var n,i;return l.a.createElement("li",{className:"messages--user  flex-row",key:e.uid+a,onClick:function(){t.viewUsersMessages(null===e||void 0===e?void 0:e.uid,a),t.setState({currentUserIndex:a,openSidedrawer:!1})}},l.a.createElement(f.a,{src:null===e||void 0===e?void 0:e.receiversAvatarUrl}),l.a.createElement("div",{className:"messages--user--info space__between"},l.a.createElement("div",{style:{flex:1,width:"100%"}},l.a.createElement("p",null,l.a.createElement(P.a,{line:1,ellipsis:".."},null===e||void 0===e?void 0:e.userName)," "),l.a.createElement("span",{className:"last__message"},l.a.createElement(P.a,{line:1,ellipsis:".."},e.chatLog.length>=1?e.chatLog[(null===(n=e.chatLog)||void 0===n?void 0:n.length)-1].textMsg:null))),l.a.createElement("p",{className:"messages__user__date"},e.chatLog.length>=1?new Date(1e3*e.chatLog[(null===(i=e.chatLog)||void 0===i?void 0:i.length)-1].date.seconds).toLocaleString():null)))})):l.a.createElement("h4",{style:{fontSize:"14px",fontWeight:"600",textAlign:"center"}},"Start messaging people from the pen button above. Users will be here"))))),this.state.loadedChatLog<1?l.a.createElement("div",{className:"messages--empty--container flex-column"}," ",l.a.createElement("div",{className:"messages--side--inner flex-column"},l.a.createElement("div",null,l.a.createElement(J.c,{className:"messages__send__logo"})),l.a.createElement("h3",null,"Your Messages"),l.a.createElement("p",null,"Send private photos and messages to a friend or group."),l.a.createElement("button",null,"Send message"))):l.a.createElement("div",{className:"messages--chatlog--container"},l.a.createElement("div",{className:"messages--chatbox--header flex-row"},l.a.createElement(f.a,{src:null===i||void 0===i?void 0:i.userAvatarUrl}),l.a.createElement("div",{className:"messages--user--info space__between"},l.a.createElement("p",null,l.a.createElement(P.a,{line:1,ellipsis:".."},null===i||void 0===i?void 0:i.userName)," "),l.a.createElement("div",{className:"desktop-only"},l.a.createElement(J.b,null)))),l.a.createElement("div",{className:"messages--chatbox--body"},null===i||void 0===i||null===(e=i.chatLog)||void 0===e?void 0:e.map((function(e,n){return l.a.createElement("div",{key:(null===e||void 0===e?void 0:e.uid)+n,className:"message--outer"},l.a.createElement("span",{ref:function(e){return t.autoScroll=e}}),l.a.createElement("div",{className:(null===e||void 0===e?void 0:e.uid)===(null===a||void 0===a?void 0:a.uid)?"sender flex-column":"receiver"},l.a.createElement("div",{className:"message--text"},l.a.createElement("span",null,null===e||void 0===e?void 0:e.textMsg))))}))),this.state.showEmojis?l.a.createElement("div",{style:{opacity:this.state.showEmojis?"1":"0",transition:"all 0.5s ease"},className:"chat--emojis--box flex-row"},l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude0d ")}},"\ud83d\ude0d"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude02 ")}},"\ud83d\ude02"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude04 ")}},"\ud83d\ude04"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude0a ")}},"\ud83d\ude0a"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude18 ")}},"\ud83d\ude18"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude01 ")}},"\ud83d\ude01"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude22 ")}},"\ud83d\ude22"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude0e ")}},"\ud83d\ude0e"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude0b ")}},"\ud83d\ude0b"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude1c ")}},"\ud83d\ude1c"),l.a.createElement("span",{onClick:function(){return t.selectEmoji("\ud83d\ude2b ")}},"\ud83d\ude2b")):null,l.a.createElement("div",{className:"messages--bottom--form flex-row"},l.a.createElement("form",{onSubmit:function(e){return t.submitMessage(e)},className:"flex-row"},l.a.createElement(de.a,{onClick:function(){return t.setState({showEmojis:!t.state.showEmojis})},className:"smiley__icon"}),l.a.createElement("input",{onChange:function(e){return t.setState({inputValue:e.target.value})},value:this.state.inputValue,className:"message__input",placeholder:"Message..."}),this.state.inputValue?l.a.createElement("input",{type:"submit",value:"Send"}):null))))))))}}]),a}(n.Component);fe.contextType=A;var he=fe,Ee=Object(s.f)((function(e){var t,a,i,o,s=Object(n.useContext)(A),h=s.receivedData,E=s.closeNotificationAlert,g=Object(I.a)(S),N=Object(r.a)(g,1)[0],b=function(e){var t,a,n=null===h||void 0===h||null===(t=h.notifications)||void 0===t?void 0:t.isUpdate,l=null===h||void 0===h||null===(a=h.notifications)||void 0===a?void 0:a.isNewMsg;("isUpdate"===e&&n||"isNewMsg"===e&&l)&&E(e)};return l.a.createElement(c,null,l.a.createElement("header",{id:"mobNav",className:"mobile--nav flex-row"},l.a.createElement("nav",{className:"header--nav"},l.a.createElement("ul",{className:"header--ul flex-row"},l.a.createElement("li",null,l.a.createElement(u.c,{exact:!0,to:"/",activeClassName:"active-nav-link"},l.a.createElement(d.b,{style:{fontSize:"26px"}}))),N?l.a.createElement("li",{className:"like__icon__item"},l.a.createElement(u.c,{onClick:function(){return b("isNewMsg")},to:"/messages",activeClassName:"active-nav-link"},l.a.createElement(m.d,null),(null===h||void 0===h||null===(t=h.notifications)||void 0===t?void 0:t.isNewMsg)&&"/messages"!==e.location.pathname?l.a.createElement("div",{className:"like__noti__dot"}):null," ")):null,N?l.a.createElement("li",null,l.a.createElement(u.c,{to:"/add-post",activeClassName:"active-nav-link"},l.a.createElement(p.a,null))):null,N?l.a.createElement("li",{className:"like__icon__item",onClick:function(){return b("isUpdate")}},l.a.createElement(u.c,{to:"/notifications",activeClassName:"active-nav-link"},l.a.createElement(v.a,null),(null===h||void 0===h||null===(a=h.notifications)||void 0===a?void 0:a.isUpdate)&&(null===(i=h.notifications)||void 0===i||null===(o=i.list)||void 0===o?void 0:o.length)>=1?l.a.createElement("div",{className:"like__noti__dot"}):null)):null,N?l.a.createElement("li",null,l.a.createElement(u.c,{to:"/profile",activeClassName:"active-nav-link"},l.a.createElement(f.a,{src:"",alt:"",className:"header__user__avatar flex-column"}))):null))))})),ge=function(e){var t,a,n,i=Object(I.a)(S),o=(i._,i.loading),s=e.context,r=s.igVideoImg,u=s.handleFollowing,d=s.getUsersProfile,m=s.changeMainState,v=s.receivedData;return l.a.createElement(c,null,o?l.a.createElement("h3",null,"Loading..."):l.a.createElement("div",{className:"mob--notifications--container noti--popup--inner desktop-comp"},l.a.createElement("div",{className:"mob--noti--title"},l.a.createElement("h4",null,"Activity")),(null===v||void 0===v||null===(t=v.notifications)||void 0===t?void 0:t.list.length)>=1?l.a.createElement("ul",{id:"mobNotifications",className:"noti--popup--ul mob--notifications flex-column"},null===v||void 0===v||null===(a=v.notifications)||void 0===a||null===(n=a.list)||void 0===n?void 0:n.map((function(e,t){return l.a.createElement("div",{key:null===e||void 0===e?void 0:e.notiId},l.a.createElement(F,{notification:e,igVideoImg:r,myData:v,handleFollowing:u,getUsersProfile:d,changeMainState:m,postIndex:t}))}))):l.a.createElement("div",null,l.a.createElement("h4",{style:{textAlign:"center"}},"No notifications available right now"))))},Ne=Object(s.f)((function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=a[0],o=a[1],s=e.uid,u=e.userName,d=e.avatarUrl,m=(e.date,e.receivedData),v=e.handleFollowing,p=e.getUsersProfile,h=e.handleUsersModal;Object(n.useEffect)((function(){o(!!(null===m||void 0===m?void 0:m.following.filter((function(e){return e.receiverUid===s}))[0]))}),[null===m||void 0===m?void 0:m.following]);return l.a.createElement(c,null,l.a.createElement("div",{className:"modal--user--item flex-row"},l.a.createElement("div",{className:"modal--item--inner flex-row acc-action"},l.a.createElement(f.a,{src:d,alt:u}),l.a.createElement("div",{className:"modal--user--info flex-column",onClick:function(){return p(s),h(!1,"",""),void e.history.push("/user-profile")}},l.a.createElement("h3",null,u))),s!==m.uid?l.a.createElement("button",{disabled:!s,onClick:function(){return v(i,s,u,d,null===m||void 0===m?void 0:m.uid,null===m||void 0===m?void 0:m.userName,null===m||void 0===m?void 0:m.userAvatarUrl)},className:i?"profile__btn prof__btn__unfollowed":"profile__btn prof__btn__followed"}," ",i?"unfollow":"follow"):null))})),be=function(e){var t,a=Object(n.useContext)(A),i=a.handleUsersModal,o=a.openUsersModal,s=a.usersModalList,r=a.receivedData,c=a.handleFollowing,u=a.getUsersProfile;switch(null===s||void 0===s?void 0:s.type){case"followers":t=null===s||void 0===s?void 0:s.list.map((function(e,t){return l.a.createElement(Ne,{key:(null===e||void 0===e?void 0:e.senderUid)+t,uid:null===e||void 0===e?void 0:e.senderUid,userName:null===e||void 0===e?void 0:e.senderName,avatarUrl:null===e||void 0===e?void 0:e.senderAvatarUrl,date:null===e||void 0===e?void 0:e.date,receivedData:r,handleFollowing:c,getUsersProfile:u,handleUsersModal:i})}));break;case"following":t=null===s||void 0===s?void 0:s.list.map((function(e,t){return l.a.createElement(Ne,{key:(null===e||void 0===e?void 0:e.receiverUid)+t,uid:null===e||void 0===e?void 0:e.receiverUid,userName:null===e||void 0===e?void 0:e.receiverName,avatarUrl:null===e||void 0===e?void 0:e.receiverAvatarUrl,date:null===e||void 0===e?void 0:e.date,receivedData:r,handleFollowing:c,getUsersProfile:u,handleUsersModal:i})}));break;case"likes":t=null===s||void 0===s?void 0:s.list.map((function(e,t){return l.a.createElement(Ne,{key:(null===e||void 0===e?void 0:e.id)+t,uid:null===e||void 0===e?void 0:e.id,userName:null===e||void 0===e?void 0:e.userName,avatarUrl:null===e||void 0===e?void 0:e.userAvatarUrl,date:"",receivedData:r,handleFollowing:c,getUsersProfile:u,handleUsersModal:i})}))}return l.a.createElement(n.Fragment,null,l.a.createElement("section",null,o?l.a.createElement("div",{className:"usersModal--container flex-column"},l.a.createElement("div",{className:"usersModal--inner flex-column"},l.a.createElement("div",{style:{transform:o?"translate(0)":"translate(-150%)"},className:"usersModal--card"},l.a.createElement("div",{className:"userModal--card--header flex-row"},l.a.createElement("h1",null,null===s||void 0===s?void 0:s.type),l.a.createElement("h4",{className:"userModal__close",onClick:function(){return i(!1,"","")}},"\xd7")),l.a.createElement("div",{className:"userModal--card--body"},(null===s||void 0===s?void 0:s.list.length)>=1?t:l.a.createElement("div",{className:"useModal--empty--users flex-column"},l.a.createElement("h3",null,"No users available")))))):null,l.a.createElement("div",{style:{opacity:o?"1":"0",display:o?"block":"none",transition:"all 0.4s ease"},className:"backdrop ",onClick:function(){return i(!1,"")}})))},ke=Object(s.f)((function(e){var t,a,i,o,s,c,u,d,v=Object(I.a)(S),h=Object(r.a)(v,2),E=(h[0],h[1]),g=Object(n.useState)(!0),N=Object(r.a)(g,2),b=N[0],k=N[1],w=Object(n.useContext)(A),y=w.receivedData,C=w.handleUsersModal,_=w.igVideoImg,x=w.authLogout;return l.a.createElement(n.Fragment,null,l.a.createElement("section",{id:"usersProfile",className:"users--profile--container "},l.a.createElement("div",{className:"desktop-comp"},l.a.createElement("div",{className:"user--top--info flex-row"},l.a.createElement("div",{className:"user--pic--container flex-column"},l.a.createElement(f.a,{className:"user__picture",src:null===y||void 0===y?void 0:y.userAvatarUrl,alt:null===y||void 0===y?void 0:y.userName})),l.a.createElement("div",{className:"desktop--inner--info flex-column"},l.a.createElement("div",{className:"users--action--row flex-row"},l.a.createElement("h5",{className:"profile__display__name"},null===y||void 0===y?void 0:y.userName,(null===y||void 0===y?void 0:y.isVerified)?l.a.createElement(B.a,{className:"verified_icon"}):null),l.a.createElement("div",{className:"flex-row"},l.a.createElement("button",{className:"edit__btn mr-1"},"Edit profile"),l.a.createElement("button",{className:"mobile-only",onClick:function(){x(),window.location.reload()}},"Log out"))),l.a.createElement("div",{className:"desktop--social--row flex-row"},l.a.createElement("p",null,l.a.createElement("span",null,null===y||void 0===y||null===(t=y.posts)||void 0===t?void 0:t.length.toLocaleString())," ",(null===y||void 0===y||null===(a=y.posts)||void 0===a?void 0:a.length)>1?"posts":"post"),l.a.createElement("p",{className:"acc-action",onClick:function(){return C(!0,null===y||void 0===y?void 0:y.followers,"followers")}},l.a.createElement("span",null,null===y||void 0===y||null===(i=y.followers)||void 0===i?void 0:i.length.toLocaleString())," ",(null===y||void 0===y||null===(o=y.followers)||void 0===o?void 0:o.length)>1?"followers":"follower"),l.a.createElement("p",{className:"acc-action",onClick:function(){return C(!0,null===y||void 0===y?void 0:y.following,"following")}},l.a.createElement("span",null,null===y||void 0===y||null===(s=y.following)||void 0===s?void 0:s.length.toLocaleString())," following")))),l.a.createElement("div",{className:"bottom--row--user-info flex-column"},l.a.createElement("p",null,null===y||void 0===y?void 0:y.bio)),l.a.createElement("div",{className:"users--profile--stripe flex-row"},(null===y||void 0===y||null===(c=y.posts)||void 0===c?void 0:c.length)>=1?l.a.createElement("div",{className:"profile--stripe--inner flex-row"},l.a.createElement("span",{onClick:function(){return k(!0)},style:{color:b?"#1d8cd6":"#8e8e8e",borderTop:b?"2px solid #363636":"none"}},l.a.createElement(R.a,null)),l.a.createElement("span",{onClick:function(){return k(!1)},style:{color:b?"#8e8e8e":"#1d8cd6",borderTop:b?"none":"2px solid #363636"}},l.a.createElement(m.b,null))):null),(null===y||void 0===y||null===(u=y.posts)||void 0===u?void 0:u.length)>=1?l.a.createElement("div",{className:b?"users--profile--posts":"users--profile--rowLine flex-column"},E?E?l.a.createElement(se.a,Object.assign({variant:"determinate",size:40,thickness:4},e,{value:100})):null:null===y||void 0===y||null===(d=y.posts)||void 0===d?void 0:d.map((function(e,t){return l.a.createElement("div",{key:(null===e||void 0===e?void 0:e.id)+t,className:"profile--posts--container"},l.a.createElement("img",{onClick:function(){null===e||void 0===e||e.id},style:{width:b?"100%":"auto"},className:"users__profile__image",src:"image"===(null===e||void 0===e?void 0:e.contentType)?null===e||void 0===e?void 0:e.contentURL:"video"===(null===e||void 0===e?void 0:e.contentType)?_:null,alt:"post #".concat(t)}))}))):l.a.createElement("div",{className:"empty--posts--container flex-column"},l.a.createElement("div",{className:"empty--posts--inner flex-column"},l.a.createElement("div",{className:"plus--icon--container flex-column"},l.a.createElement(p.c,{className:"plus__icon"})),l.a.createElement("h3",null,"Profile"),l.a.createElement("p",null,"When you share photos and videos, they'll ",l.a.createElement("br",null)," be appear on your profile page"),l.a.createElement("span",null,"Share your first photo or video")))),l.a.createElement("div",{id:"userProfFooter",className:"userProfile--footer auth--footer--container desktop-only"},l.a.createElement("ul",{className:"auth--footer--ul flex-row"},l.a.createElement("li",null,"ABOUT"),l.a.createElement("li",null,"HELP"),l.a.createElement("li",null,"PRESS"),l.a.createElement("li",null,"API"),l.a.createElement("li",null,"JOBS"),l.a.createElement("li",null,"PRIVACY"),l.a.createElement("li",null,"TERMS"),l.a.createElement("li",null,"LOCATIONS"),l.a.createElement("li",null,"TOP ACCOUNTS"),l.a.createElement("li",null,"HASHTAGS"),l.a.createElement("li",null,"LANGUAGE")),l.a.createElement("div",{className:"auth--copyright"},l.a.createElement("span",null,"This app was made for personal use"),l.a.createElement("span",null,"@2020 Instagram clone made by Mahmoud Farargy")))))})),we=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).inputField=l.a.createRef(),n.autoScroll=l.a.createRef(),n.state={insertedComment:"",replayData:{}},n}return Object(N.a)(a,[{key:"replayFunc",value:function(e,t,a,n,l){this.inputField.current&&this.inputField.current.focus(),this.setState(Object(E.a)(Object(E.a)({},this.state),{},{replayData:{postOwnerName:e,commentIndex:t,postIndex:a,postId:n,postOwnerId:l},insertedComment:"@".concat(e," ")}))}},{key:"submitComment",value:function(e){var t;e.preventDefault(),(null===(t=this.autoScroll)||void 0===t?void 0:t.scrollIntoView)&&this.autoScroll.scrollIntoView({behavior:"smooth"});var a=this.props.context,n=a.usersProfileData,l=a.handleSubmittingComments,i=a.handleSubComments,o=a.currentPostIndex,s=a.uid,r=a.receivedData,c=null===n||void 0===n?void 0:n.posts;if(c){var u=c[null===o||void 0===o?void 0:o.index],d=u.id,m=u.postOwnerId,v=u.contentURL,p=u.contentType;""!==this.state.insertedComment&&(this.state.replayData!=={}&&/^[@]/.test(this.state.insertedComment)?i(this.state.replayData,this.state.insertedComment,null===r||void 0===r?void 0:r.userAvatarUrl,!1,v,p):l("others",null===o||void 0===o?void 0:o.index,s,null===r||void 0===r?void 0:r.userName,this.state.insertedComment,null===n||void 0===n?void 0:n.userAvatarUrl,new Date,d,m,v,p),this.setState({insertedComment:"",replayData:{}}))}}},{key:"render",value:function(){var e=this,t=this.props.context,a=t.handleLikingComments,n=t.receivedData,i=t.uid,o=t.handleUsersModal,s=t.openCommentsModal,r=t.usersProfileData,u=t.currentPostIndex,d=t.handleCommentsModal;if(null===r||void 0===r?void 0:r.posts)var m=null===r||void 0===r?void 0:r.posts[null===u||void 0===u?void 0:u.index],v=m.contentType,p=m.contentURL,f=m.comments,h=m.likes,E=m.postOwnerId;return l.a.createElement(c,null,l.a.createElement("section",null,(null===t||void 0===t?void 0:t.openCommentsModal)?l.a.createElement("div",{id:"commentsModal",className:"comments--modal--container flex-column"},l.a.createElement("div",{className:"comments--modal--header"},l.a.createElement("h4",null,"Comments"),l.a.createElement("span",{className:"comments__close__modal",onClick:function(){return d(!1)}},"\xd7")),l.a.createElement("div",{className:"comments--modal--card"},l.a.createElement("div",{className:"comments--modal--inner",style:{transform:s?"translate(0)":"translate(-150vw)"}},null===f||void 0===f?void 0:f.map((function(t,s){return l.a.createElement(V,{key:s,comment:t,handleLikingComments:a,postOwnerId:E,commentIndex:s,date:null===t||void 0===t?void 0:t.date,replayFunc:e.replayFunc.bind(e),postIndex:u.index,myName:null===n||void 0===n?void 0:n.userName,likes:h,userAvatar:null===n||void 0===n?void 0:n.userAvatarUrl,uid:i,contentType:v,contentURL:p,handleUsersModal:o})}))),l.a.createElement("form",{onSubmit:function(t){return e.submitComment(t)},className:"post--bottom--comment--adding"},l.a.createElement("input",{ref:this.inputField,value:this.state.insertedComment,onChange:function(t){return e.setState({insertedComment:t.target.value})},className:"post__bottom__input",type:"text",placeholder:"Add a commment.."}),l.a.createElement("button",{type:"submit",disabled:this.state.insertedComment.length<1,className:this.state.insertedComment.length>=1?"post__bottom__button":"disabled post__bottom__button"},"Post")),l.a.createElement("span",{ref:function(t){return e.autoScroll=t}}))):null,l.a.createElement("div",{style:{opacity:s?"1":"0",display:s?"block":"none",transition:"all 0.4s ease"},className:"backdrop ",onClick:function(){return d(!1)}})))}}]),a}(n.PureComponent),ye=function(e){var t=Object(n.useContext)(A),a=t.updatedReceivedData,i=t.updateUserState,o=t.updateUID,r=t.receivedData,c=t.updateSuggestionsList;return Object(n.useEffect)((function(){var e=S.onAuthStateChanged((function(e){e?(_.collection("users").get().then((function(e){e.forEach((function(e){c(e.data())}))})),i(!0),o(null===e||void 0===e?void 0:e.uid),a()):i(!1)}));return function(){e()}}),[]),Object(n.useEffect)((function(){pe()(document).ready((function(){(null===t||void 0===t?void 0:t.openUsersModal)||(null===t||void 0===t?void 0:t.openCommentsModal)?pe()("body").css("overflow","hidden"):pe()("body").css("overflow","auto")}))}),[null===t||void 0===t?void 0:t.openUsersModal,null===t||void 0===t?void 0:t.openCommentsModal]),l.a.createElement(n.Fragment,null,l.a.createElement("main",null,(null===t||void 0===t?void 0:t.openUsersModal)?l.a.createElement(be,null):null,(null===t||void 0===t?void 0:t.openCommentsModal)?l.a.createElement(we,{context:t}):null,l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/auth",component:$}),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(T,null),l.a.createElement(ae,null),l.a.createElement(Ee,null)),l.a.createElement(s.a,{exact:!0,path:"/messages"},l.a.createElement(T,null),l.a.createElement(he,{messages:null===r||void 0===r?void 0:r.messages}),l.a.createElement(Ee,null)),l.a.createElement(s.a,{exact:!0,path:"/add-post"},l.a.createElement(T,null),l.a.createElement(oe,null),l.a.createElement(Ee,null)),l.a.createElement(s.a,{exact:!0,path:"/notifications"},l.a.createElement(T,null),l.a.createElement(ge,{context:t}),l.a.createElement(Ee,null)),l.a.createElement(s.a,{exact:!0,path:"/profile"},l.a.createElement(T,null),l.a.createElement(ke,null),l.a.createElement(Ee,null)),l.a.createElement(s.a,{exact:!0,path:"/user-profile"},l.a.createElement(T,null),l.a.createElement(re,null),l.a.createElement(Ee,null)),l.a.createElement(s.a,{exact:!0,path:"/browse-post"},l.a.createElement(T,null),l.a.createElement(ue,null),l.a.createElement(Ee,null)))))},Ce=l.a.createElement(L,null,l.a.createElement(u.a,null,l.a.createElement(ye,null)));o.a.render(Ce,document.getElementById("app"))},56:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/instagram-video.2d93770d.png"},67:function(e,t){e.exports="data:image/png;base64,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"},68:function(e,t,a){e.exports=a.p+"static/media/get-app-gp.f06b9089.png"},78:function(e,t,a){e.exports=a(103)},98:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.2531a691.chunk.js.map